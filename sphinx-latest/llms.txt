authors.md

---

- tocdepth  
    2

# Sphinx authors

## Maintainers

*Listed alphabetically in forename, surname order*

  - Adam Turner \<@AA-Turner\>
  - Bénédikt Tran \<@picnixz\>
  - Chris Sewell \<@chrisjsewell\>
  - François Freitag \<@francoisfreitag\>
  - Jakob Lykke Andersen \<@jakobandersen\>
  - Jean-François B. \<@jfbu\>
  - Stephen Finucane \<@stephenfin\>
  - Takayuki Shimizukawa \<@shimizukawa\>
  - Takeshi Komiya \<@tk0miya\>

## Contributors

*Listed alphabetically in forename, surname order*

  - Aaron Carlisle -- basic theme and templating improvements
  - Adam Dangoor -- improved static typing
  - Adrián Chaves (Gallaecio) -- coverage builder improvements
  - Alastair Houghton -- Apple Help builder
  - Alex Gaynor -- linkcheck retry on errors
  - Alexander Todorov -- inheritance\_diagram tests and improvements
  - Andi Albrecht -- agogo theme
  - Antonio Valentino -- qthelp builder, docstring inheritance
  - Antti Kaihola -- doctest extension (skipif option)
  - Barry Warsaw -- setup command improvements
  - Ben Egan -- Napoleon improvements
  - Benjamin Peterson -- unittests
  - Blaise Laflamme -- pyramid theme
  - Brecht Machiels -- builder entry-points
  - Bruce Mitchener -- Minor epub improvement
  - Buck Evan -- dummy builder
  - Charles Duffy -- original graphviz extension
  - Chris Holdgraf -- improved documentation structure
  - Chris Lamb -- reproducibility fixes
  - Christopher Perkins -- autosummary integration
  - Dan MacKinlay -- metadata fixes
  - Daniel Bültmann -- todo extension
  - Daniel Eades -- improved static typing
  - Daniel Hahler -- testing and CI improvements
  - Daniel Pizetta -- inheritance diagram improvements
  - Dave Kuhlman -- original LaTeX writer
  - Dimitri Papadopoulos Orfanos -- linting and spelling
  - Dmitry Shachnev -- modernisation and reproducibility
  - Doug Hellmann -- graphviz improvements
  - Eric Larson -- better error messages
  - Eric N. Vander Weele -- autodoc improvements
  - Eric Wieser -- autodoc improvements
  - Etienne Desautels -- apidoc module
  - Ezio Melotti -- collapsible sidebar JavaScript
  - Filip Vavera -- napoleon todo directive
  - Glenn Matthews -- python domain signature improvements
  - Gregory Szorc -- performance improvements
  - Henrique Bastos -- SVG support for graphviz extension
  - Hernan Grecco -- search improvements
  - Hong Xu -- svg support in imgmath extension and various bug fixes
  - Horst Gutmann -- internationalization support
  - Hugo van Kemenade -- support FORCE\_COLOR and NO\_COLOR
  - Ian Lee -- quickstart improvements
  - Jacob Mason -- websupport library (GSOC project)
  - James Addison -- linkcheck and HTML search improvements
  - Jeppe Pihl -- literalinclude improvements
  - Jeremy Maitin-Shepard -- C++ domain improvements
  - Joel Wurtz -- cellspanning support in LaTeX
  - John Waltman -- Texinfo builder
  - Jon Dufresne -- modernisation
  - Josip Dzolonga -- coverage builder
  - Juan Luis Cano Rodríguez -- new tutorial (2021)
  - Julien Palard -- Colspan and rowspan in text builder
  - Justus Magin -- napoleon improvements
  - Kevin Dunn -- MathJax extension
  - KINEBUCHI Tomohiko -- typing Sphinx as well as docutils
  - Kurt McKee -- documentation updates
  - Lars Hupfeldt Nielsen - OpenSSL FIPS mode md5 bug fix
  - Louis Maddox -- better docstrings
  - Łukasz Langa -- partial support for autodoc
  - Marco Buttu -- doctest extension (pyversion option)
  - Martin Hans -- autodoc improvements
  - Martin Larralde -- additional napoleon admonitions
  - Martin Liška -- option directive and role improvements
  - Martin Mahner -- nature theme
  - Matthew Fernandez -- todo extension fix
  - Matthew Woodcraft -- text output improvements
  - Matthias Geier -- style improvements
  - Michael Droettboom -- inheritance\_diagram extension
  - Michael Wilson -- Intersphinx HTTP basic auth support
  - Nathan Damon -- bugfix in validation of static paths in html builders
  - Nils Kattenbeck -- pygments dark style
  - Pauli Virtanen -- autodoc improvements, autosummary extension
  - Rafael Fontenelle -- internationalisation
  - A. Rafey Khan -- improved intersphinx typing
  - Roland Meister -- epub builder
  - Sebastian Wiesner -- image handling, distutils support
  - Stefan Seefeld -- toctree improvements
  - Stefan van der Walt -- autosummary extension
  - T. Powers -- HTML output improvements
  - Taku Shimizu -- epub3 builder
  - Thomas Lamb -- linkcheck builder
  - Thomas Waldmann -- apidoc module fixes
  - Tim Hoffmann -- theme improvements
  - Vince Salvino -- JavaScript search improvements
  - Will Maier -- directory HTML builder
  - Zac Hatfield-Dodds -- doctest reporting improvements, intersphinx performance

## Former maintainers

*Listed alphabetically in forename, surname order*

Former maintainers are those who haven't committed in the last two years. Those on the list below may become active maintainers again at any time.

  - Armin Ronacher \<@mitsuhiko\>
  - Daniel Neuhäuser \<@DasIch\>
  - Georg Brandl \<<georg@python.org>\>
  - Rob Ruana \<@RobRuana\>
  - Robert Lehmann \<@lehmannro\>
  - Timotheus Kampik \<@TimKam\>
  - Yoshiki Shibukawa \<@shibukawa\>

Many thanks for all contributions\!

---

0.1.md

---

# Sphinx 0.1

## Release 0.1.61950 (Mar 26, 2008)

  - sphinx.quickstart: Fix format string for Makefile.

## Release 0.1.61945 (Mar 26, 2008)

  - sphinx.htmlwriter, sphinx.latexwriter: Support the `.. image::` directive by copying image files to the output directory.
  - sphinx.builder: Consistently name "special" HTML output directories with a leading underscore; this means `_sources` and `_static`.
  - sphinx.environment: Take dependent files into account when collecting the set of outdated sources.
  - sphinx.directives: Record files included with `.. literalinclude::` as dependencies.
  - sphinx.ext.autodoc: Record files from which docstrings are included as dependencies.
  - sphinx.builder: Rebuild all HTML files in case of a template change.
  - sphinx.builder: Handle unavailability of TOC relations (previous/ next chapter) more gracefully in the HTML builder.
  - sphinx.latexwriter: Include fncychap.sty which doesn't seem to be very common in TeX distributions. Add a `clean` target in the latex Makefile. Really pass the correct paper and size options to the LaTeX document class.
  - setup: On Python 2.4, don't egg-depend on Docutils if a Docutils is already installed -- else it will be overwritten.

## Release 0.1.61843 (Mar 24, 2008)

  - sphinx.quickstart: Really don't create a makefile if the user doesn't want one.
  - setup: Don't install scripts twice, via setuptools entry points and distutils scripts. Only install via entry points.
  - sphinx.builder: Don't recognize the HTML builder's copied source files (under `_sources`) as input files if the source suffix is `.txt`.
  - sphinx.highlighting: Generate correct markup for LaTeX Verbatim environment escapes even if Pygments is not installed.
  - sphinx.builder: The WebHTMLBuilder is now called PickleHTMLBuilder.
  - sphinx.htmlwriter: Make parsed-literal blocks work as expected, not highlighting them via Pygments.
  - sphinx.environment: Don't error out on reading an empty source file.

## Release 0.1.61798 (Mar 23, 2008)

  - sphinx: Work with Docutils SVN snapshots as well as 0.4.
  - sphinx.ext.doctest: Make the group in which doctest blocks are placed selectable, and default to `'default'`.
  - sphinx.ext.doctest: Replace `<BLANKLINE>` in doctest blocks by real blank lines for presentation output, and remove doctest options given inline.
  - sphinx.environment: Move doctest\_blocks out of block\_quotes to support indented doctest blocks.
  - sphinx.ext.autodoc: Render `.. automodule::` docstrings in a section node, so that module docstrings can contain proper sectioning.
  - sphinx.ext.autodoc: Use the module's encoding for decoding docstrings, rather than requiring ASCII.

## Release 0.1.61611 (Mar 21, 2008)

  - First public release.

---

0.2.md

---

# Sphinx 0.2

## Release 0.2 (Apr 27, 2008)

### Incompatible changes

  - Jinja, the template engine used for the default HTML templates, is now no longer shipped with Sphinx. If it is not installed automatically for you (it is now listed as a dependency in `setup.py`), install it manually from PyPI. This will also be needed if you're using Sphinx from a SVN checkout; in that case please also remove the `sphinx/jinja` directory that may be left over from old revisions.

  - The clumsy handling of the `index.html` template was removed. The config value `html_index` is gone, and `html_additional_pages` should be used instead. If you need it, the old `index.html` template is still there, called `defindex.html`, and you can port your html\_index template, using Jinja inheritance, by changing your template:
    
        {% extends "defindex.html" %}
        {% block tables %}
        ... old html_index template content ...
        {% endblock %}
    
    and putting `'index': name of your template` in `html_additional_pages`.

  - In the layout template, redundant `block`s were removed; you should use Jinja's standard `{{ super() }}` mechanism instead, as explained in the (newly written) templating docs.

### New features added

  - Extension API (Application object):
      - Support a new method, `add_crossref_type`. It works like `add_description_unit` but the directive will only create a target and no output.
      - Support a new method, `add_transform`. It takes a standard Docutils `Transform` subclass which is then applied by Sphinx's reader on parsing reST document trees.
      - Add support for other template engines than Jinja, by adding an abstraction called a "template bridge". This class handles rendering of templates and can be changed using the new configuration value "template\_bridge".
      - The config file itself can be an extension (if it provides a `setup()` function).
  - Markup:
      - New directive, `currentmodule`. It can be used to indicate the module name of the following documented things without creating index entries.
      - Allow giving a different title to documents in the toctree.
      - Allow giving multiple options in a `cmdoption` directive.
      - Fix display of class members without explicit class name given.
  - Templates (HTML output):
      - `index.html` renamed to `defindex.html`, see above.
      - There's a new config value, `html_title`, that controls the overall "title" of the set of Sphinx docs. It is used instead everywhere instead of "Projectname vX.Y documentation" now.
      - All references to "documentation" in the templates have been removed, so that it is now easier to use Sphinx for non-documentation documents with the default templates.
      - Templates now have an XHTML doctype, to be consistent with Docutils' HTML output.
      - You can now create an OpenSearch description file with the `html_use_opensearch` config value.
      - You can now quickly include a logo in the sidebar, using the `html_logo` config value.
      - There are new blocks in the sidebar, so that you can easily insert content into the sidebar.
  - LaTeX output:
      - The `sphinx.sty` package was cleaned of unused stuff.
      - You can include a logo in the title page with the `latex_logo` config value.
      - You can define the link colors and a border and background color for verbatim environments.

Thanks to Jacob Kaplan-Moss, Talin, Jeroen Ruigrok van der Werven and Sebastian Wiesner for suggestions.

### Bugs fixed

  - sphinx.ext.autodoc: Don't check `__module__` for explicitly given members. Remove "self" in class constructor argument list.
  - sphinx.htmlwriter: Don't use os.path for joining image HREFs.
  - sphinx.htmlwriter: Don't use SmartyPants for HTML attribute values.
  - sphinx.latexwriter: Implement option lists. Also, some other changes were made to `sphinx.sty` in order to enhance compatibility and remove old unused stuff. Thanks to Gael Varoquaux for that\!
  - sphinx.roles: Fix referencing glossary terms with explicit targets.
  - sphinx.environment: Don't swallow TOC entries when resolving subtrees.
  - sphinx.quickstart: Create a sensible default latex\_documents setting.
  - sphinx.builder, sphinx.environment: Gracefully handle some user error cases.
  - sphinx.util: Follow symbolic links when searching for documents.

---

0.3.md

---

# Sphinx 0.3

## Release 0.3 (May 6, 2008)

### New features added

  - The `toctree` directive now supports a `glob` option that allows glob-style entries in the content.
  - If the `pygments_style` config value contains a dot it's treated as the import path of a custom Pygments style class.
  - A new config value, `exclude_dirs`, can be used to exclude whole directories from the search for source files.
  - The configuration directory (containing `conf.py`) can now be set independently from the source directory. For that, a new command-line option `-c` has been added.
  - A new directive `tabularcolumns` can be used to give a tabular column specification for LaTeX output. Tables now use the `tabulary` package. Literal blocks can now be placed in tables, with several caveats.
  - A new config value, `latex_use_parts`, can be used to enable parts in LaTeX documents.
  - Autodoc now skips inherited members for classes, unless you give the new `inherited-members` option.
  - A new config value, `autoclass_content`, selects if the docstring of the class' `__init__` method is added to the directive's body.
  - Support for C++ class names (in the style `Class::Function`) in C function descriptions.
  - Support for a `toctree_only` item in items for the `latex_documents` config value. This only includes the documents referenced by TOC trees in the output, not the rest of the file containing the directive.

### Bugs fixed

  - sphinx.htmlwriter: Correctly write the TOC file for any structure of the master document. Also encode non-ASCII characters as entities in TOC and index file. Remove two remaining instances of hard-coded "documentation".
  - sphinx.ext.autodoc: descriptors are detected properly now.
  - sphinx.latexwriter: implement all reST admonitions, not just `note` and `warning`.
  - Lots of little fixes to the LaTeX output and style.
  - Fix OpenSearch template and make template URL absolute. The `html_use_opensearch` config value now must give the base URL.
  - Some unused files are now stripped from the HTML help file build.

---

0.4.md

---

# Sphinx 0.4

## Release 0.4.3 (Oct 8, 2008)

  - Fix a bug in autodoc with directly given autodoc members.
  - Fix a bug in autodoc that would import a module twice, once as "module", once as "module.".
  - Fix a bug in the HTML writer that created duplicate `id` attributes for section titles with Docutils 0.5.
  - Properly call `super()` in overridden blocks in templates.
  - Add a fix when using XeTeX.
  - Unify handling of LaTeX escaping.
  - Rebuild everything when the `extensions` config value changes.
  - Don't try to remove a nonexisting static directory.
  - Fix an indentation problem in production lists.
  - Fix encoding handling for literal include files: `literalinclude` now has an `encoding` option that defaults to UTF-8.
  - Fix the handling of non-ASCII characters entered in quickstart.
  - Fix a crash with nonexisting image URIs.

## Release 0.4.2 (Jul 29, 2008)

  - Fix rendering of the `samp` role in HTML.
  - Fix a bug with LaTeX links to headings leading to a wrong page.
  - Reread documents with globbed toctrees when source files are added or removed.
  - Add a missing parameter to PickleHTMLBuilder.handle\_page().
  - Put inheritance info always on its own line.
  - Don't automatically enclose code with whitespace in it in quotes; only do this for the `samp` role.
  - autodoc now emits a more precise error message when a module can't be imported or an attribute can't be found.
  - The JavaScript search now uses the correct file name suffix when referring to found items.
  - The automodule directive now accepts the `inherited-members` and `show-inheritance` options again.
  - You can now rebuild the docs normally after relocating the source and/or doctree directory.

## Release 0.4.1 (Jul 5, 2008)

  - Added sub-/superscript node handling to TextBuilder.
  - Label names in references are now case-insensitive, since reST label names are always lowercased.
  - Fix linkcheck builder crash for malformed URLs.
  - Add compatibility for admonitions and Docutils 0.5.
  - Remove the silly restriction on "rubric" in the LaTeX writer: you can now write arbitrary "rubric" directives, and only those with a title of "Footnotes" will be ignored.
  - Copy the HTML logo to the output `_static` directory.
  - Fix LaTeX code for modules with underscores in names and platforms.
  - Fix a crash with nonlocal image URIs.
  - Allow the usage of :noindex: in `automodule` directives, as documented.
  - Fix the `delete()` docstring processor function in autodoc.
  - Fix warning message for nonexisting images.
  - Fix JavaScript search in Internet Explorer.

## Release 0.4 (Jun 23, 2008)

### New features added

  - `tocdepth` can be given as a file-wide metadata entry, and specifies the maximum depth of a TOC of this file.
  - The new config value `default_role` can be used to select the default role for all documents.
  - Sphinx now interprets field lists with fields like `:param foo:` in description units.
  - The new `staticmethod` directive can be used to mark methods as static methods.
  - HTML output:
      - The "previous" and "next" links have a more logical structure, so that by following "next" links you can traverse the entire TOC tree.
      - The new event `html-page-context` can be used to include custom values into the context used when rendering an HTML template.
      - Document metadata is now in the default template context, under the name `metadata`.
      - The new config value `html_favicon` can be used to set a favicon for the HTML output. Thanks to Sebastian Wiesner.
      - The new config value `html_use_index` can be used to switch index generation in HTML documents off.
      - The new config value `html_split_index` can be used to create separate index pages for each letter, to be used when the complete index is too large for one page.
      - The new config value `html_short_title` can be used to set a shorter title for the documentation which is then used in the navigation bar.
      - The new config value `html_show_sphinx` can be used to control whether a link to Sphinx is added to the HTML footer.
      - The new config value `html_file_suffix` can be used to set the HTML file suffix to e.g. `.xhtml`.
      - The directories in the `html_static_path` can now contain subdirectories.
      - The module index now isn't collapsed if the number of submodules is larger than the number of toplevel modules.
  - The image directive now supports specifying the extension as `.*`, which makes the builder select the one that matches best. Thanks to Sebastian Wiesner.
  - The new config value `exclude_trees` can be used to exclude whole subtrees from the search for source files.
  - Defaults for configuration values can now be callables, which allows dynamic defaults.
  - The new TextBuilder creates plain-text output.
  - Python 3-style signatures, giving a return annotation via `->`, are now supported.
  - Extensions:
      - The autodoc extension now offers a much more flexible way to manipulate docstrings before including them into the output, via the new `autodoc-process-docstring` event.
      - The `autodoc` extension accepts signatures for functions, methods and classes now that override the signature got via introspection from Python code.
      - The `autodoc` extension now offers a `show-inheritance` option for autoclass that inserts a list of bases after the signature.
      - The autodoc directives now support the `noindex` flag option.

### Bugs fixed

  - Correctly report the source location for docstrings included with autodoc.
  - Fix the LaTeX output of description units with multiple signatures.
  - Handle the figure directive in LaTeX output.
  - Handle raw admonitions in LaTeX output.
  - Fix determination of the title in HTML help output.
  - Handle project names containing spaces.
  - Don't write SSI-like comments in HTML output.
  - Rename the "sidebar" class to "sphinxsidebar" in order to stay different from reST sidebars.
  - Use a binary TOC in HTML help generation to fix issues links without explicit anchors.
  - Fix behavior of references to functions/methods with an explicit title.
  - Support citation, subscript and superscript nodes in LaTeX writer.
  - Provide the standard "class" directive as "cssclass"; else it is shadowed by the Sphinx-defined directive.
  - Fix the handling of explicit module names given to autoclass directives. They now show up with the correct module name in the generated docs.
  - Enable autodoc to process Unicode docstrings.
  - The LaTeX writer now translates line blocks with `\raggedright`, which plays nicer with tables.
  - Fix bug with directories in the HTML builder static path.

---

0.5.md

---

# Sphinx 0.5

## Release 0.5.2 (Mar 24, 2009)

  - Properly escape `|` in LaTeX output.
  - \#71: If a decoding error occurs in source files, print a warning and replace the characters by "?".
  - Fix a problem in the HTML search if the index takes too long to load.
  - Don't output system messages while resolving, because they would stay in the doctrees even if keep\_warnings is false.
  - \#82: Determine the correct path for dependencies noted by docutils. This fixes behavior where a source with dependent files was always reported as changed.
  - Recognize toctree directives that are not on section toplevel, but within block items, such as tables.
  - Use a new RFC base URL, since rfc.org seems down.
  - Fix a crash in the todolist directive when no todo items are defined.
  - Don't call LaTeX or dvipng over and over again if it was not found once, and use text-only latex as a substitute in that case.
  - Fix problems with footnotes in the LaTeX output.
  - Prevent double hyphens becoming en-dashes in literal code in the LaTeX output.
  - Open literalinclude files in universal newline mode to allow arbitrary newline conventions.
  - Actually make the `-Q` option work.
  - \#86: Fix explicit document titles in toctrees.
  - \#81: Write environment and search index in a manner that is safe from exceptions that occur during dumping.
  - \#80: Fix UnicodeErrors when a locale is set with setlocale().

## Release 0.5.1 (Dec 15, 2008)

  - \#67: Output warnings about failed doctests in the doctest extension even when running in quiet mode.
  - \#72: In pngmath, make it possible to give a full path to LaTeX and dvipng on Windows. For that to work, the `pngmath_latex` and `pngmath_dvipng` options are no longer split into command and additional arguments; use `pngmath_latex_args` and `pngmath_dvipng_args` to give additional arguments.
  - Don't crash on failing doctests with non-ASCII characters.
  - Don't crash on writing status messages and warnings containing unencodable characters.
  - Warn if a doctest extension block doesn't contain any code.
  - Fix the handling of `:param:` and `:type:` doc fields when they contain markup (especially cross-referencing roles).
  - \#65: Fix storage of depth information for PNGs generated by the pngmath extension.
  - Fix autodoc crash when automethod is used outside a class context.
  - \#68: Fix LaTeX writer output for images with specified height.
  - \#60: Fix wrong generated image path when including images in sources in subdirectories.
  - Fix the JavaScript search when html\_copy\_source is off.
  - Fix an indentation problem in autodoc when documenting classes with the option `autoclass_content = "both"` set.
  - Don't crash on empty index entries, only emit a warning.
  - Fix a typo in the search JavaScript code, leading to unusable search function in some setups.

## Release 0.5 (Nov 23, 2008) -- Birthday release\!

### New features added

  - Markup features:
      - Citations are now global: all citation defined in any file can be referenced from any file. Citations are collected in a bibliography for LaTeX output.
      - Footnotes are now properly handled in the LaTeX builder: they appear at the location of the footnote reference in text, not at the end of a section. Thanks to Andrew McNamara for the initial patch.
      - "System Message" warnings are now automatically removed from the built documentation, and only written to stderr. If you want the old behavior, set the new config value `keep_warnings` to `True`.
      - Glossary entries are now automatically added to the index.
      - Figures with captions can now be referred to like section titles, using the `:ref:` role without an explicit link text.
      - Added `cmember` role for consistency.
      - Lists enumerated by letters or roman numerals are now handled like in standard reST.
      - The `seealso` directive can now also be given arguments, as a short form.
      - You can now document several programs and their options with the new `program` directive.
  - HTML output and templates:
      - Incompatible change: The "root" relation link (top left in the relbar) now points to the `master_doc` by default, no longer to a document called "index". The old behavior, while useful in some situations, was somewhat unexpected. Override the "rootrellink" block in the template to customize where it refers to.
      - The JavaScript search now searches for objects before searching in the full text.
      - TOC tree entries now have CSS classes that make it possible to style them depending on their depth.
      - Highlighted code blocks now have CSS classes that make it possible to style them depending on their language.
      - HTML `<meta>` tags via the Docutils `meta` directive are now supported.
      - `SerializingHTMLBuilder` was added as new abstract builder that can be subclassed to serialize build HTML in a specific format. The `PickleHTMLBuilder` is a concrete subclass of it that uses pickle as serialization implementation.
      - `JSONHTMLBuilder` was added as another `SerializingHTMLBuilder` subclass that dumps the generated HTML into JSON files for further processing.
      - The `rellinks` block in the layout template is now called `linktags` to avoid confusion with the relbar links.
      - The HTML builders have two additional attributes now that can be used to disable the anchor-link creation after headlines and definition links.
      - Only generate a module index if there are some modules in the documentation.
  - New and changed config values:
      - Added support for internationalization in generated text with the `language` and `locale_dirs` config values. Many thanks to language contributors:
          - Horst Gutmann -- German
          - Pavel Kosina -- Czech
          - David Larlet -- French
          - Michał Kandulski -- Polish
          - Yasushi Masuda -- Japanese
          - Guillem Borrell -- Spanish
          - Luc Saffre and Peter Bertels -- Dutch
          - Fred Lin -- Traditional Chinese
          - Roger Demetrescu -- Brazilian Portuguese
          - Rok Garbas -- Slovenian
      - The new config value `highlight_language` set a global default for highlighting. When `'python3'` is selected, console output blocks are recognized like for `'python'`.
      - Exposed Pygments' lexer guessing as a highlight "language" `guess`.
      - The new config value `latex_elements` allows to override all LaTeX snippets that Sphinx puts into the generated .tex file by default.
      - Added `exclude_dirnames` config value that can be used to exclude e.g. CVS directories from source file search.
      - Added `source_encoding` config value to select input encoding.
  - Extensions:
      - The new extensions `sphinx.ext.jsmath` and `sphinx.ext.pngmath` provide math support for both HTML and LaTeX builders.
      - The new extension `sphinx.ext.intersphinx` half-automatically creates links to Sphinx documentation of Python objects in other projects.
      - The new extension `sphinx.ext.todo` allows the insertion of "To do" directives whose visibility in the output can be toggled. It also adds a directive to compile a list of all todo items.
      - sphinx.ext.autodoc has a new event `autodoc-process-signature` that allows tuning function signature introspection.
      - sphinx.ext.autodoc has a new event `autodoc-skip-member` that allows tuning which members are included in the generated content.
      - Respect `__all__` when autodocumenting module members.
      - The `automodule` directive now supports the `synopsis`, `deprecated` and `platform` options.
  - Extension API:
      - `Sphinx.add_node()` now takes optional visitor methods for the HTML, LaTeX and text translators; this prevents having to manually patch the classes.
      - Added `Sphinx.add_javascript()` that adds scripts to load in the default HTML template.
      - Added new events: `source-read`, `env-updated`, `env-purge-doc`, `missing-reference`, `build-finished`.
  - Other changes:
      - Added a command-line switch `-Q`: it will suppress warnings.
      - Added a command-line switch `-A`: it can be used to supply additional values into the HTML templates.
      - Added a command-line switch `-C`: if it is given, no configuration file `conf.py` is required.
      - Added a distutils command `build_sphinx`: When Sphinx is installed, you can call `python setup.py build_sphinx` for projects that have Sphinx documentation, which will build the docs and place them in the standard distutils build directory.
      - In quickstart, if the selected root path already contains a Sphinx project, complain and abort.

### Bugs fixed

  - \#51: Escape configuration values placed in HTML templates.
  - \#44: Fix small problems in HTML help index generation.
  - Fix LaTeX output for line blocks in tables.
  - \#38: Fix "illegal unit" error when using pixel image widths/heights.
  - Support table captions in LaTeX output.
  - \#39: Work around a bug in Jinja that caused "\<generator ...\>" to be emitted in HTML output.
  - Fix a problem with module links not being generated in LaTeX output.
  - Fix the handling of images in different directories.
  - \#29: Support option lists in the text writer. Make sure that dashes introducing long option names are not contracted to en-dashes.
  - Support the "scale" option for images in HTML output.
  - \#25: Properly escape quotes in HTML help attribute values.
  - Fix LaTeX build for some description environments with `:noindex:`.
  - \#24: Don't crash on uncommon casing of role names (like `:Class:`).
  - Only output ANSI colors on color terminals.
  - Update to newest fncychap.sty, to fix problems with non-ASCII characters at the start of chapter titles.
  - Fix a problem with index generation in LaTeX output, caused by hyperref not being included last.
  - Don't disregard return annotations for functions without any parameters.
  - Don't throw away labels for code blocks.

---

0.6.md

---

# Sphinx 0.6

## Release 0.6.7 (Jun 05, 2010)

  - \#440: Remove usage of a Python \>= 2.5 API in the `literalinclude` directive.
  - Fix a bug that prevented some references being generated in the LaTeX builder.
  - \#428: Add some missing CSS styles for standard Docutils classes.
  - \#432: Fix UnicodeErrors while building LaTeX in translated locale.

## Release 0.6.6 (May 25, 2010)

  - Handle raw nodes in the `text` writer.
  - Fix a problem the Qt help project generated by the `qthelp` builder that would lead to no content being displayed in the Qt Assistant.
  - \#393: Fix the usage of Unicode characters in mathematic formulas when using the `pngmath` extension.
  - \#404: Make `\and` work properly in the author field of the `latex_documents` setting.
  - \#409: Make the `highlight_language` config value work properly in the LaTeX builder.
  - \#418: Allow relocation of the translation JavaScript files to the system directory on Unix systems.
  - \#414: Fix handling of Windows newlines in files included with the `literalinclude` directive.
  - \#377: Fix crash in linkcheck builder.
  - \#387: Fix the display of search results in `dirhtml` output.
  - \#376: In autodoc, fix display of parameter defaults containing backslashes.
  - \#370: Fix handling of complex list item labels in LaTeX output.
  - \#374: Make the `doctest_path` config value of the doctest extension actually work.
  - Fix the handling of multiple toctrees when creating the global TOC for the `toctree()` template function.
  - Fix the handling of hidden toctrees when creating the global TOC for the `toctree()` template function.
  - Fix the handling of nested lists in the text writer.
  - \#362: In autodoc, check for the existence of `__self__` on function objects before accessing it.
  - \#353: Strip leading and trailing whitespace when extracting search words in the search function.

## Release 0.6.5 (Mar 01, 2010)

  - In autodoc, fix the omission of some module members explicitly documented using documentation comments.
  - \#345: Fix cropping of sidebar scroll bar with `stickysidebar` option of the default theme.
  - \#341: Always generate UNIX newlines in the quickstart Makefile.
  - \#338: Fix running with `-C` under Windows.
  - In autodoc, allow customizing the signature of an object where the built-in mechanism fails.
  - \#331: Fix output for enumerated lists with start values in LaTeX.
  - Make the `start-after` and `end-before` options to the `literalinclude` directive work correctly if not used together.
  - \#321: Fix link generation in the LaTeX builder.

## Release 0.6.4 (Jan 12, 2010)

  - Improve the handling of non-Unicode strings in the configuration.
  - \#316: Catch OSErrors occurring when calling graphviz with arguments it doesn't understand.
  - Restore compatibility with Pygments \>= 1.2.
  - \#295: Fix escaping of hyperref targets in LaTeX output.
  - \#302: Fix links generated by the `:doc:` role for LaTeX output.
  - \#286: collect todo nodes after the whole document has been read; this allows placing substitution references in todo items.
  - \#294: do not ignore an explicit `today` config value in a LaTeX build.
  - The `alt` text of inheritance diagrams is now much cleaner.
  - Ignore images in section titles when generating link captions.
  - \#310: support exception messages in the `testoutput` blocks of the `doctest` extension.
  - \#293: line blocks are styled properly in HTML output.
  - \#285: make the `locale_dirs` config value work again.
  - \#303: `html_context` values given on the command line via `-A` should not override other values given in conf.py.
  - Fix a bug preventing incremental rebuilds for the `dirhtml` builder.
  - \#299: Fix the mangling of quotes in some literal blocks.
  - \#292: Fix path to the search index for the `dirhtml` builder.
  - Fix a Jython compatibility issue: make the dependence on the `parser` module optional.
  - \#238: In autodoc, catch all errors that occur on module import, not just `ImportError`.
  - Fix the handling of non-data, but non-method descriptors in autodoc.
  - When copying file times, ignore OSErrors raised by `os.utime()`.

## Release 0.6.3 (Sep 03, 2009)

  - Properly add C module filenames as dependencies in autodoc.
  - \#253: Ignore graphviz directives without content instead of raising an unhandled exception.
  - \#241: Fix a crash building LaTeX output for documents that contain a todolist directive.
  - \#252: Make it easier to change the build dir in the Makefiles generated by quickstart.
  - \#220: Fix CSS so that displaymath really is centered.
  - \#222: Allow the "Footnotes" header to be translated.
  - \#225: Don't add whitespace in generated HTML after inline tags.
  - \#227: Make `literalinclude` work when the document's path name contains non-ASCII characters.
  - \#229: Fix autodoc failures with members that raise errors on `getattr()`.
  - \#205: When copying files, don't copy full stat info, only modification times.
  - \#232: Support non-ASCII metadata in Qt help builder.
  - Properly format bullet lists nested in definition lists for LaTeX.
  - Section titles are now allowed inside `only` directives.
  - \#201: Make `centered` directive work in LaTeX output.
  - \#206: Refuse to overwrite an existing master document in sphinx-quickstart.
  - \#208: Use MS-sanctioned locale settings, determined by the `language` config option, in the HTML help builder.
  - \#210: Fix nesting of HTML tags for displayed math from pngmath extension.
  - \#213: Fix centering of images in LaTeX output.
  - \#211: Fix compatibility with Docutils 0.5.

## Release 0.6.2 (Jun 16, 2009)

  - \#130: Fix obscure IndexError in doctest extension.
  - \#167: Make glossary sorting case-independent.
  - \#196: Add a warning if an extension module doesn't have a `setup()` function.
  - \#158: Allow '..' in template names, and absolute template paths; Jinja 2 by default disables both.
  - When highlighting Python code, ignore extra indentation before trying to parse it as Python.
  - \#191: Don't escape the tilde in URIs in LaTeX.
  - Don't consider contents of source comments for the search index.
  - Set the default encoding to `utf-8-sig` to handle files with a UTF-8 BOM correctly.
  - \#178: apply `add_function_parentheses` config value to C functions as promised.
  - \#173: Respect the Docutils `title` directive.
  - \#172: The `obj` role now links to modules as promised.
  - \#19: Tables now can have a "longtable" class, in order to get correctly broken into pages in LaTeX output.
  - Look for Sphinx message catalogs in the system default path before trying `sphinx/locale`.
  - Fix the search for methods via "classname.methodname".
  - \#155: Fix Python 2.4 compatibility: exceptions are old-style classes there.
  - \#150: Fix display of the "sphinxdoc" theme on Internet Explorer versions 6 and 7.
  - \#146: Don't fail to generate LaTeX when the user has an active `.docutils` configuration.
  - \#29: Don't generate visible "-{-}" in option lists in LaTeX.
  - Fix cross-reference roles when put into substitutions.
  - Don't put image "alt" text into table-of-contents entries.
  - In the LaTeX writer, do not raise an exception on too many section levels, just use the "subparagraph" level for all of them.
  - \#145: Fix autodoc problem with automatic members that refuse to be getattr()'d from their parent.
  - If specific filenames to build are given on the command line, check that they are within the source directory.
  - Fix autodoc crash for objects without a `__name__`.
  - Fix intersphinx for installations without urllib2.HTTPSHandler.
  - \#134: Fix pending\_xref leftover nodes when using the todolist directive from the todo extension.

## Release 0.6.1 (Mar 26, 2009)

  - \#135: Fix problems with LaTeX output and the graphviz extension.
  - \#132: Include the autosummary "module" template in the distribution.

## Release 0.6 (Mar 24, 2009)

### New features added

  - Incompatible changes:
      - Templating now requires the Jinja2 library, which is an enhanced version of the old Jinja1 engine. Since the syntax and semantic is largely the same, very few fixes should be necessary in custom templates.
    
      - The "document" div tag has been moved out of the `layout.html` template's "document" block, because the closing tag was already outside. If you overwrite this block, you need to remove your "document" div tag as well.
    
      - The `autodoc_skip_member` event now also gets to decide whether to skip members whose name starts with underscores. Previously, these members were always automatically skipped. Therefore, if you handle this event, add something like this to your event handler to restore the old behavior:
        
            if name.startswith('_'):
                return True
  - Theming support, see the new section in the documentation.
  - Markup:
      - Due to popular demand, added a `:doc:` role which directly links to another document without the need of creating a label to which a `:ref:` could link to.
      - \#4: Added a `:download:` role that marks a non-document file for inclusion into the HTML output and links to it.
      - Added an `only` directive that can selectively include text based on enabled "tags". Tags can be given on the command line. Also, the current builder output format (e.g. "html" or "latex") is always a defined tag.
      - \#10: Added HTML section numbers, enabled by giving a `:numbered:` flag to the `toctree` directive.
      - \#114: Added an `abbr` role to markup abbreviations and acronyms.
      - The `literalinclude` directive now supports several more options, to include only parts of a file.
      - The `toctree` directive now supports a `:hidden:` flag, which will prevent links from being generated in place of the directive -- this allows you to define your document structure, but place the links yourself.
      - \#123: The `glossary` directive now supports a `:sorted:` flag that sorts glossary entries alphabetically.
      - Paths to images, literal include files and download files can now be absolute (like `/images/foo.png`). They are treated as relative to the top source directory.
      - \#52: There is now a `hlist` directive, creating a compact list by placing distributing items into multiple columns.
      - \#77: If a description environment with info field list only contains one `:param:` entry, no bullet list is generated.
      - \#6: Don't generate redundant `<ul>` for top-level TOC tree items, which leads to a visual separation of TOC entries.
      - \#23: Added a `classmethod` directive along with `method` and `staticmethod`.
      - Scaled images now get a link to the unscaled version.
      - SVG images are now supported in HTML (via `<object>` and `<embed>` tags).
      - Added a `toctree` callable to the templates, and the ability to include external links in toctrees. The 'collapse' keyword argument indicates whether or not to only display subitems of the current page. (Defaults to `True`.)
  - Configuration:
      - The new config value `rst_epilog` can contain reST that is appended to each source file that is read. This is the right place for global substitutions.
      - The new `html_add_permalinks` config value can be used to switch off the generated "paragraph sign" permalinks for each heading and definition environment.
      - The new `html_show_sourcelink` config value can be used to switch off the links to the reST sources in the sidebar.
      - The default value for `htmlhelp_basename` is now the project title, cleaned up as a filename.
      - The new `modindex_common_prefix` config value can be used to ignore certain package names for module index sorting.
      - The new `trim_footnote_reference_space` config value mirrors the Docutils config value of the same name and removes the space before a footnote reference that is necessary for reST to recognize the reference.
      - The new `latex_additional_files` config value can be used to copy files (that Sphinx doesn't copy automatically, e.g. if they are referenced in custom LaTeX added in `latex_elements`) to the build directory.
  - Builders:
      - The HTML builder now stores a small file named `.buildinfo` in its output directory. It stores a hash of config values that can be used to determine if a full rebuild needs to be done (e.g. after changing `html_theme`).
      - New builder for Qt help collections, by Antonio Valentino.
      - The new `DirectoryHTMLBuilder` (short name `dirhtml`) creates a separate directory for every page, and places the page there in a file called `index.html`. Therefore, page URLs and links don't need to contain `.html`.
      - The new `html_link_suffix` config value can be used to select the suffix of generated links between HTML files.
      - \#96: The LaTeX builder now supports figures wrapped by text, when using the `figwidth` option and right/left alignment.
  - New translations:
      - Italian by Sandro Dentella.
      - Ukrainian by Petro Sasnyk.
      - Finnish by Jukka Inkeri.
      - Russian by Alexander Smishlajev.
  - Extensions and API:
      - New `graphviz` extension to embed graphviz graphs.
      - New `inheritance_diagram` extension to embed... inheritance diagrams\!
      - New `autosummary` extension that generates summaries of modules and automatic documentation of modules.
      - Autodoc now has a reusable Python API, which can be used to create custom types of objects to auto-document (e.g. Zope interfaces). See also `Sphinx.add_autodocumenter()`.
      - Autodoc now handles documented attributes.
      - Autodoc now handles inner classes and their methods.
      - Autodoc can document classes as functions now if explicitly marked with `autofunction`.
      - Autodoc can now exclude single members from documentation via the `exclude-members` option.
      - Autodoc can now order members either alphabetically (like previously) or by member type; configurable either with the config value `autodoc_member_order` or a `member-order` option per directive.
      - The function `Sphinx.add_directive()` now also supports Docutils 0.5-style directive classes. If they inherit from `sphinx.util.compat.Directive`, they also work with Docutils 0.4.
      - There is now a `Sphinx.add_lexer()` method to be able to use custom Pygments lexers easily.
      - There is now `Sphinx.add_generic_role()` to mirror the Docutils' own function.
  - Other changes:
      - Config overrides for single dict keys can now be given on the command line.
      - There is now a `doctest_global_setup` config value that can be used to give setup code for all doctests in the documentation.
      - Source links in HTML are now generated with `rel="nofollow"`.
      - Quickstart can now generate a Windows `make.bat` file.
      - \#62: There is now a `-w` option for sphinx-build that writes warnings to a file, in addition to stderr.
      - There is now a `-W` option for sphinx-build that turns warnings into errors.

---

1.0.md

---

# Sphinx 1.0

## Release 1.0.8 (Sep 23, 2011)

  - \#627: Fix tracebacks for AttributeErrors in autosummary generation.
  - Fix the `abbr` role when the abbreviation has newlines in it.
  - \#727: Fix the links to search results with custom object types.
  - \#648: Fix line numbers reported in warnings about undefined references.
  - \#696, \#666: Fix C++ array definitions and template arguments that are not type names.
  - \#633: Allow footnotes in section headers in LaTeX output.
  - \#616: Allow keywords to be linked via intersphinx.
  - \#613: Allow Unicode characters in production list token names.
  - \#720: Add dummy visitors for graphviz nodes for text and man.
  - \#704: Fix image file duplication bug.
  - \#677: Fix parsing of multiple signatures in C++ domain.
  - \#637: Ignore Emacs lock files when looking for source files.
  - \#544: Allow .pyw extension for importable modules in autodoc.
  - \#700: Use `$(MAKE)` in quickstart-generated Makefiles.
  - \#734: Make sidebar search box width consistent in browsers.
  - \#644: Fix spacing of centered figures in HTML output.
  - \#767: Safely encode SphinxError messages when printing them to sys.stderr.
  - \#611: Fix LaTeX output error with a document with no sections but a link target.
  - Correctly treat built-in method descriptors as methods in autodoc.
  - \#706: Stop monkeypatching the Python textwrap module.
  - \#657: viewcode now works correctly with source files that have non-ASCII encoding.
  - \#669: Respect the `noindex` flag option in py:module directives.
  - \#675: Fix IndexErrors when including nonexisting lines with `literalinclude`.
  - \#676: Respect custom function/method parameter separator strings.
  - \#682: Fix JS incompatibility with jQuery \>= 1.5.
  - \#693: Fix double encoding done when writing HTMLHelp .hhk files.
  - \#647: Do not apply SmartyPants in parsed-literal blocks.
  - C++ domain now supports array definitions.

## Release 1.0.7 (Jan 15, 2011)

  - \#347: Fix wrong generation of directives of static methods in autosummary.
  - \#599: Import PIL as `from PIL import Image`.
  - \#558: Fix longtables with captions in LaTeX output.
  - Make token references work as hyperlinks again in LaTeX output.
  - \#572: Show warnings by default when reference labels cannot be found.
  - \#536: Include line number when complaining about missing reference targets in nitpicky mode.
  - \#590: Fix inline display of graphviz diagrams in LaTeX output.
  - \#589: Build using app.build() in setup command.
  - Fix a bug in the inheritance diagram exception that caused base classes to be skipped if one of them is a builtin.
  - Fix general index links for C++ domain objects.
  - \#332: Make admonition boundaries in LaTeX output visible.
  - \#573: Fix KeyErrors occurring on rebuild after removing a file.
  - Fix a traceback when removing files with globbed toctrees.
  - If an autodoc object cannot be imported, always re-read the document containing the directive on next build.
  - If an autodoc object cannot be imported, show the full traceback of the import error.
  - Fix a bug where the removal of download files and images wasn't noticed.
  - \#571: Implement `~` cross-reference prefix for the C domain.
  - Fix regression of LaTeX output with the fix of \#556.
  - \#568: Fix lookup of class attribute documentation on descriptors so that comment documentation now works.
  - Fix traceback with `only` directives preceded by targets.
  - Fix tracebacks occurring for duplicate C++ domain objects.
  - Fix JavaScript domain links to objects with `$` in their name.

## Release 1.0.6 (Jan 04, 2011)

  - \#581: Fix traceback in Python domain for empty cross-reference targets.
  - \#283: Fix literal block display issues on Chrome browsers.
  - \#383, \#148: Support sorting a limited range of accented characters in the general index and the glossary.
  - \#570: Try decoding `-D` and `-A` command-line arguments with the locale's preferred encoding.
  - \#528: Observe `locale_dirs` when looking for the JS translations file.
  - \#574: Add special code for better support of Japanese documents in the LaTeX builder.
  - Regression of \#77: If there is only one parameter given with `:param:` markup, the bullet list is now suppressed again.
  - \#556: Fix missing paragraph breaks in LaTeX output in certain situations.
  - \#567: Emit the `autodoc-process-docstring` event even for objects without a docstring so that it can add content.
  - \#565: In the LaTeX builder, not only literal blocks require different table handling, but also quite a few other list-like block elements.
  - \#515: Fix tracebacks in the viewcode extension for Python objects that do not have a valid signature.
  - Fix strange reports of line numbers for warnings generated from autodoc-included docstrings, due to different behavior depending on Docutils version.
  - Several fixes to the C++ domain.

## Release 1.0.5 (Nov 12, 2010)

  - \#557: Add CSS styles required by Docutils 0.7 for aligned images and figures.
  - In the Makefile generated by LaTeX output, do not delete pdf files on clean; they might be required images.
  - \#535: Fix LaTeX output generated for line blocks.
  - \#544: Allow `.pyw` as a source file extension.

## Release 1.0.4 (Sep 17, 2010)

  - \#524: Open intersphinx inventories in binary mode on Windows, since version 2 contains zlib-compressed data.
  - \#513: Allow giving non-local URIs for JavaScript files, e.g. in the JSMath extension.
  - \#512: Fix traceback when `intersphinx_mapping` is empty.

## Release 1.0.3 (Aug 23, 2010)

  - \#495: Fix internal vs. external link distinction for links coming from a Docutils table-of-contents.
  - \#494: Fix the `maxdepth` option for the `toctree()` template callable when used with `collapse=True`.
  - \#507: Fix crash parsing Python argument lists containing brackets in string literals.
  - \#501: Fix regression when building LaTeX docs with figures that don't have captions.
  - \#510: Fix inheritance diagrams for classes that are not picklable.
  - \#497: Introduce separate background color for the sidebar collapse button, making it easier to see.
  - \#502, \#503, \#496: Fix small layout bugs in several builtin themes.

## Release 1.0.2 (Aug 14, 2010)

  - \#490: Fix cross-references to objects of types added by the <span class="title-ref">\~sphinx.application.Sphinx.add\_object\_type</span> API function.
  - Fix handling of doc field types for different directive types.
  - Allow breaking long signatures, continuing with backlash-escaped newlines.
  - Fix unwanted styling of C domain references (because of a namespace clash with Pygments styles).
  - Allow references to PEPs and RFCs with explicit anchors.
  - \#471: Fix LaTeX references to figures.
  - \#482: When doing a non-exact search, match only the given type of object.
  - \#481: Apply non-exact search for Python reference targets with `.name` for modules too.
  - \#484: Fix crash when duplicating a parameter in an info field list.
  - \#487: Fix setting the default role to one provided by the `oldcmarkup` extension.
  - \#488: Fix crash when json-py is installed, which provides a `json` module but is incompatible to simplejson.
  - \#480: Fix handling of target naming in intersphinx.
  - \#486: Fix removal of `!` for all cross-reference roles.

## Release 1.0.1 (Jul 27, 2010)

  - \#470: Fix generated target names for reST domain objects; they are not in the same namespace.
  - \#266: Add Bengali language.
  - \#473: Fix a bug in parsing JavaScript object names.
  - \#474: Fix building with SingleHTMLBuilder when there is no toctree.
  - Fix display names for objects linked to by intersphinx with explicit targets.
  - Fix building with the JSON builder.
  - Fix hyperrefs in object descriptions for LaTeX.

## Release 1.0 (Jul 23, 2010)

### Incompatible changes

  - Support for domains has been added. A domain is a collection of directives and roles that all describe objects belonging together, e.g. elements of a programming language. A few builtin domains are provided:
      - Python
      - C
      - C++
      - JavaScript
      - reStructuredText
  - The old markup for defining and linking to C directives is now deprecated. It will not work anymore in future versions without activating the `oldcmarkup` extension; in Sphinx 1.0, it is activated by default.
  - Removed support for old dependency versions; requirements are now:
      - Docutils \>= 0.5
      - Jinja2 \>= 2.2
  - Removed deprecated elements:
      - `exclude_dirs` config value
      - `sphinx.builder` module

### Features added

  - General:
      - Added a "nitpicky" mode that emits warnings for all missing references. It is activated by the `sphinx-build -n` command-line switch or the `nitpicky` config value.
      - Added `latexpdf` target in quickstart Makefile.
  - Markup:
      - The `menuselection` and `guilabel` roles now support ampersand accelerators.
      - New more compact doc field syntax is now recognized: `:param type name: description`.
      - Added `tab-width` option to `literalinclude` directive.
      - Added `titlesonly` option to :rst`toctree` directive.
      - Added the `prepend` and `append` options to the `literalinclude` directive.
      - \#284: All docinfo metadata is now put into the document metadata, not just the author.
      - The `ref` role can now also reference tables by caption.
      - The `include` directive now supports absolute paths, which are interpreted as relative to the source directory.
      - In the Python domain, references like `` `.name ``\` now look for matching names with any prefix if no direct match is found.
  - Configuration:
      - Added `rst_prolog` config value.
      - Added `html_secnumber_suffix` config value to control section numbering format.
      - Added `html_compact_lists` config value to control Docutils' compact lists feature.
      - The `html_sidebars` config value can now contain patterns as keys, and the values can be lists that explicitly select which sidebar templates should be rendered. That means that the builtin sidebar contents can be included only selectively.
      - `html_static_path` can now contain single file entries.
      - The new universal config value `exclude_patterns` makes the old `unused_docs`, `exclude_trees` and `exclude_dirnames` obsolete.
      - Added `html_output_encoding` config value.
      - Added the `latex_docclass` config value and made the "twoside" documentclass option overridable by "oneside".
      - Added the `trim_doctest_flags` config value, which is true by default.
      - Added `html_show_copyright` config value.
      - Added `latex_show_pagerefs`<span class="title-ref"> and </span><span class="title-ref">latex\_show\_urls</span>\` config values.
      - The behavior of `html_file_suffix`<span class="title-ref"> changed slightly: the empty string now means "no suffix" instead of "default suffix", use </span><span class="title-ref">None</span>\` for "default suffix".
  - New builders:
      - Added a builder for the Epub format.
      - Added a builder for manual pages.
      - Added a single-file HTML builder.
  - HTML output:
      - Inline roles now get a CSS class with their name, allowing styles to customize their appearance. Domain-specific roles get two classes, `domain` and `domain-rolename`.
      - References now get the class `internal` if they are internal to the whole project, as opposed to internal to the current page.
      - External references can be styled differently with the new `externalrefs` theme option for the default theme.
      - In the default theme, the sidebar can experimentally now be made collapsible using the new `collapsiblesidebar` theme option.
      - \#129: Toctrees are now wrapped in a `div` tag with class `toctree-wrapper` in HTML output.
      - The <span class="title-ref">toctree</span> callable in templates now has a `maxdepth` keyword argument to control the depth of the generated tree.
      - The <span class="title-ref">toctree</span> callable in templates now accepts a `titles_only` keyword argument.
      - Added `htmltitle` block in layout template.
      - In the JavaScript search, allow searching for object names including the module name, like `sys.argv`.
      - Added new theme `haiku`, inspired by the Haiku OS user guide.
      - Added new theme `nature`.
      - Added new theme `agogo`, created by Andi Albrecht.
      - Added new theme `scrolls`, created by Armin Ronacher.
      - \#193: Added a `visitedlinkcolor` theme option to the default theme.
      - \#322: Improved responsiveness of the search page by loading the search index asynchronously.
  - Extension API:
      - Added `html-collect-pages`.
      - Added `needs_sphinx` config value and <span class="title-ref">\~sphinx.application.Sphinx.require\_sphinx</span> application API method.
      - \#200: Added <span class="title-ref">\!add\_stylesheet</span> application API method.
  - Extensions:
      - Added the `~sphinx.ext.viewcode` extension.
      - Added the `~sphinx.ext.extlinks` extension.
      - Added support for source ordering of members in autodoc, with `autodoc_member_order = 'bysource'`.
      - Added `autodoc_default_flags` config value, which can be used to select default flags for all autodoc directives.
      - Added a way for intersphinx to refer to named labels in other projects, and to specify the project you want to link to.
      - \#280: Autodoc can now document instance attributes assigned in `__init__` methods.
      - Many improvements and fixes to the `~sphinx.ext.autosummary` extension, thanks to Pauli Virtanen.
      - \#309: The `~sphinx.ext.graphviz` extension can now output SVG instead of PNG images, controlled by the `graphviz_output_format` config value.
      - Added `alt` option to :rst`graphviz` extension directives.
      - Added `exclude` argument to <span class="title-ref">.autodoc.between</span>.
  - Translations:
      - Added Croatian translation, thanks to Bojan Mihelač.
      - Added Turkish translation, thanks to Firat Ozgul.
      - Added Catalan translation, thanks to Pau Fernández.
      - Added simplified Chinese translation.
      - Added Danish translation, thanks to Hjorth Larsen.
      - Added Lithuanian translation, thanks to Dalius Dobravolskas.
  - Bugs fixed:
      - \#445: Fix links to result pages when using the search function of HTML built with the `dirhtml` builder.
      - \#444: In templates, properly re-escape values treated with the "striptags" Jinja filter.

---

1.1.md

---

# Sphinx 1.1

## Release 1.1.3 (Mar 10, 2012)

  - PR\#40: Fix `safe_repr` function to decode bytestrings with non-ASCII characters correctly.
  - PR\#37: Allow configuring sphinx-apidoc via `SPHINX_APIDOC_OPTIONS`.
  - PR\#34: Restore Python 2.4 compatibility.
  - PR\#36: Make the "bibliography to TOC" fix in LaTeX output specific to the document class.
  - \#695: When the highlight language "python" is specified explicitly, do not try to parse the code to recognize non-Python snippets.
  - \#859: Fix exception under certain circumstances when not finding appropriate objects to link to.
  - \#860: Do not crash when encountering invalid doctest examples, just emit a warning.
  - \#864: Fix crash with some settings of `modindex_common_prefix`.
  - \#862: Fix handling of `-D` and `-A` options on Python 3.
  - \#851: Recognize and warn about circular toctrees, instead of running into recursion errors.
  - \#853: Restore compatibility with Docutils trunk.
  - \#852: Fix HtmlHelp index entry links again.
  - \#854: Fix inheritance\_diagram raising attribute errors on builtins.
  - \#832: Fix crashes when putting comments or lone terms in a glossary.
  - \#834, \#818: Fix HTML help language/encoding mapping for all Sphinx supported languages.
  - \#844: Fix crashes when dealing with Unicode output in doctest extension.
  - \#831: Provide `--project` flag in setup\_command as advertised.
  - \#875: Fix reading config files under Python 3.
  - \#876: Fix quickstart test under Python 3.
  - \#870: Fix spurious KeyErrors when removing documents.
  - \#892: Fix single-HTML builder misbehaving with the master document in a subdirectory.
  - \#873: Fix assertion errors with empty `only` directives.
  - \#816: Fix encoding issues in the Qt help builder.

## Release 1.1.2 (Nov 1, 2011) -- 1.1.1 is a silly version number anyway\!

  - \#809: Include custom fixers in the source distribution.

## Release 1.1.1 (Nov 1, 2011)

  - \#791: Fix QtHelp, DevHelp and HtmlHelp index entry links.
  - \#792: Include "sphinx-apidoc" in the source distribution.
  - \#797: Don't crash on a misformatted glossary.
  - \#801: Make intersphinx work properly without SSL support.
  - \#805: Make the `Sphinx.add_index_to_domain` method work correctly.
  - \#780: Fix Python 2.5 compatibility.

## Release 1.1 (Oct 9, 2011)

### Incompatible changes

  - The `py:module` directive doesn't output its `platform` option value anymore. (It was the only thing that the directive did output, and therefore quite inconsistent.)
  - Removed support for old dependency versions; requirements are now:
      - Pygments \>= 1.2
      - Docutils \>= 0.7
      - Jinja2 \>= 2.3

### Features added

  - Added Python 3.x support.
  - New builders and subsystems:
      - Added a Texinfo builder.
      - Added i18n support for content, a `gettext` builder and related utilities.
      - Added the `websupport` library and builder.
      - \#98: Added a `sphinx-apidoc` script that autogenerates a hierarchy of source files containing autodoc directives to document modules and packages.
      - \#273: Add an API for adding full-text search support for languages other than English. Add support for Japanese.
  - Markup:
      - \#138: Added an :rst`index` role, to make inline index entries.
      - \#454: Added more index markup capabilities: marking see/seealso entries, and main entries for a given key.
      - \#460: Allowed limiting the depth of section numbers for HTML using the :rst`toctree`'s `numbered` option.
      - \#586: Implemented improved :rst`glossary` markup which allows multiple terms per definition.
      - \#478: Added `py:decorator` directive to describe decorators.
      - C++ domain now supports array definitions.
      - C++ domain now supports doc fields (`:param x:` inside directives).
      - Section headings in :rst`only` directives are now correctly handled.
      - Added `emphasize-lines` option to source code directives.
      - \#678: C++ domain now supports superclasses.
  - HTML builder:
      - Added `pyramid` theme.
      - \#559: `html_add_permalinks` is now a string giving the text to display in permalinks.
      - \#259: HTML table rows now have even/odd CSS classes to enable "Zebra styling".
      - \#554: Add theme option `sidebarwidth` to the basic theme.
  - Other builders:
      - \#516: Added new value of the `latex_show_urls` option to show the URLs in footnotes.
      - \#209: Added `text_newlines` and `text_sectionchars` config values.
      - Added `man_show_urls` config value.
      - \#472: linkcheck builder: Check links in parallel, use HTTP HEAD requests and allow configuring the timeout. New config values: `linkcheck_timeout` and `linkcheck_workers`.
      - \#521: Added `linkcheck_ignore` config value.
      - \#28: Support row/colspans in tables in the LaTeX builder.
  - Configuration and extensibility:
      - \#537: Added `nitpick_ignore`.
      - \#306: Added `env-get-outdated` event.
      - <span class="title-ref">\!Application.add\_stylesheet</span> now accepts full URIs.
  - Autodoc:
      - \#564: Add `autodoc_docstring_signature`. When enabled (the default), autodoc retrieves the signature from the first line of the docstring, if it is found there.
      - \#176: Provide `private-members` option for autodoc directives.
      - \#520: Provide `special-members` option for autodoc directives.
      - \#431: Doc comments for attributes can now be given on the same line as the assignment.
      - \#437: autodoc now shows values of class data attributes.
      - autodoc now supports documenting the signatures of `functools.partial` objects.
  - Other extensions:
      - Added the `sphinx.ext.mathjax` extension.
      - \#443: Allow referencing external graphviz files.
      - Added `inline` option to graphviz directives, and fixed the default (block-style) in LaTeX output.
      - \#590: Added `caption` option to graphviz directives.
      - \#553: Added `testcleanup` blocks in the doctest extension.
      - \#594: `trim_doctest_flags` now also removes `<BLANKLINE>` indicators.
      - \#367: Added automatic exclusion of hidden members in inheritance diagrams, and an option to selectively enable it.
      - Added `pngmath_add_tooltips`.
      - The math extension displaymath directives now support `name` in addition to `label` for giving the equation label, for compatibility with Docutils.
  - New locales:
      - \#221: Added Swedish locale.
      - \#526: Added Iranian locale.
      - \#694: Added Latvian locale.
      - Added Nepali locale.
      - \#714: Added Korean locale.
      - \#766: Added Estonian locale.
  - Bugs fixed:
      - \#778: Fix "hide search matches" link on pages linked by search.
      - Fix the source positions referenced by the "viewcode" extension.

---

1.2.md

---

# Sphinx 1.2

## Release 1.2.3 (released Sep 1, 2014)

### Features added

  - \#1518: `sphinx-apidoc` command now has a `--version` option to show version information and exit
  - New locales: Hebrew, European Portuguese, Vietnamese.

### Bugs fixed

  - \#636: Keep straight single quotes in literal blocks in the LaTeX build.
  - \#1419: Generated i18n sphinx.js files are missing message catalog entries from '.js\_t' and '.html'. The issue was introduced from Sphinx 1.1
  - \#1363: Fix i18n: missing python domain's cross-references with currentmodule directive or currentclass directive.
  - \#1444: autosummary does not create the description from attributes docstring.
  - \#1457: In python3 environment, make linkcheck cause "Can't convert 'bytes' object to str implicitly" error when link target url has a hash part. Thanks to Jorge\_C.
  - \#1467: Exception on Python3 if nonexistent method is specified by automethod
  - \#1441: autosummary can't handle nested classes correctly.
  - \#1499: With non-callable `setup` in a conf.py, now sphinx-build emits a user-friendly error message.
  - \#1502: In autodoc, fix display of parameter defaults containing backslashes.
  - \#1226: autodoc, autosummary: importing setup.py by automodule will invoke setup process and execute `sys.exit()`. Now Sphinx avoids SystemExit exception and emits warnings without unexpected termination.
  - \#1503: py:function directive generate incorrectly signature when specifying a default parameter with an empty list `[]`. Thanks to Geert Jansen.
  - \#1508: Non-ASCII filename raise exception on make singlehtml, latex, man, texinfo and changes.
  - \#1531: On Python3 environment, docutils.conf with 'source\_link=true' in the general section cause type error.
  - PR\#270, \#1533: Non-ASCII docstring cause UnicodeDecodeError when uses with inheritance-diagram directive. Thanks to WAKAYAMA shirou.
  - PR\#281, PR\#282, \#1509: TODO extension not compatible with websupport. Thanks to Takeshi Komiya.
  - \#1477: gettext does not extract nodes.line in a table or list.
  - \#1544: `make text` generates wrong table when it has empty table cells.
  - \#1522: Footnotes from table get displayed twice in LaTeX. This problem has been appeared from Sphinx 1.2.1 by \#949.
  - \#508: Sphinx every time exit with zero when is invoked from setup.py command. ex. `python setup.py build_sphinx -b doctest` return zero even if doctest failed.

## Release 1.2.2 (released Mar 2, 2014)

### Bugs fixed

  - PR\#211: When checking for existence of the `html_logo` file, check the full relative path and not the basename.
  - PR\#212: Fix traceback with autodoc and `__init__` methods without docstring.
  - PR\#213: Fix a missing import in the setup command.
  - \#1357: Option names documented by :rst`option` are now again allowed to not start with a dash or slash, and referencing them will work correctly.
  - \#1358: Fix handling of image paths outside of the source directory when using the "wildcard" style reference.
  - \#1374: Fix for autosummary generating overly-long summaries if first line doesn't end with a period.
  - \#1383: Fix Python 2.5 compatibility of sphinx-apidoc.
  - \#1391: Actually prevent using "pngmath" and "mathjax" extensions at the same time in sphinx-quickstart.
  - \#1386: Fix bug preventing more than one theme being added by the entry point mechanism.
  - \#1370: Ignore "toctree" nodes in text writer, instead of raising.
  - \#1364: Fix 'make gettext' fails when the '.. todolist::' directive is present.
  - \#1367: Fix a change of PR\#96 that break sphinx.util.docfields.Field.make\_field interface/behavior for `item` argument usage.

### Documentation

  - Extended the \[documentation about building extensions \<dev-extensions\>\](\#documentation-about-building-extensions-\<dev-extensions\>).

## Release 1.2.1 (released Jan 19, 2014)

### Bugs fixed

  - \#1335: Fix autosummary template overloading with exclamation prefix like `{% extends "!autosummary/class.rst" %}` cause infinite recursive function call. This was caused by PR\#181.
  - \#1337: Fix autodoc with `autoclass_content="both"` uses useless `object.__init__` docstring when class does not have `__init__`. This was caused by a change for \#1138.
  - \#1340: Can't search alphabetical words on the HTML quick search generated with language='ja'.
  - \#1319: Do not crash if the `html_logo` file does not exist.
  - \#603: Do not use the HTML-ized title for building the search index (that resulted in "literal" being found on every page with a literal in the title).
  - \#751: Allow production lists longer than a page in LaTeX by using longtable.
  - \#764: Always look for stopwords lowercased in JS search.
  - \#814: autodoc: Guard against strange type objects that don't have `__bases__`.
  - \#932: autodoc: Do not crash if `__doc__` is not a string.
  - \#933: Do not crash if an :rst`option` value is malformed (contains spaces but no option name).
  - \#908: On Python 3, handle error messages from LaTeX correctly in the pngmath extension.
  - \#943: In autosummary, recognize "first sentences" to pull from the docstring if they contain uppercase letters.
  - \#923: Take the entire LaTeX document into account when caching pngmath-generated images. This rebuilds them correctly when `pngmath_latex_preamble` changes.
  - \#901: Emit a warning when using Docutils' new "math" markup without a Sphinx math extension active.
  - \#845: In code blocks, when the selected lexer fails, display line numbers nevertheless if configured.
  - \#929: Support parsed-literal blocks in LaTeX output correctly.
  - \#949: Update the tabulary.sty packed with Sphinx.
  - \#1050: Add anonymous labels into `objects.inv` to be referenced via `~sphinx.ext.intersphinx`.
  - \#1095: Fix print-media stylesheet being included always in the "scrolls" theme.
  - \#1085: Fix current classname not getting set if class description has `:noindex:` set.
  - \#1181: Report option errors in autodoc directives more gracefully.
  - \#1155: Fix autodocumenting C-defined methods as attributes in Python 3.
  - \#1233: Allow finding both Python classes and exceptions with the "class" and "exc" roles in intersphinx.
  - \#1198: Allow "image" for the "figwidth" option of the `figure` directive as documented by docutils.
  - \#1152: Fix pycode parsing errors of Python 3 code by including two grammar versions for Python 2 and 3, and loading the appropriate version for the running Python version.
  - \#1017: Be helpful and tell the user when the argument to :rst`option` does not match the required format.
  - \#1345: Fix two bugs with `nitpick_ignore`; now you don't have to remove the store environment for changes to have effect.
  - \#1072: In the JS search, fix issues searching for upper-cased words by lowercasing words before stemming.
  - \#1299: Make behavior of the :rst`math` directive more consistent and avoid producing empty environments in LaTeX output.
  - \#1308: Strip HTML tags from the content of "raw" nodes before feeding it to the search indexer.
  - \#1249: Fix duplicate LaTeX page numbering for manual documents.
  - \#1292: In the linkchecker, retry HEAD requests when denied by HTTP 405. Also make the redirect code apparent and tweak the output a bit to be more obvious.
  - \#1285: Avoid name clashes between C domain objects and section titles.
  - \#848: Always take the newest code in incremental rebuilds with the `sphinx.ext.viewcode` extension.
  - \#979, \#1266: Fix exclude handling in `sphinx-apidoc`.
  - \#1302: Fix regression in `sphinx.ext.inheritance_diagram` when documenting classes that can't be pickled.
  - \#1316: Remove hard-coded `font-face` resources from epub theme.
  - \#1329: Fix traceback with empty translation msgstr in .po files.
  - \#1300: Fix references not working in translated documents in some instances.
  - \#1283: Fix a bug in the detection of changed files that would try to access doctrees of deleted documents.
  - \#1330: Fix `exclude_patterns` behavior with subdirectories in the `html_static_path`.
  - \#1323: Fix emitting empty `<ul>` tags in the HTML writer, which is not valid HTML.
  - \#1147: Don't emit a sidebar search box in the "singlehtml" builder.

### Documentation

  - \#1325: Added a "Intersphinx" tutorial section. (`doc/tutorial.rst`)

## Release 1.2 (released Dec 10, 2013)

### Features added

  - Added `sphinx.version_info` tuple for programmatic checking of the Sphinx version.

### Incompatible changes

  - Removed the `sphinx.ext.refcounting` extension -- it is very specific to CPython and has no place in the main distribution.

### Bugs fixed

  - Restore `versionmodified` CSS class for versionadded/changed and deprecated directives.
  - PR\#181: Fix `html_theme_path = ['.']` is a trigger of rebuild all documents always (This change keeps the current "theme changes cause a rebuild" feature).
  - \#1296: Fix invalid charset in HTML help generated HTML files for default locale.
  - PR\#190: Fix gettext does not extract figure caption and rubric title inside other blocks. Thanks to Michael Schlenker.
  - PR\#176: Make sure setup\_command test can always import Sphinx. Thanks to Dmitry Shachnev.
  - \#1311: Fix test\_linkcode.test\_html fails with C locale and Python 3.
  - \#1269: Fix ResourceWarnings with Python 3.2 or later.
  - \#1138: Fix: When `autodoc_docstring_signature = True` and `autoclass_content = 'init'` or `'both'`, \_\_init\_\_ line should be removed from class documentation.

## Release 1.2 beta3 (released Oct 3, 2013)

### Features added

  - The Sphinx error log files will now include a list of the loaded extensions for help in debugging.

### Incompatible changes

  - PR\#154: Remove "sphinx" prefix from LaTeX class name except 'sphinxmanual' and 'sphinxhowto'. Now you can use your custom document class without 'sphinx' prefix. Thanks to Erik B.

### Bugs fixed

  - \#1265: Fix i18n: crash when translating a section name that is pointed to from a named target.
  - A wrong condition broke the search feature on first page that is usually index.rst. This issue was introduced in 1.2b1.
  - \#703: When Sphinx can't decode filenames with non-ASCII characters, Sphinx now catches UnicodeError and will continue if possible instead of raising the exception.

## Release 1.2 beta2 (released Sep 17, 2013)

### Features added

  - `apidoc` now ignores "\_private" modules by default, and has an option `-P` to include them.
  - `apidoc` now has an option to not generate headings for packages and modules, for the case that the module docstring already includes a reST heading.
  - PR\#161: `apidoc` can now write each module to a standalone page instead of combining all modules in a package on one page.
  - Builders: rebuild i18n target document when catalog updated.
  - Support docutils.conf 'writers' and 'html4css1 writer' section in the HTML writer. The latex, manpage and texinfo writers also support their respective 'writers' sections.
  - The new `html_extra_path` config value allows to specify directories with files that should be copied directly to the HTML output directory.
  - Autodoc directives for module data and attributes now support an `annotation` option, so that the default display of the data/attribute value can be overridden.
  - PR\#136: Autodoc directives now support an `imported-members` option to include members imported from different modules.
  - New locales: Macedonian, Sinhala, Indonesian.
  - Theme package collection by using setuptools plugin mechanism.

### Incompatible changes

  - PR\#144, \#1182: Force timezone offset to LocalTimeZone on POT-Creation-Date that was generated by gettext builder. Thanks to masklinn and Jakub Wilk.

### Bugs fixed

  - PR\#132: Updated jQuery version to 1.8.3.
  - PR\#141, \#982: Avoid crash when writing PNG file using Python 3. Thanks to Marcin Wojdyr.
  - PR\#145: In parallel builds, Sphinx drops second document file to write. Thanks to tychoish.
  - PR\#151: Some styling updates to tables in LaTeX.
  - PR\#153: The "extensions" config value can now be overridden.
  - PR\#155: Added support for some C++11 function qualifiers.
  - Fix: 'make gettext' caused UnicodeDecodeError when templates contain utf-8 encoded strings.
  - \#828: use inspect.getfullargspec() to be able to document functions with keyword-only arguments on Python 3.
  - \#1090: Fix i18n: multiple cross references (term, ref, doc) in the same line return the same link.
  - \#1157: Combination of 'globaltoc.html' and hidden toctree caused exception.
  - \#1159: fix wrong generation of objects inventory for Python modules, and add a workaround in intersphinx to fix handling of affected inventories.
  - \#1160: Citation target missing caused an AssertionError.
  - \#1162, PR\#139: singlehtml builder didn't copy images to \_images/.
  - \#1173: Adjust setup.py dependencies because Jinja2 2.7 discontinued compatibility with Python \< 3.3 and Python \< 2.6. Thanks to Alexander Dupuy.
  - \#1185: Don't crash when a Python module has a wrong or no encoding declared, and non-ASCII characters are included.
  - \#1188: sphinx-quickstart raises UnicodeEncodeError if "Project version" includes non-ASCII characters.
  - \#1189: "Title underline is too short" WARNING is given when using fullwidth characters to "Project name" on quickstart.
  - \#1190: Output TeX/texinfo/man filename has no basename (only extension) when using non-ASCII characters in the "Project name" on quickstart.
  - \#1192: Fix escaping problem for hyperlinks in the manpage writer.
  - \#1193: Fix i18n: multiple link references in the same line return the same link.
  - \#1176: Fix i18n: footnote reference number missing for auto numbered named footnote and auto symbol footnote.
  - PR\#146,\#1172: Fix ZeroDivisionError in parallel builds. Thanks to tychoish.
  - \#1204: Fix wrong generation of links to local intersphinx targets.
  - \#1206: Fix i18n: gettext did not translate admonition directive's title.
  - \#1232: Sphinx generated broken ePub files on Windows.
  - \#1259: Guard the debug output call when emitting events; to prevent the repr() implementation of arbitrary objects causing build failures.
  - \#1142: Fix NFC/NFD normalizing problem of rst filename on Mac OS X.
  - \#1234: Ignoring the string consists only of white-space characters.

## Release 1.2 beta1 (released Mar 31, 2013)

### Incompatible changes

  - Removed `sphinx.util.compat.directive_dwim()` and `sphinx.roles.xfileref_role()` which were deprecated since version 1.0.
  - PR\#122: the files given in `latex_additional_files` now override TeX files included by Sphinx, such as `sphinx.sty`.
  - PR\#124: the node generated by `versionadded`, `versionchanged` and `deprecated` directives now includes all added markup (such as "New in version X") as child nodes, and no additional text must be generated by writers.
  - PR\#99: the :rst`seealso` directive now generates admonition nodes instead of the custom `seealso` node.

### Features added

  - Markup
      - The :rst`toctree` directive and the `toctree()` template function now have an `includehidden` option that includes hidden toctree entries (bugs \#790 and \#1047). A bug in the `maxdepth` option for the `toctree()` template function has been fixed (bug \#1046).
      - PR\#99: Strip down seealso directives to normal admonitions. This removes their unusual CSS classes (admonition-see-also), inconsistent LaTeX admonition title ("See Also" instead of "See also"), and spurious indentation in the text builder.
  - HTML builder
      - \#783: Create a link to full size image if it is scaled with width or height.
      - \#1067: Improve the ordering of the JavaScript search results: matches in titles come before matches in full text, and object results are better categorized. Also implement a pluggable search scorer.
      - \#1053: The "rightsidebar" and "collapsiblesidebar" HTML theme options now work together.
      - Update to jQuery 1.7.1 and Underscore.js 1.3.1.
  - Texinfo builder
      - An "Index" node is no longer added when there are no entries.
      - "deffn" categories are no longer capitalized if they contain capital letters.
      - `desc_annotation` nodes are now rendered.
      - `strong` and `emphasis` nodes are now formatted like `literal`s. The reason for this is because the standard Texinfo markup (`*strong*` and `_emphasis_`) resulted in confusing output due to the common usage of using these constructs for documenting parameter names.
      - Field lists formatting has been tweaked to better display "Info field lists".
      - `system_message` and `problematic` nodes are now formatted in a similar fashion as done by the text builder.
      - "en-dash" and "em-dash" conversion of hyphens is no longer performed in option directive signatures.
      - `@ref` is now used instead of `@pxref` for cross-references which prevents the word "see" from being added before the link (does not affect the Info output).
      - The `@finalout` command has been added for better TeX output.
      - `transition` nodes are now formatted using underscores ("\_") instead of asterisks ("\*").
      - The default value for the `paragraphindent` has been changed from 2 to 0 meaning that paragraphs are no longer indented by default.
      - \#1110: A new configuration value `texinfo_no_detailmenu` has been added for controlling whether a `@detailmenu` is added in the "Top" node's menu.
      - Detailed menus are no longer created except for the "Top" node.
      - Fixed an issue where duplicate domain indices would result in invalid output.
  - LaTeX builder:
      - PR\#115: Add `'transition'` item in `latex_elements` for customizing how transitions are displayed. Thanks to Jeff Klukas.
      - PR\#114: The LaTeX writer now includes the "cmap" package by default. The `'cmappkg'` item in `latex_elements` can be used to control this. Thanks to Dmitry Shachnev.
      - The `'fontpkg'` item in `latex_elements` now defaults to `''` when the `language` uses the Cyrillic script. Suggested by Dmitry Shachnev.
      - The `latex_documents`, `texinfo_documents`, and `man_pages` configuration values will be set to default values based on the `master_doc` if not explicitly set in `conf.py`. Previously, if these values were not set, no output would be generated by their respective builders.
  - Internationalization:
      - Add i18n capabilities for custom templates. For example: The Sphinx reference documentation in doc directory provides a `sphinx.pot` file with message strings from `doc/_templates/*.html` when using `make gettext`.
      - PR\#61,\#703: Add support for non-ASCII filename handling.
  - Other builders:
      - Added the Docutils-native XML and pseudo-XML builders. See <span class="title-ref">\~sphinx.builders.xml.XMLBuilder</span> and <span class="title-ref">\~sphinx.builders.xml.PseudoXMLBuilder</span>.
      - PR\#45: The linkcheck builder now checks `#anchor`s for existence.
      - PR\#123, \#1106: Add `epub_use_index` configuration value. If provided, it will be used instead of `html_use_index` for epub builder.
      - PR\#126: Add `epub_tocscope` configuration value. The setting controls the generation of the epub toc. The user can now also include hidden toc entries.
      - PR\#112: Add `epub_show_urls` configuration value.
  - Extensions:
      - PR\#52: `special_members` flag to autodoc now behaves like `members`.
      - PR\#47: Added `sphinx.ext.linkcode` extension.
      - PR\#25: In inheritance diagrams, the first line of the class docstring is now the tooltip for the class.
  - Command-line interfaces:
      - PR\#75: Added `--follow-links` option to sphinx-apidoc.
      - \#869: sphinx-build now has the option `-T` for printing the full traceback after an unhandled exception.
      - sphinx-build now supports the standard `--help` and `--version` options.
      - sphinx-build now provides more specific error messages when called with invalid options or arguments.
      - sphinx-build now has a verbose option `-v` which can be repeated for greater effect. A single occurrence provides a slightly more verbose output than normal. Two or more occurrences of this option provides more detailed output which may be useful for debugging.
  - Locales:
      - PR\#74: Fix some Russian translation.
      - PR\#54: Added Norwegian bokmaal translation.
      - PR\#35: Added Slovak translation.
      - PR\#28: Added Hungarian translation.
      - \#1113: Add Hebrew locale.
      - \#1097: Add Basque locale.
      - \#1037: Fix typos in Polish translation. Thanks to Jakub Wilk.
      - \#1012: Update Estonian translation.
  - Optimizations:
      - Speed up building the search index by caching the results of the word stemming routines. Saves about 20 seconds when building the Python documentation.
      - PR\#108: Add experimental support for parallel building with a new `sphinx-build -j` option.

### Documentation

  - PR\#88: Added the "Sphinx Developer's Guide" (`doc/devguide.rst`) which outlines the basic development process of the Sphinx project.
  - Added a detailed "Installing Sphinx" document (`doc/install.rst`).

### Bugs fixed

  - PR\#124: Fix paragraphs in versionmodified are ignored when it has no dangling paragraphs. Fix wrong html output (nested `<p>` tag). Fix versionmodified is not translatable. Thanks to Nozomu Kaneko.
  - PR\#111: Respect add\_autodoc\_attrgetter() even when inherited-members is set. Thanks to A. Jesse Jiryu Davis.
  - PR\#97: Fix footnote handling in translated documents.
  - Fix text writer not handling visit\_legend for figure directive contents.
  - Fix text builder not respecting wide/fullwidth characters: title underline width, table layout width and text wrap width.
  - Fix leading space in LaTeX table header cells.
  - \#1132: Fix LaTeX table output for multi-row cells in the first column.
  - \#1128: Fix Unicode errors when trying to format time strings with a non-standard locale.
  - \#1127: Fix traceback when autodoc tries to tokenize a non-Python file.
  - \#1126: Fix double-hyphen to en-dash conversion in wrong places such as command-line option names in LaTeX.
  - \#1123: Allow whitespaces in filenames given to `literalinclude`.
  - \#1120: Added improvements about i18n for themes "basic", "haiku" and "scrolls" that Sphinx built-in. Thanks to Leonardo J. Caballero G.
  - \#1118: Updated Spanish translation. Thanks to Leonardo J. Caballero G.
  - \#1117: Handle .pyx files in sphinx-apidoc.
  - \#1112: Avoid duplicate download files when referenced from documents in different ways (absolute/relative).
  - \#1111: Fix failure to find uppercase words in search when `html_search_language` is 'ja'. Thanks to Tomo Saito.
  - \#1108: The text writer now correctly numbers enumerated lists with non-default start values (based on patch by Ewan Edwards).
  - \#1102: Support multi-context "with" statements in autodoc.
  - \#1090: Fix gettext not extracting glossary terms.
  - \#1074: Add environment version info to the generated search index to avoid compatibility issues with old builds.
  - \#1070: Avoid un-pickling issues when running Python 3 and the saved environment was created under Python 2.
  - \#1069: Fixed error caused when autodoc would try to format signatures of "partial" functions without keyword arguments (patch by Artur Gaspar).
  - \#1062: sphinx.ext.autodoc use \_\_init\_\_ method signature for class signature.
  - \#1055: Fix web support with relative path to source directory.
  - \#1043: Fix sphinx-quickstart asking again for yes/no questions because `input()` returns values with an extra 'r' on Python 3.2.0 + Windows. Thanks to Régis Décamps.
  - \#1041: Fix failure of the cpp domain parser to parse a const type with a modifier.
  - \#1038: Fix failure of the cpp domain parser to parse C+11 "static constexpr" declarations. Thanks to Jakub Wilk.
  - \#1029: Fix intersphinx\_mapping values not being stable if the mapping has plural key/value set with Python 3.3.
  - \#1028: Fix line block output in the text builder.
  - \#1024: Improve Makefile/make.bat error message if Sphinx is not found. Thanks to Anatoly Techtonik.
  - \#1018: Fix "container" directive handling in the text builder.
  - \#1015: Stop overriding jQuery contains() in the JavaScript.
  - \#1010: Make pngmath images transparent by default; IE7+ should handle it.
  - \#1008: Fix test failures with Python 3.3.
  - \#995: Fix table-of-contents and page numbering for the LaTeX "howto" class.
  - \#976: Fix gettext does not extract index entries.
  - PR\#72: \#975: Fix gettext not extracting definition terms before Docutils 0.10.
  - \#961: Fix LaTeX output for triple quotes in code snippets.
  - \#958: Do not preserve `environment.pickle` after a failed build.
  - \#955: Fix i18n transformation.
  - \#940: Fix gettext does not extract figure caption.
  - \#920: Fix PIL packaging issue that allowed to import `Image` without PIL namespace. Thanks to Marc Schlaich.
  - \#723: Fix the search function on local files in WebKit based browsers.
  - \#440: Fix coarse timestamp resolution in some filesystem generating a wrong list of outdated files.

---

1.3.md

---

# Sphinx 1.3

## Release 1.3.6 (released Feb 29, 2016)

### Features added

  - \#1873, \#1876, \#2278: Add `page_source_suffix` html context variable. This should be introduced with `!source_parsers` feature. Thanks for Eric Holscher.

### Bugs fixed

  - \#2265: Fix babel is used in spite of disabling it on `latex_elements`
  - \#2295: Avoid mutating dictionary errors while enumerating members in autodoc with Python 3
  - \#2291: Fix pdflatex "Counter too large" error from footnotes inside tables of contents
  - \#2292: Fix some footnotes disappear from LaTeX output
  - \#2287: `sphinx.transforms.Locale` always uses rst parser. Sphinx i18n feature should support parsers that specified source\_parsers.
  - \#2290: Fix `sphinx.ext.mathbase` use of amsfonts may break user choice of math fonts
  - \#2324: Print a hint how to increase the recursion limit when it is hit.
  - \#1565, \#2229: Revert new warning; the new warning will be triggered from version 1.4 on.
  - \#2329: Refresh environment forcedly if source directory has changed.
  - \#2019: Fix the domain objects in search result are not escaped

## Release 1.3.5 (released Jan 24, 2016)

### Bugs fixed

  - Fix line numbers was not shown on warnings in LaTeX and texinfo builders
  - Fix filenames were not shown on warnings of citations
  - Fix line numbers was not shown on warnings in LaTeX and texinfo builders
  - Fix line numbers was not shown on warnings of indices
  - \#2026: Fix LaTeX builder raises error if parsed-literal includes links
  - \#2243: Ignore strange docstring types for classes, do not crash
  - \#2247: Fix \#2205 breaks make html for definition list with classifiers that contains regular-expression like string
  - \#1565: Sphinx will now emit a warning that highlighting was skipped if the syntax is incorrect for `code-block`, `literalinclude` and so on.
  - \#2211: Fix paragraphs in table cell doesn't work in Latex output
  - \#2253: `:pyobject:` option of `literalinclude` directive can't detect indented body block when the block starts with blank or comment lines.
  - Fix TOC is not shown when no `:maxdepth:` for toctrees (ref: \#771)
  - Fix warning message for `:numref:` if target is in orphaned doc (ref: \#2244)

## Release 1.3.4 (released Jan 12, 2016)

### Bugs fixed

  - \#2134: Fix figure caption with reference causes latex build error
  - \#2094: Fix rubric with reference not working in Latex
  - \#2147: Fix literalinclude code in latex does not break in pages
  - \#1833: Fix email addresses is showed again if latex\_show\_urls is not `None`
  - \#2176: sphinx.ext.graphviz: use \<object\> instead of \<img\> to embed svg
  - \#967: Fix SVG inheritance diagram is not hyperlinked (clickable)
  - \#1237: Fix footnotes not working in definition list in LaTeX
  - \#2168: Fix raw directive does not work for text writer
  - \#2171: Fix cannot linkcheck url with unicode
  - \#2182: LaTeX: support image file names with more than 1 dots
  - \#2189: Fix previous sibling link for first file in subdirectory uses last file, not intended previous from root toctree
  - \#2003: Fix decode error under python2 (only) when `make linkcheck` is run
  - \#2186: Fix LaTeX output of mathbb in math
  - \#1480, \#2188: LaTeX: Support math in section titles
  - \#2071: Fix same footnote in more than two section titles =\> LaTeX/PDF Bug
  - \#2040: Fix UnicodeDecodeError in sphinx-apidoc when author contains non-ASCII characters
  - \#2193: Fix shutil.SameFileError if source directory and destination directory are same
  - \#2178: Fix unparsable C++ cross-reference when referencing a function with `:cpp:any:`
  - \#2206: Fix Sphinx latex doc build failed due to a footnotes
  - \#2201: Fix wrong table caption for tables with over 30 rows
  - \#2213: Set \<blockquote\> in the classic theme to fit with \<p\>
  - \#1815: Fix linkcheck does not raise an exception if warniserror set to true and link is broken
  - \#2197: Fix slightly cryptic error message for missing index.rst file
  - \#1894: Unlisted phony targets in quickstart Makefile
  - \#2125: Fix unifies behavior of collapsed fields (`GroupedField` and `TypedField`)
  - \#1408: Check latex\_logo validity before copying
  - \#771: Fix latex output doesn't set tocdepth
  - \#1820: On Windows, console coloring is broken with colorama version 0.3.3. Now Sphinx use colorama\>=0.3.5 to avoid this problem.
  - \#2072: Fix footnotes in chapter-titles do not appear in PDF output
  - \#1580: Fix paragraphs in longtable don't work in Latex output
  - \#1366: Fix centered image not centered in latex
  - \#1860: Fix man page using `:samp:` with braces - font doesn't reset
  - \#1610: Sphinx crashes in Japanese indexing in some systems
  - Fix Sphinx crashes if mecab initialization failed
  - \#2160: Fix broken TOC of PDFs if section includes an image
  - \#2172: Fix dysfunctional admonition `\py@lightbox` in sphinx.sty. Thanks to jfbu.
  - \#2198,\#2205: `make gettext` generate broken msgid for definition lists.
  - \#2062: Escape characters in doctests are treated incorrectly with Python 2.
  - \#2225: Fix if the option does not begin with dash, linking is not performed
  - \#2226: Fix math is not HTML-encoded when :nowrap: is given (jsmath, mathjax)
  - \#1601, \#2220: 'any' role breaks extended domains behavior. Affected extensions doesn't support resolve\_any\_xref and resolve\_xref returns problematic node instead of `None`. sphinxcontrib-httpdomain is one of them.
  - \#2229: Fix no warning is given for unknown options

## Release 1.3.3 (released Dec 2, 2015)

### Bugs fixed

  - \#2177: Fix parallel hangs
  - \#2012: Fix exception occurred if `numfig_format` is invalid
  - \#2142: Provide non-minified JS code in `sphinx/search/non-minified-js/*.js` for source distribution on PyPI.
  - \#2148: Error while building devhelp target with non-ASCII document.

## Release 1.3.2 (released Nov 29, 2015)

### Features added

  - \#1935: Make "numfig\_format" overridable in latex\_elements.

### Bugs fixed

  - \#1976: Avoid "2.0" version of Babel because it doesn't work with Windows environment.
  - Add a "default.css" stylesheet (which imports "classic.css") for compatibility
  - \#1788: graphviz extension raises exception when caption option is present.
  - \#1789: `:pyobject:` option of `literalinclude` directive includes following lines after class definitions
  - \#1790: `literalinclude` strips empty lines at the head and tail
  - \#1802: load plugin themes automatically when theme.conf use it as 'inherit'. Thanks to Takayuki Hirai.
  - \#1794: custom theme extended from `alabaster` or `sphinx_rtd_theme` can't find base theme.
  - \#1834: compatibility for Docutils 0.13: handle\_io\_errors keyword argument for docutils.io.FileInput cause TypeError.
  - \#1823: '.' as \<module\_path\> for sphinx-apidoc cause an unfriendly error. Now '.' is converted to absolute path automatically.
  - Fix a crash when setting up extensions which do not support metadata.
  - \#1784: Provide non-minified JS code in `sphinx/search/non-minified-js/*.js`
  - \#1822, \#1892: Fix regression for \#1061. autosummary can't generate doc for imported members since Sphinx 1.3b3. Thanks to Eric Larson.
  - \#1793, \#1819: "see also" misses a linebreak in text output. Thanks to Takayuki Hirai.
  - \#1780, \#1866: "make text" shows "class" keyword twice. Thanks to Takayuki Hirai.
  - \#1871: Fix for LaTeX output of tables with one column and multirows.
  - Work around the lack of the HTMLParserError exception in Python 3.5.
  - \#1949: Use `safe_getattr` in the coverage builder to avoid aborting with descriptors that have custom behavior.
  - \#1915: Do not generate smart quotes in doc field type annotations.
  - \#1796: On py3, automated .mo building caused UnicodeDecodeError.
  - \#1923: Use babel features only if the babel latex element is nonempty.
  - \#1942: Fix a KeyError in websupport.
  - \#1903: Fix strange id generation for glossary terms.
  - `make text` will crush if a definition list item has more than 1 classifiers as: `term : classifier1 : classifier2`.
  - \#1855: make gettext generates broken po file for definition lists with classifier.
  - \#1869: Fix problems when dealing with files containing non-ASCII characters. Thanks to Marvin Schmidt.
  - \#1798: Fix building LaTeX with references in titles.
  - \#1725: On py2 environment, doctest with using non-ASCII characters causes `'ascii' codec can't decode byte` exception.
  - \#1540: Fix RuntimeError with circular referenced toctree
  - \#1983: i18n translation feature breaks references which uses section name.
  - \#1990: Use caption of toctree to title of tableofcontents in LaTeX
  - \#1987: Fix ampersand is ignored in `:menuselection:` and `:guilabel:` on LaTeX builder
  - \#1994: More supporting non-standard parser (like recommonmark parser) for Translation and WebSupport feature. Now node.rawsource is fall backed to node.astext() during Docutils transforming.
  - \#1989: "make blahblah" on Windows indicate help messages for sphinx-build every time. It was caused by wrong make.bat that generated by Sphinx 1.3.0/1.3.1.
  - On Py2 environment, conf.py that is generated by sphinx-quickstart should have u prefixed config value for 'version' and 'release'.
  - \#2102: On Windows + Py3, using `|today|` and non-ASCII date format will raise UnicodeEncodeError.
  - \#1974: UnboundLocalError: local variable 'domain' referenced before assignment when using `any` role and `sphinx.ext.intersphinx` in same time.
  - \#2121: multiple words search doesn't find pages when words across on the page title and the page content.
  - \#1884, \#1885: plug-in html themes cannot inherit another plug-in theme. Thanks to Suzumizaki.
  - \#1818: `sphinx.ext.todo` directive generates broken html class attribute as 'admonition-' when `language` is specified with non-ASCII linguistic area like 'ru' or 'ja'. To fix this, now `todo` directive can use `:class:` option.
  - \#2140: Fix footnotes in table has broken in LaTeX
  - \#2127: MecabBinder for html searching feature doesn't work with Python 3. Thanks to Tomoko Uchida.

## Release 1.3.1 (released Mar 17, 2015)

### Bugs fixed

  - \#1769: allows generating quickstart files/dirs for destination dir that doesn't overwrite existent files/dirs. Thanks to WAKAYAMA shirou.
  - \#1773: sphinx-quickstart doesn't accept non-ASCII character as a option argument.
  - \#1766: the message "least Python 2.6 to run" is at best misleading.
  - \#1772: cross reference in docstrings like `:param .write:` breaks building.
  - \#1770, \#1774: `literalinclude` with empty file occurs exception. Thanks to Takayuki Hirai.
  - \#1777: Sphinx 1.3 can't load extra theme. Thanks to tell-k.
  - \#1776: `source_suffix = ['.rst']` cause unfriendly error on prior version.
  - \#1771: automated .mo building doesn't work properly.
  - \#1783: Autodoc: Python2 Allow unicode string in `__all__`. Thanks to Jens Hedegaard Nielsen.
  - \#1781: Setting `html_domain_indices` to a list raises a type check warnings.

## Release 1.3 (released Mar 10, 2015)

### Incompatible changes

  - Roles `ref`, `term` and `menusel` now don't generate `emphasis` nodes anymore. If you want to keep italic style, adapt your stylesheet.
  - Role `numref` uses `%s` as special character to indicate position of figure numbers instead `#` symbol.

### Features added

  - Add convenience directives and roles to the C++ domain: directive `cpp:var` as alias for `cpp:member`, role `:cpp:var` as alias for `:cpp:member`, and role `any` for cross-reference to any C++ declaraction. \#1577, \#1744
  - The `source_suffix` config value can now be a list of multiple suffixes.
  - Add the ability to specify source parsers by source suffix with the `!source_parsers` config value.
  - \#1675: A new builder, AppleHelpBuilder, has been added that builds Apple Help Books.

### Bugs fixed

  - 1.3b3 change breaks a previous gettext output that contains duplicated msgid such as "foo bar" and "version changes in 1.3: foo bar".
  - \#1745: latex builder cause maximum recursion depth exceeded when a footnote has a footnote mark itself.
  - \#1748: SyntaxError in sphinx/ext/ifconfig.py with Python 2.6.
  - \#1658, \#1750: No link created (and warning given) if option does not begin with -, / or +. Thanks to Takayuki Hirai.
  - \#1753: C++, added missing support for more complex declarations.
  - \#1700: Add `:caption:` option for :rst`toctree`.
  - \#1742: `:name:` option is provided for :rst`toctree`, :rst`code-block` and :rst`literalinclude` directives.
  - \#1756: Incorrect section titles in search that was introduced from 1.3b3.
  - \#1746: C++, fixed name lookup procedure, and added missing lookups in declarations.
  - \#1765: C++, fix old id generation to use fully qualified names.

### Documentation

  - \#1651: Add `vartype` field description for python domain.

## Release 1.3b3 (released Feb 24, 2015)

### Incompatible changes

  - Dependency requirement updates: Docutils 0.11, Pygments 2.0
  - The `gettext_enables` config value has been renamed to `gettext_additional_targets`.
  - \#1735: Use <https://docs.python.org/> instead of `http` protocol. It was used for `sphinx.ext.intersphinx` and some documentation.

### Features added

  - \#1346: Add new default theme;
      - Add '`alabaster`' theme.
      - Add '`sphinx_rtd_theme`' theme.
      - The 'default' html theme has been renamed to 'classic'. 'default' is still available, however it will emit notice a recommendation that using new '`alabaster`' theme.
  - Added `highlight_options` configuration value.
  - The `language` config value is now available in the HTML templates.
  - The `env-updated` event can now return a value, which is interpreted as an iterable of additional docnames that need to be rewritten.
  - \#772: Support for scoped and unscoped enums in C++. Enumerators in unscoped enums are injected into the parent scope in addition to the enum scope.
  - Add `todo_include_todos` config option to quickstart conf file, handled as described in documentation.
  - HTML breadcrumb items tag has class "nav-item" and "nav-item-N" (like nav-item-0, 1, 2...).
  - New option `sphinx-quickstart --use-make-mode` for generating Makefile that use sphinx-build make-mode.
  - \#1235: i18n: several node can be translated if it is set to `gettext_additional_targets` in conf.py. Supported nodes are:
      - 'literal-block'
      - 'doctest-block'
      - 'raw'
      - 'image'
  - \#1227: Add `html_scaled_image_link` config option to conf.py, to control scaled image link.

### Bugs fixed

  - LaTeX writer now generates correct markup for cells spanning multiple rows.
  - \#1674: Do not crash if a module's `__all__` is not a list of strings.
  - \#1629: Use VerbatimBorderColor to add frame to code-block in LaTeX
  - On windows, make-mode didn't work on Win32 platform if Sphinx was invoked as `python sphinx-build.py`.
  - \#1687: linkcheck now treats 401 Unauthorized responses as "working".
  - \#1690: toctrees with `glob` option now can also contain entries for single documents with explicit title.
  - \#1591: html search results for C++ elements now has correct interpage links.
  - bizstyle theme: nested long title pages make long breadcrumb that breaks page layout.
  - bizstyle theme: all breadcrumb items become 'Top' on some mobile browser (iPhone5s safari).
  - \#1722: restore `toctree()` template function behavior that was changed at 1.3b1.
  - \#1732: i18n: localized table caption raises exception.
  - \#1718: `:numref:` does not work with capital letters in the label
  - \#1630: resolve CSS conflicts, `div.container` css target for literal block wrapper now renamed to `div.literal-block-wrapper`.
  - `sphinx.util.pycompat` has been restored in its backwards-compatibility; slated for removal in Sphinx 1.4.
  - \#1719: LaTeX writer does not respect `numref_format` option in captions

## Release 1.3b2 (released Dec 5, 2014)

### Incompatible changes

  - update bundled ez\_setup.py for setuptools-7.0 that requires Python 2.6 or later.

### Features added

  - \#1597: Added possibility to return a new template name from `html-page-context`.
  - PR\#314, \#1150: Configuration values are now checked for their type. A warning is raised if the configured and the default value do not have the same type and do not share a common non-trivial base class.

### Bugs fixed

  - PR\#311: sphinx-quickstart does not work on python 3.4.
  - Fix `autodoc_docstring_signature` not working with signatures in class docstrings.
  - Rebuilding cause crash unexpectedly when source files were added.
  - \#1607: Fix a crash when building latexpdf with "howto" class
  - \#1251: Fix again. Sections which depth are lower than :tocdepth: should not be shown on localtoc sidebar.
  - make-mode didn't work on Win32 platform if Sphinx was installed by wheel package.

## Release 1.3b1 (released Oct 10, 2014)

### Incompatible changes

  - Dropped support for Python 2.5, 3.1 and 3.2.
  - Dropped support for Docutils versions up to 0.9.
  - Removed the `sphinx.ext.oldcmarkup` extension.
  - The deprecated config values `exclude_trees`, `exclude_dirnames` and `unused_docs` have been removed.
  - A new node, `sphinx.addnodes.literal_strong`, has been added, for text that should appear literally (i.e. no smart quotes) in strong font. Custom writers will have to be adapted to handle this node.
  - PR\#269, \#1476: replace `<tt>` tag by `<code>`. User customized stylesheets should be updated If the css contain some styles for `tt>` tag. Thanks to Takeshi Komiya.
  - \#1543: `templates_path` is automatically added to `exclude_patterns` to avoid reading autosummary rst templates in the templates directory.
  - Custom domains should implement the new `Domain.resolve_any_xref` method to make the `any` role work properly.
  - gettext builder: gettext doesn't emit uuid information to generated pot files by default. Please set `True` to `gettext_uuid` to emit uuid information. Additionally, if the `python-levenshtein` 3rd-party package is installed, it will improve the calculation time.
  - gettext builder: disable extracting/apply 'index' node by default. Please set 'index' to `gettext_enables` to enable extracting index entries.
  - PR\#307: Add frame to code-block in LaTeX. Thanks to Takeshi Komiya.

### Features added

  - Add support for Python 3.4.
  - Add support for Docutils 0.12
  - Added `sphinx.ext.napoleon` extension for NumPy and Google style docstring support.
  - Added support for parallel reading (parsing) of source files with the `sphinx-build -j` option. Third-party extensions will need to be checked for compatibility and may need to be adapted if they store information in the build environment object. See `env-merge-info`.
  - Added the `any` role that can be used to find a cross-reference of *any* type in *any* domain. Custom domains should implement the new `Domain.resolve_any_xref` method to make this work properly.
  - Exception logs now contain the last 10 messages emitted by Sphinx.
  - Added support for extension versions (a string returned by `setup()`, these can be shown in the traceback log files). Version requirements for extensions can be specified in projects using the new `needs_extensions` config value.
  - Changing the default role within a document with the `default-role` directive is now supported.
  - PR\#214: Added stemming support for 14 languages, so that the built-in document search can now handle these. Thanks to Shibukawa Yoshiki.
  - PR\#296, PR\#303, \#76: numfig feature: Assign numbers to figures, tables and code-blocks. This feature is configured with `numfig`, `numfig_secnum_depth` and `numfig_format`. Also `numref` role is available. Thanks to Takeshi Komiya.
  - PR\#202: Allow "." and "\~" prefixed references in `:param:` doc fields for Python.
  - PR\#184: Add `autodoc_mock_imports`, allowing to mock imports of external modules that need not be present when autodocumenting.
  - \#925: Allow list-typed config values to be provided on the command line, like `-D key=val1,val2`.
  - \#668: Allow line numbering of `code-block` and `literalinclude` directives to start at an arbitrary line number, with a new `lineno-start` option.
  - PR\#172, PR\#266: The `code-block` and `literalinclude` directives now can have a `caption` option that shows a filename before the code in the output. Thanks to Nasimul Haque, Takeshi Komiya.
  - Prompt for the document language in sphinx-quickstart.
  - PR\#217: Added config values to suppress UUID and location information in generated gettext catalogs.
  - PR\#236, \#1456: apidoc: Add a -M option to put module documentation before submodule documentation. Thanks to Wes Turner and Luc Saffre.
  - \#1434: Provide non-minified JS files for jquery.js and underscore.js to clarify the source of the minified files.
  - PR\#252, \#1291: Windows color console support. Thanks to meu31.
  - PR\#255: When generating latex references, also insert latex target/anchor for the ids defined on the node. Thanks to Olivier Heurtier.
  - PR\#229: Allow registration of other translators. Thanks to Russell Sim.
  - Add app.set\_translator() API to register or override a Docutils translator class like `html_translator_class`.
  - PR\#267, \#1134: add 'diff' parameter to literalinclude. Thanks to Richard Wall and WAKAYAMA shirou.
  - PR\#272: Added 'bizstyle' theme. Thanks to Shoji KUMAGAI.
  - Automatically compile `*.mo` files from `*.po` files when `gettext_auto_build` is `True` (default) and `*.po` is newer than `*.mo` file.
  - \#623: `sphinx.ext.viewcode` supports imported function/class aliases.
  - PR\#275: `sphinx.ext.intersphinx` supports multiple target for the inventory. Thanks to Brigitta Sipocz.
  - PR\#261: Added the `env-before-read-docs` event that can be connected to modify the order of documents before they are read by the environment.
  - \#1284: Program options documented with :rst`option` can now start with `+`.
  - PR\#291: The caption of :rst`code-block` is recognized as a title of ref target. Thanks to Takeshi Komiya.
  - PR\#298: Add new API: <span class="title-ref">\~sphinx.application.Sphinx.add\_latex\_package</span>. Thanks to Takeshi Komiya.
  - \#1344: add `gettext_enables` to enable extracting 'index' to gettext catalog output / applying translation catalog to generated documentation.
  - PR\#301, \#1583: Allow the line numbering of the directive `literalinclude` to match that of the included file, using a new `lineno-match` option. Thanks to Jeppe Pihl.
  - PR\#299: add various options to sphinx-quickstart. Quiet mode option `--quiet` will skips wizard mode. Thanks to WAKAYAMA shirou.
  - \#1623: Return types specified with `:rtype:` are now turned into links if possible.

### Bugs fixed

  - \#1438: Updated jQuery version from 1.8.3 to 1.11.1.
  - \#1568: Fix a crash when a "centered" directive contains a reference.
  - Now sphinx.ext.autodoc works with python-2.5 again.
  - \#1563: <span class="title-ref">\~sphinx.application.Sphinx.add\_search\_language</span> raises AssertionError for correct type of argument. Thanks to rikoman.
  - \#1174: Fix smart quotes being applied inside roles like :rst`program` or `makevar`.
  - PR\#235: comment db schema of websupport lacked a length of the node\_id field. Thanks to solos.
  - \#1466,PR\#241: Fix failure of the cpp domain parser to parse C+11 "variadic templates" declarations. Thanks to Victor Zverovich.
  - \#1459,PR\#244: Fix default mathjax js path point to `http://` that cause mixed-content error on HTTPS server. Thanks to sbrandtb and robo9k.
  - PR\#157: autodoc remove spurious signatures from @property decorated attributes. Thanks to David Ham.
  - PR\#159: Add coverage targets to quickstart generated Makefile and make.bat. Thanks to Matthias Troffaes.
  - \#1251: When specifying toctree :numbered: option and :tocdepth: metadata, sub section number that is larger depth than `:tocdepth:` is shrunk.
  - PR\#260: Encode underscore in citation labels for latex export. Thanks to Lennart Fricke.
  - PR\#264: Fix could not resolve xref for figure node with :name: option. Thanks to Takeshi Komiya.
  - PR\#265: Fix could not capture caption of graphviz node by xref. Thanks to Takeshi Komiya.
  - PR\#263, \#1013, \#1103: Rewrite of C++ domain. Thanks to Jakob Lykke Andersen.
      - Hyperlinks to all found nested names and template arguments (\#1103).
      - Support for function types everywhere, e.g., in std::function\<bool(int, int)\> (\#1013).
      - Support for virtual functions.
      - Changed interpretation of function arguments to following standard prototype declarations, i.e., void f(arg) means that arg is the type of the argument, instead of it being the name.
      - Updated tests.
      - Updated documentation with elaborate description of what declarations are supported and how the namespace declarations influence declaration and cross-reference lookup.
      - Index names may be different now. Elements are indexed by their fully qualified name. It should be rather easy to change this behaviour and potentially index by namespaces/classes as well.
  - PR\#258, \#939: Add dedent option for `code-block` and `literalinclude`. Thanks to Zafar Siddiqui.
  - PR\#268: Fix numbering section does not work at singlehtml mode. It still ad-hoc fix because there is a issue that section IDs are conflicted. Thanks to Takeshi Komiya.
  - PR\#273, \#1536: Fix RuntimeError with numbered circular toctree. Thanks to Takeshi Komiya.
  - PR\#274: Set its URL as a default title value if URL appears in toctree. Thanks to Takeshi Komiya.
  - PR\#276, \#1381: `rfc` and `pep` roles support custom link text. Thanks to Takeshi Komiya.
  - PR\#277, \#1513: highlights for function pointers in argument list of `c:function`. Thanks to Takeshi Komiya.
  - PR\#278: Fix section entries were shown twice if toctree has been put under only directive. Thanks to Takeshi Komiya.
  - \#1547: pgen2 tokenizer doesn't recognize `...` literal (Ellipsis for py3).
  - PR\#294: On LaTeX builder, wrap float environment on writing literal\_block to avoid separation of caption and body. Thanks to Takeshi Komiya.
  - PR\#295, \#1520: `make.bat latexpdf` mechanism to `cd` back to the current directory. Thanks to Peter Suter.
  - PR\#297, \#1571: Add imgpath property to all builders. It make easier to develop builder extensions. Thanks to Takeshi Komiya.
  - \#1584: Point to master doc in HTML "top" link.
  - \#1585: Autosummary of modules broken in Sphinx 1.2.3.
  - \#1610: Sphinx cause AttributeError when MeCab search option is enabled and python-mecab is not installed.
  - \#1674: Do not crash if a module's `__all__` is not a list of strings.
  - \#1673: Fix crashes with `nitpick_ignore` and `:doc:` references.
  - \#1686: ifconfig directive doesn't care about default config values.
  - \#1642: Fix only one search result appearing in Chrome.

### Documentation

  - Add clarification about the syntax of tags. (`doc/markup/misc.rst`)

---

1.4.md

---

# Sphinx 1.4

## Release 1.4.9 (released Nov 23, 2016)

### Bugs fixed

  - \#2936: Fix doc/Makefile that can't build man because doc/man exists
  - \#3058: Using the same 'caption' attribute in multiple 'toctree' directives results in warning / error
  - \#3068: Allow the '=' character in the -D option of sphinx-build.py
  - \#3074: `add_source_parser()` crashes in debug mode
  - \#3135: `sphinx.ext.autodoc` crashes with plain Callable
  - \#3150: Fix query word splitter in JavaScript. It behaves as same as Python's regular expression.
  - \#3093: gettext build broken on substituted images.
  - \#3093: gettext build broken on image node under `note` directive.
  - imgmath: crashes on showing error messages if image generation failed
  - \#3117: LaTeX writer crashes if admonition is placed before first section title
  - \#3164: Change search order of `sphinx.ext.inheritance_diagram`

## Release 1.4.8 (released Oct 1, 2016)

### Bugs fixed

  - \#2996: The wheel package of Sphinx got crash with ImportError

## Release 1.4.7 (released Oct 1, 2016)

### Bugs fixed

  - \#2890: Quickstart should return an error consistently on all error conditions
  - \#2870: flatten genindex columns' heights.
  - \#2856: Search on generated HTML site doesn't find some symbols
  - \#2882: Fall back to a GET request on 403 status in linkcheck
  - \#2902: jsdump.loads fails to load search index if keywords starts with underscore
  - \#2900: Fix epub content.opf: add auto generated orphan files to spine.
  - \#2899: Fix `hasdoc()` function in Jinja2 template. It will detect `genindex`, `search` also.
  - \#2901: Fix epub result: skip creating links from image tags to original image files.
  - \#2917: inline code is hyphenated on HTML
  - \#1462: autosummary warns for namedtuple with attribute with trailing underscore
  - Could not reference equations if `:nowrap:` option specified
  - \#2873: code-block overflow in latex (due to commas)
  - \#1060, \#2056: sphinx.ext.intersphinx: broken links are generated if relative paths are used in `intersphinx_mapping`
  - \#2931: code-block directive with same :caption: causes warning of duplicate target. Now `code-block` and `literalinclude` does not define hyperlink target using its caption automatically.
  - \#2962: latex: missing label of longtable
  - \#2968: autodoc: show-inheritance option breaks docstrings

## Release 1.4.6 (released Aug 20, 2016)

### Incompatible changes

  - \#2867: linkcheck builder crashes with six-1.4. Now Sphinx depends on six-1.5 or later

### Bugs fixed

  - applehelp: Sphinx crashes if `hiutil` or `codesign` commands not found
  - Fix `make clean` abort issue when build dir contains regular files like `DS_Store`.
  - Reduce epubcheck warnings/errors:
      - Fix DOCTYPE to html5
      - Change extension from .html to .xhtml.
      - Disable search page on epub results
  - \#2778: Fix autodoc crashes if obj.\_\_dict\_\_ is a property method and raises exception
  - Fix duplicated toc in epub3 output.
  - \#2775: Fix failing linkcheck with servers not supporting identity encoding
  - \#2833: Fix formatting instance annotations in ext.autodoc.
  - \#1911: `-D` option of `sphinx-build` does not override the `extensions` variable
  - \#2789: `sphinx.ext.intersphinx` generates wrong hyperlinks if the inventory is given
  - parsing errors for caption of code-blocks are displayed in document (ref: \#2845)
  - \#2846: `singlehtml` builder does not include figure numbers
  - \#2816: Fix data from builds cluttering the `Domain.initial_data` class attributes

## Release 1.4.5 (released Jul 13, 2016)

### Incompatible changes

  - latex, inclusion of non-inline images from image directive resulted in non-coherent whitespaces depending on original image width; new behaviour by necessity differs from earlier one in some cases. (ref: \#2672)
  - latex, use of `\includegraphics` to refer to Sphinx custom variant is deprecated; in future it will revert to original LaTeX macro, custom one already has alternative name `\sphinxincludegraphics`.

### Features added

  - new config option `!latex_keep_old_macro_names`, defaults to `True`. If `False`, lets macros (for text styling) be defined only with `\sphinx`-prefixed names
  - latex writer allows user customization of "shadowed" boxes (topics), via three length variables.
  - woff-format web font files now supported by the epub builder.

### Bugs fixed

  - jsdump fix for python 3: fixes the HTML search on python \> 3
  - \#2676: (latex) Error with verbatim text in captions since Sphinx 1.4.4
  - \#2629: memoir class crashes LaTeX. Fixed by `latex_keep_old_macro_names=False` (ref 2675)
  - \#2684: `sphinx.ext.intersphinx` crashes with six-1.4.1
  - \#2679: `float` package needed for `'figure_align': 'H'` latex option
  - \#2671: image directive may lead to inconsistent spacing in pdf
  - \#2705: `toctree` generates empty bullet\_list if `:titlesonly:` specified
  - \#2479: `sphinx.ext.viewcode` uses python2 highlighter by default
  - \#2700: HtmlHelp builder has hard coded index.html
  - latex, since 1.4.4 inline literal text is followed by spurious space
  - \#2722: C++, fix id generation for var/member declarations to include namespaces.
  - latex, images (from image directive) in lists or quoted blocks did not obey indentation (fixed together with \#2671)
  - \#2733: since Sphinx 1.4.4 `make latexpdf` generates lots of hyperref warnings
  - \#2731: `sphinx.ext.autodoc` does not access propertymethods which raises any exceptions
  - \#2666: C++, properly look up nested names involving constructors.
  - \#2579: Could not refer a label including both spaces and colons via `sphinx.ext.intersphinx`
  - \#2718: Sphinx crashes if the document file is not readable
  - \#2699: hyperlinks in help HTMLs are broken if `html_file_suffix` is set
  - \#2723: extra spaces in latex pdf output from multirow cell
  - \#2735: latexpdf `Underfull \hbox (badness 10000)` warnings from title page
  - \#2667: latex crashes if resized images appeared in section title
  - \#2763: (html) Provide default value for required `alt` attribute for image tags of SVG source, required to validate and now consistent w/ other formats.

## Release 1.4.4 (released Jun 12, 2016)

### Bugs fixed

  - \#2630: latex: sphinx.sty notice environment formatting problem
  - \#2632: Warning directives fail in quote environment latex build
  - \#2633: Sphinx crashes with old styled indices
  - Fix a `\begin{\minipage}` typo in sphinx.sty from 1.4.2 (ref: 68becb1)
  - \#2622: Latex produces empty pages after title and table of contents
  - \#2640: 1.4.2 LaTeX crashes if code-block inside warning directive
  - Let LaTeX use straight quotes also in inline code (ref \#2627)
  - \#2351: latex crashes if enumerated lists are placed on footnotes
  - \#2646: latex crashes if math contains twice empty lines
  - \#2480: `sphinx.ext.autodoc`: memory addresses were shown
  - latex: allow code-blocks appearing inside lists and quotes at maximal nesting depth (ref \#777, \#2624, \#2651)
  - \#2635: Latex code directives produce inconsistent frames based on viewing resolution
  - \#2639: Sphinx now bundles iftex.sty
  - Failed to build PDF with framed.sty 0.95
  - Sphinx now bundles needspace.sty

## Release 1.4.3 (released Jun 5, 2016)

### Bugs fixed

  - \#2530: got "Counter too large" error on building PDF if large numbered footnotes existed in admonitions
  - `width` option of figure directive does not work if `align` option specified at same time (ref: \#2595)
  - \#2590: The `inputenc` package breaks compiling under lualatex and xelatex
  - \#2540: date on latex front page use different font
  - Suppress "document isn't included in any toctree" warning if the document is included (ref: \#2603)
  - \#2614: Some tables in PDF output will end up shifted if user sets non zero parindent in preamble
  - \#2602: URL redirection breaks the hyperlinks generated by `sphinx.ext.intersphinx`
  - \#2613: Show warnings if merged extensions are loaded
  - \#2619: make sure amstext LaTeX package always loaded (ref: d657225, 488ee52, 9d82cad and \#2615)
  - \#2593: latex crashes if any figures in the table

## Release 1.4.2 (released May 29, 2016)

### Features added

  - Now `suppress_warnings` accepts following configurations (ref: \#2451, \#2466):
      - `app.add_node`
      - `app.add_directive`
      - `app.add_role`
      - `app.add_generic_role`
      - `app.add_source_parser`
      - `image.data_uri`
      - `image.nonlocal_uri`
  - \#2453: LaTeX writer allows page breaks in topic contents; and their horizontal extent now fits in the line width (with shadow in margin). Also warning-type admonitions allow page breaks and their vertical spacing has been made more coherent with the one for hint-type notices (ref \#2446).
  - \#2459: the framing of literal code-blocks in LaTeX output (and not only the code lines themselves) obey the indentation in lists or quoted blocks.
  - \#2343: the long source lines in code-blocks are wrapped (without modifying the line numbering) in LaTeX output (ref \#1534, \#2304).

### Bugs fixed

  - \#2370: the equations are slightly misaligned in LaTeX writer
  - \#1817, \#2077: suppress pep8 warnings on conf.py generated by sphinx-quickstart
  - \#2407: building docs crash if document includes large data image URIs
  - \#2436: Sphinx does not check version by `needs_sphinx` if loading extensions failed
  - \#2397: Setup shorthandoff for Turkish documents
  - \#2447: VerbatimBorderColor wrongly used also for captions of PDF
  - \#2456: C++, fix crash related to document merging (e.g., singlehtml and Latex builders).
  - \#2446: latex(pdf) sets local tables of contents (or more generally topic nodes) in unbreakable boxes, causes overflow at bottom
  - \#2476: Omit MathJax markers if :nowrap: is given
  - \#2465: latex builder fails in case no caption option is provided to toctree directive
  - Sphinx crashes if self referenced toctree found
  - \#2481: spelling mistake for mecab search splitter. Thanks to Naoki Sato.
  - \#2309: Fix could not refer "indirect hyperlink targets" by ref-role
  - intersphinx fails if mapping URL contains any port
  - \#2088: intersphinx crashes if the mapping URL requires basic auth
  - \#2304: auto line breaks in latexpdf codeblocks
  - \#1534: Word wrap long lines in Latex verbatim blocks
  - \#2460: too much white space on top of captioned literal blocks in PDF output
  - Show error reason when multiple math extensions are loaded (ref: \#2499)
  - \#2483: any figure number was not assigned if figure title contains only non text objects
  - \#2501: Unicode subscript numbers are normalized in LaTeX
  - \#2492: Figure directive with :figwidth: generates incorrect Latex-code
  - The caption of figure is always put on center even if `:align:` was specified
  - \#2526: LaTeX writer crashes if the section having only images
  - \#2522: Sphinx touches mo files under installed directory that caused permission error.
  - \#2536: C++, fix crash when an immediately nested scope has the same name as the current scope.
  - \#2555: Fix crash on any-references with unicode.
  - \#2517: wrong bookmark encoding in PDF if using LuaLaTeX
  - \#2521: generated Makefile causes BSD make crashed if sphinx-build not found
  - \#2470: `typing` backport package causes autodoc errors with python 2.7
  - `sphinx.ext.intersphinx` crashes if non-string value is used for key of `intersphinx_mapping`
  - \#2518: `intersphinx_mapping` disallows non alphanumeric keys
  - \#2558: unpack error on devhelp builder
  - \#2561: Info builder crashes when a footnote contains a link
  - \#2565: The descriptions of objects generated by `sphinx.ext.autosummary` overflow lines at LaTeX writer
  - Extend pdflatex config in sphinx.sty to subparagraphs (ref: \#2551)
  - \#2445: `rst_prolog` and `rst_epilog` affect to non reST sources
  - \#2576: `sphinx.ext.imgmath` crashes if subprocess raises error
  - \#2577: `sphinx.ext.imgmath`: Invalid argument are passed to dvisvgm
  - \#2556: Xapian search does not work with Python 3
  - \#2581: The search doesn't work if language="es" (Spanish)
  - \#2382: Adjust spacing after abbreviations on figure numbers in LaTeX writer
  - \#2383: The generated footnote by `latex_show_urls` overflows lines
  - \#2497, \#2552: The label of search button does not fit for the button itself

## Release 1.4.1 (released Apr 12, 2016)

### Incompatible changes

  - The default format of `today_fmt` and `html_last_updated_fmt` is back to strftime format again. Locale Date Markup Language is also supported for backward compatibility until Sphinx 1.5.

### Translations

  - Added Welsh translation, thanks to Geraint Palmer.
  - Added Greek translation, thanks to Stelios Vitalis.
  - Added Esperanto translation, thanks to Dinu Gherman.
  - Added Hindi translation, thanks to Purnank H. Ghumalia.
  - Added Romanian translation, thanks to Razvan Stefanescu.

### Bugs fixed

  - C++, added support for `extern` and `thread_local`.
  - C++, type declarations are now using the prefixes `typedef`, `using`, and `type`, depending on the style of declaration.
  - \#2413: C++, fix crash on duplicate declarations
  - \#2394: Sphinx crashes when html\_last\_updated\_fmt is invalid
  - \#2408: dummy builder not available in Makefile and make.bat
  - \#2412: hyperlink targets are broken in LaTeX builder
  - figure directive crashes if non paragraph item is given as caption
  - \#2418: time formats no longer allowed in today\_fmt
  - \#2395: Sphinx crashes if unicode character in image filename
  - \#2396: "too many values to unpack" in genindex-single
  - \#2405: numref link in PDF jumps to the wrong location
  - \#2414: missing number in PDF hyperlinks to code listings
  - \#2440: wrong import for gmtime. Thanks to Uwe L. Korn.

## Release 1.4 (released Mar 28, 2016)

### Incompatible changes

  - Drop `PorterStemmer` package support. Use `PyStemmer` instead of `PorterStemmer` to accelerate stemming.
  - `sphinx_rtd_theme` has become optional. Please install it manually. Refs \#2087, \#2086, \#1845 and \#2097. Thanks to Victor Zverovich.
  - \#2231: Use DUrole instead of DUspan for custom roles in LaTeX writer. It enables to take title of roles as an argument of custom macros.
  - \#2022: 'Thumbs.db' and '.DS\_Store' are added to `exclude_patterns` default values in conf.py that will be provided on sphinx-quickstart.
  - \#2027, \#2208: The `html_title` accepts string values only. And the `None` value cannot be accepted.
  - `sphinx.ext.graphviz`: show graph image in inline by default
  - \#2060, \#2224: The `manpage` role now generate `sphinx.addnodes.manpage` node instead of `sphinx.addnodes.literal_emphasis` node.
  - \#2022: `html_extra_path` also copies dotfiles in the extra directory, and refers to `exclude_patterns` to exclude extra files and directories.
  - \#2300: enhance autoclass:: to use the docstring of \_\_new\_\_ if \_\_init\_\_ method's is missing of empty
  - \#2251: Previously, under glossary directives, multiple terms for one definition are converted into single `term` node and the each terms in the term node are separated by `termsep` node. In new implementation, each terms are converted into individual `term` nodes and `termsep` node is removed. By this change, output layout of every builders are changed a bit.
  - The default highlight language is now Python 3. This means that source code is highlighted as Python 3 (which is mostly a superset of Python 2), and no parsing is attempted to distinguish valid code. To get the old behavior back, add `highlight_language = "python"` to conf.py.
  - [Locale Date Markup Language](https://unicode.org/reports/tr35/tr35-dates.html#Date_Format_Patterns) like `"MMMM dd, YYYY"` is default format for `today_fmt` and `html_last_updated_fmt`. However strftime format like `"%B %d, %Y"` is also supported for backward compatibility until Sphinx 1.5. Later format will be disabled from Sphinx 1.5.
  - \#2327: `latex_use_parts` is deprecated now. Use `latex_toplevel_sectioning` instead.
  - \#2337: Use `\url{URL}` macro instead of `\href{URL}{URL}` in LaTeX writer.
  - \#1498: manpage writer: don't make whole of item in definition list bold if it includes strong node.
  - \#582: Remove hint message from quick search box for html output.
  - \#2378: Sphinx now bundles newfloat.sty

### Features added

  - \#2092: add todo directive support in napoleon package.
  - \#1962: when adding directives, roles or nodes from an extension, warn if such an element is already present (built-in or added by another extension).
  - \#1909: Add "doc" references to Intersphinx inventories.
  - C++ type alias support (e.g., `.. type:: T = int`).
  - C++ template support for classes, functions, type aliases, and variables (\#1729, \#1314).
  - C++, added new scope management directives `namespace-push` and `namespace-pop`.
  - \#1970: Keyboard shortcuts to navigate Next and Previous topics
  - Intersphinx: Added support for fetching Intersphinx inventories with URLs using HTTP basic auth.
  - C++, added support for template parameter in function info field lists.
  - C++, added support for pointers to member (function).
  - \#2113: Allow `:class:` option to code-block directive.
  - \#2192: Imgmath (pngmath with svg support).
  - \#2200: Support XeTeX and LuaTeX for the LaTeX builder.
  - \#1906: Use xcolor over color for fcolorbox where available for LaTeX output.
  - \#2216: Texinputs makefile improvements.
  - \#2170: Support for Chinese language search index.
  - \#2214: Add sphinx.ext.githubpages to publish the docs on GitHub Pages
  - \#1030: Make page reference names for latex\_show\_pagerefs translatable
  - \#2162: Add Sphinx.add\_source\_parser() to add source\_suffix and source\_parsers from extension
  - \#2207: Add sphinx.parsers.Parser class; a base class for new parsers
  - \#656: Add `graphviz_dot` option to graphviz directives to switch the `dot` command
  - \#1939: Added the `dummy` builder: syntax check without output.
  - \#2230: Add `math_number_all` option to number all displayed math in math extensions
  - \#2235: `needs_sphinx` supports micro version comparison
  - \#2282: Add "language" attribute to html tag in the "basic" theme
  - \#1779: Add EPUB 3 builder
  - \#1751: Add `todo_link_only` to avoid file path and line indication on :rst`todolist`. Thanks to Francesco Montesano.
  - \#2199: Use `imagesize` package to obtain size of images.
  - \#1099: Add configurable retries to the linkcheck builder. Thanks to Alex Gaynor. Also don't check anchors starting with `!`.
  - \#2300: enhance autoclass:: to use the docstring of \_\_new\_\_ if \_\_init\_\_ method's is missing of empty
  - \#1858: Add Sphinx.add\_enumerable\_node() to add enumerable nodes for numfig feature
  - \#1286, \#2099: Add `sphinx.ext.autosectionlabel` extension to allow reference sections using its title. Thanks to Tadhg O'Higgins.
  - \#1854: Allow to choose Janome for Japanese splitter.
  - \#1853: support custom text splitter on html search with `language='ja'`.
  - \#2320: classifier of glossary terms can be used for index entries grouping key The classifier also be used for translation. See also \[glossary-directive\](\#glossary-directive).
  - \#2308: Define `\tablecontinued` macro to redefine the style of continued label for longtables.
  - Select an image by similarity if multiple images are globbed by `.. image:: filename.*`
  - \#1921: Support figure substitutions by `language` and `figure_language_filename`
  - \#2245: Add `latex_elements["passoptionstopackages"]` option to call PassOptionsToPackages in early stage of preambles.
  - \#2340: Math extension: support alignment of multiple equations for MathJax.
  - \#2338: Define `\titleref` macro to redefine the style of `title-reference` roles.
  - Define `\menuselection` and `\accelerator` macros to redefine the style of `menuselection` roles.
  - Define `\crossref` macro to redefine the style of references
  - \#2301: Texts in the classic html theme should be hyphenated.
  - \#2355: Define `\termref` macro to redefine the style of `term` roles.
  - Add `suppress_warnings` to suppress arbitrary warning message (experimental)
  - \#2229: Fix no warning is given for unknown options
  - \#2327: Add `latex_toplevel_sectioning` to switch the top level sectioning of LaTeX document.

### Bugs fixed

  - \#1913: C++, fix assert bug for enumerators in next-to-global and global scope.
  - C++, fix parsing of 'signed char' and 'unsigned char' as types.
  - C++, add missing support for 'friend' functions.
  - C++, add missing support for virtual base classes (thanks to Rapptz).
  - C++, add support for final classes.
  - C++, fix parsing of types prefixed with 'enum'.
  - \#2023: Dutch search support uses Danish stemming info.
  - C++, add support for user-defined literals.
  - \#1804: Now html output wraps overflowed long-line-text in the sidebar. Thanks to Hassen ben tanfous.
  - \#2183: Fix porterstemmer causes `make json` to fail.
  - \#1899: Ensure list is sent to OptParse.
  - \#2164: Fix wrong check for pdftex inside sphinx.sty (for graphicx package option).
  - \#2165, \#2218: Remove faulty and non-need conditional from sphinx.sty.
  - Fix broken LaTeX code is generated if unknown language is given
  - \#1944: Fix rst\_prolog breaks file-wide metadata
  - \#2074: make gettext should use canonical relative paths for .pot. Thanks to anatoly techtonik.
  - \#2311: Fix sphinx.ext.inheritance\_diagram raises AttributeError
  - \#2251: Line breaks in .rst files are transferred to .pot files in a wrong way.
  - \#794: Fix date formatting in latex output is not localized
  - Remove `image/gif` from supported\_image\_types of LaTeX writer (\#2272)
  - Fix ValueError is raised if LANGUAGE is empty string
  - Fix unpack warning is shown when the directives generated from `Sphinx.add_crossref_type` is used
  - The default highlight language is now `default`. This means that source code is highlighted as Python 3 (which is mostly a superset of Python 2) if possible. To get the old behavior back, add `highlight_language = "python"` to conf.py.
  - \#2329: Refresh environment forcedly if source directory has changed.
  - \#2331: Fix code-blocks are filled by block in dvi; remove `xcdraw` option from xcolor package
  - Fix the confval type checker emits warnings if unicode is given to confvals which expects string value
  - \#2360: Fix numref in LaTeX output is broken
  - \#2361: Fix additional paragraphs inside the "compound" directive are indented
  - \#2364: Fix KeyError 'rootSymbol' on Sphinx upgrade from older version.
  - \#2348: Move amsmath and amssymb to before fontpkg on LaTeX writer.
  - \#2368: Ignore emacs lock files like `.#foo.rst` by default.
  - \#2262: literal\_block and its caption has been separated by pagebreak in LaTeX output.
  - \#2319: Fix table counter is overridden by code-block's in LaTeX. Thanks to jfbu.
  - Fix unpack warning if combined with 3rd party domain extensions.
  - \#1153: Fix figures in sidebar causes latex build error.
  - \#2358: Fix user-preamble could not override the tocdepth definition.
  - \#2358: Reduce tocdepth if `part` or `chapter` is used for top\_sectionlevel
  - \#2351: Fix footnote spacing
  - \#2363: Fix `toctree()` in templates generates broken links in SingleHTMLBuilder.
  - \#2366: Fix empty hyperref is generated on toctree in HTML builder.

### Documentation

  - \#1757: Fix for usage of `html_last_updated_fmt`. Thanks to Ralf Hemmecke.

---

1.5.md

---

# Sphinx 1.5

## Release 1.5.6 (released May 15, 2017)

### Bugs fixed

  - \#3614: Sphinx crashes with requests-2.5.0
  - \#3618: autodoc crashes with tupled arguments
  - \#3664: No space after the bullet in items of a latex list produced by Sphinx
  - \#3657: EPUB builder crashes if a document starting with genindex exists
  - \#3588: No compact (p tag) html output in the i18n document build even when `html_compact_lists` is `True`.
  - \#3685: AttributeError when using 3rd party domains
  - \#3702: LaTeX writer styles figure legends with a hard-coded `\small`
  - \#3708: LaTeX writer allows irc scheme
  - \#3717: Stop enforcing that favicon's must be .ico
  - \#3731, \#3732: Protect isenumclass predicate against non-class arguments
  - \#3320: Warning about reference target not being found for container types
  - Misspelled ARCHIVEPREFIX in Makefile for latex build repertory

## Release 1.5.5 (released Apr 03, 2017)

### Bugs fixed

  - \#3597: python domain raises UnboundLocalError if invalid name given
  - \#3599: Move to new MathJax CDN

## Release 1.5.4 (released Apr 02, 2017)

### Features added

  - \#3470: Make genindex support all kinds of letters, not only Latin ones

### Bugs fixed

  - \#3445: setting `'inputenc'` key to `\\usepackage[utf8x]{inputenc}` leads to failed PDF build
  - EPUB file has duplicated `nav.xhtml` link in `content.opf` except first time build
  - \#3488: objects.inv has broken when `release` or `version` contain return code
  - \#2073, \#3443, \#3490: gettext builder that writes pot files unless the content are same without creation date. Thanks to Yoshiki Shibukawa.
  - \#3487: intersphinx: failed to refer options
  - \#3496: latex longtable's last column may be much wider than its contents
  - \#3507: wrong quotes in latex output for productionlist directive
  - \#3533: Moving from Sphinx 1.3.1 to 1.5.3 breaks LaTeX compilation of links rendered as code
  - \#2665, \#2607: Link names in C++ docfields, and make it possible for other domains.
  - \#3542: C++, fix parsing error of non-type template argument with template.
  - \#3065, \#3520: python domain fails to recognize nested class
  - \#3575: Problems with pdflatex in a Turkish document built with Sphinx has reappeared (refs \#2997, \#2397)
  - \#3577: Fix intersphinx debug tool
  - A LaTeX command such as `\\large` inserted in the title items of `latex_documents` causes failed PDF build (refs \#3551, \#3567)

## Release 1.5.3 (released Feb 26, 2017)

### Features added

  - Support requests-2.0.0 (experimental) (refs: \#3367)
  - (latex) PDF page margin dimensions may be customized (refs: \#3387)
  - `literalinclude` directive allows combination of `:pyobject:` and `:lines:` options (refs: \#3416)
  - \#3400: make-mode doesn't use subprocess on building docs

### Bugs fixed

  - \#3370: the caption of code-block is not picked up for translation
  - LaTeX: `release` is not escaped (refs: \#3362)
  - \#3364: sphinx-quickstart prompts overflow on Console with 80 chars width
  - since 1.5, PDF's TOC and bookmarks lack an entry for general Index (refs: \#3383)
  - \#3392: `'releasename'` in `latex_elements` is not working
  - \#3356: Page layout for Japanese `'manual'` docclass has a shorter text area
  - \#3394: When `'pointsize'` is not `10pt`, Japanese `'manual'` document gets wrong PDF page dimensions
  - \#3399: quickstart: conf.py was not overwritten by template
  - \#3366: option directive does not allow punctuations
  - \#3410: return code in `release` breaks html search
  - \#3427: autodoc: memory addresses are not stripped on Windows
  - \#3428: xetex build tests fail due to fontspec v2.6 defining `\strong`
  - \#3349: Result of `IndexBuilder.load()` is broken
  - \#3450: \&nbsp is appeared in EPUB docs
  - \#3418: Search button is misaligned in nature and pyramid theme
  - \#3421: Could not translate a caption of tables
  - \#3552: linkcheck raises UnboundLocalError

## Release 1.5.2 (released Jan 22, 2017)

### Incompatible changes

  - Dependency requirement updates: requests 2.4.0 or above (refs: \#3268, \#3310)

### Features added

  - \#3241: emit latex warning if buggy titlesec (ref \#3210)
  - \#3194: Refer the $MAKE environment variable to determine `make` command
  - Emit warning for nested numbered toctrees (refs: \#3142)
  - \#978: `intersphinx_mapping` also allows a list as a parameter
  - \#3340: (LaTeX) long lines in `parsed-literal` are wrapped like in :rst`code-block`, inline math and footnotes are fully functional.

### Bugs fixed

  - \#3246: xapian search adapter crashes
  - \#3253: In Py2 environment, building another locale with a non-captioned toctree produces `None` captions
  - \#185: References to section title including raw node has broken
  - \#3255: In Py3.4 environment, autodoc doesn't support documentation for attributes of Enum class correctly.
  - \#3261: `latex_use_parts` makes Sphinx crash
  - The warning type `misc.highlighting_failure` does not work
  - \#3294: `add_latex_package()` make crashes non-LaTeX builders
  - The caption of table are rendered as invalid HTML (refs: \#3287)
  - \#3268: Sphinx crashes with requests package from Debian jessie
  - \#3284: Sphinx crashes on parallel build with an extension which raises unserializable exception
  - \#3315: Bibliography crashes on latex build with docclass 'memoir'
  - \#3328: Could not refer rubric implicitly
  - \#3329: emit warnings if po file is invalid and can't read it. Also writing mo
  - \#3337: Ugly rendering of definition list term's classifier
  - \#3335: gettext does not extract field\_name of a field in a field\_list
  - \#2952: C++, fix refs to operator() functions.
  - Fix Unicode super- and subscript digits in :rst`code-block` and parsed-literal LaTeX output (ref \#3342)
  - LaTeX writer: leave `"` character inside parsed-literal as is (ref \#3341)
  - \#3234: intersphinx failed for encoded inventories
  - \#3158: too much space after captions in PDF output
  - \#3317: An URL in parsed-literal contents gets wrongly rendered in PDF if with hyphen
  - LaTeX crash if the filename of an image inserted in parsed-literal via a substitution contains an hyphen (ref \#3340)
  - LaTeX rendering of inserted footnotes in parsed-literal is wrong (ref \#3340)
  - Inline math in parsed-literal is not rendered well by LaTeX (ref \#3340)
  - \#3308: Parsed-literals don't wrap very long lines with pdf builder (ref \#3340)
  - \#3295: Could not import extension sphinx.builders.linkcheck
  - \#3285: autosummary: asterisks are escaped twice
  - LaTeX, pass dvipdfm option to geometry package for Japanese documents (ref \#3363)
  - Fix parselinenos() could not parse left half open range (cf. "-4")

## Release 1.5.1 (released Dec 13, 2016)

### Features added

  - \#3214: Allow to suppress "unknown mimetype" warnings from epub builder using `suppress_warnings`.

### Bugs fixed

  - \#3195: Can not build in parallel
  - \#3198: AttributeError is raised when toctree has 'self'
  - \#3211: Remove untranslated Sphinx locale catalogs (it was covered by untranslated it\_IT)
  - \#3212: HTML Builders crashes with Docutils 0.13
  - \#3207: more latex problems with references inside parsed-literal directive (`\DUrole`)
  - \#3205: sphinx.util.requests crashes with old pyOpenSSL (\< 0.14)
  - \#3220: KeyError when having a duplicate citation
  - \#3200: LaTeX: xref inside desc\_name not allowed
  - \#3228: `build_sphinx` command crashes when missing dependency
  - \#2469: Ignore updates of catalog files for gettext builder. Thanks to Hiroshi Ohkubo.
  - \#3183: Randomized jump box order in generated index page.

## Release 1.5 (released Dec 5, 2016)

### Incompatible changes

1.5a1

  - latex, package fancybox is not any longer a dependency of sphinx.sty
  - Use `'locales'` as a default value of `locale_dirs`
  - latex, package ifthen is not any longer a dependency of sphinx.sty
  - latex, style file does not modify fancyvrb's Verbatim (also available as OriginalVerbatim) but uses sphinxVerbatim for name of custom wrapper.
  - latex, package newfloat is not used (and not included) anymore (ref \#2660; it was used since 1.3.4 and shipped with Sphinx since 1.4).
  - latex, literal blocks in tables do not use OriginalVerbatim but sphinxVerbatimintable which handles captions and wraps lines (ref \#2704).
  - latex, replace `pt` by TeX equivalent `bp` if found in `width` or `height` attribute of an image.
  - latex, if `width` or `height` attribute of an image is given with no unit, use `px` rather than ignore it.
  - latex: Separate stylesheets of pygments to independent .sty file
  - \#2454: The filename of sourcelink is now changed. The value of `html_sourcelink_suffix` will be appended to the original filename (like `index.rst.txt`).
  - `sphinx.util.copy_static_entry()` is now deprecated. Use `sphinx.util.fileutil.copy_asset()` instead.
  - `sphinx.util.osutil.filecopy()` skips copying if the file has not been changed (ref: \#2510, \#2753)
  - Internet Explorer 6-8, Opera 12.1x or Safari 5.1+ support is dropped because jQuery version is updated from 1.11.0 to 3.1.0 (ref: \#2634, \#2773)
  - QtHelpBuilder doesn't generate search page (ref: \#2352)
  - QtHelpBuilder uses `nonav` theme instead of default one to improve readability.
  - latex: To provide good default settings to Japanese documents, Sphinx uses `jreport` and `jsbook` as docclass if `language` is `ja`.
  - `sphinx-quickstart` now allows a project version is empty
  - Fix :download: role on epub/qthelp builder. They ignore the role because they don't support it.
  - `sphinx.ext.viewcode` doesn't work on epub building by default. `viewcode_enable_epub` option
  - `sphinx.ext.viewcode` disabled on singlehtml builder.
  - Use make-mode of `sphinx-quickstart` by default. To disable this, use `-M` option
  - Fix `genindex.html`, Sphinx's document template, link address to itself to satisfy xhtml standard.
  - Use epub3 builder by default. And the old epub builder is renamed to epub2.
  - Fix `epub` and `epub3` builders that contained links to `genindex` even if `epub_use_index = False`.
  - `html_translator_class` is now deprecated. Use <span class="title-ref">\~sphinx.application.Sphinx.set\_translator</span> API instead.
  - Drop python 2.6 and 3.3 support
  - Drop epub3 builder's `epub3_page_progression_direction` option (use `epub3_writing_mode`).
  - \#2877: Rename `latex_elements['footer']` to `latex_elements['atendofbody']`

1.5a2

  - \#2983: Rename `epub3_description` and `epub3_contributor` to `epub_description` and `epub_contributor`.
  - Remove themes/basic/defindex.html; no longer used
  - Sphinx does not ship anymore (but still uses) LaTeX style file `fncychap`
  - \#2435: Slim down quickstarted conf.py
  - The `sphinx.sty` latex package does not load itself "hyperref", as this is done later in the preamble of the latex output via `'hyperref'` key.
  - Sphinx does not ship anymore a custom modified LaTeX style file `tabulary`. The non-modified package is used.
  - \#3057: By default, footnote marks in latex PDF output are not preceded by a space anymore, `\sphinxBeforeFootnote` allows user customization if needed.
  - LaTeX target requires that option `hyperfootnotes` of package `hyperref` be left unchanged to its default (i.e. `true`) (refs: \#3022)

1.5 final

  - \#2986: `themes/basic/defindex.html` is now deprecated
  - Emit warnings that will be deprecated in Sphinx 1.6 by default. Users can change the behavior by setting the environment variable PYTHONWARNINGS. Please refer \[when-deprecation-warnings-are-displayed\](\#when-deprecation-warnings-are-displayed).
  - \#2454: new JavaScript variable `SOURCELINK_SUFFIX` is added

### Deprecated

These features are removed in Sphinx 1.6:

  - LDML format support in i18n feature
  - `sphinx.addnodes.termsep`
  - Some functions and classes in `sphinx.util.pycompat`: `zip_longest`, `product`, `all`, `any`, `next`, `open`, `class_types`, `base_exception`, `relpath`, `StringIO`, `BytesIO`. Please use the standard library version instead;

If any deprecation warning like `RemovedInSphinxXXXWarning` are displayed, please refer \[when-deprecation-warnings-are-displayed\](\#when-deprecation-warnings-are-displayed).

### Features added

1.5a1

  - \#2951: Add `--implicit-namespaces` PEP-0420 support to apidoc.
  - Add `:caption:` option for sphinx.ext.inheritance\_diagram.
  - \#2471: Add config variable for default doctest flags.
  - Convert linkcheck builder to requests for better encoding handling
  - \#2463, \#2516: Add keywords of "meta" directive to search index
  - `:maxdepth:` option of toctree affects `secnumdepth` (ref: \#2547)
  - \#2575: Now `sphinx.ext.graphviz` allows `:align:` option
  - Show warnings if unknown key is specified to `latex_elements`
  - Show warnings if no domains match with `primary_domain` (ref: \#2001)
  - C++, show warnings when the kind of role is misleading for the kind of target it refers to (e.g., using the `class` role for a function).
  - latex, writer abstracts more of text styling into customizable macros, e.g. the `visit_emphasis` will output `\sphinxstyleemphasis` rather than `\emph` (which may be in use elsewhere or in an added LaTeX package). See list at end of `sphinx.sty` (ref: \#2686)
  - latex, public names for environments and parameters used by note, warning, and other admonition types, allowing full customizability from the `'preamble'` key or an input file (ref: feature request \#2674, \#2685)
  - latex, better computes column widths of some tables (as a result, there will be slight changes as tables now correctly fill the line width; ref: \#2708)
  - latex, sphinxVerbatim environment is more easily customizable (ref: \#2704). In addition to already existing VerbatimColor and VerbatimBorderColor:
      - two lengths `\sphinxverbatimsep` and `\sphinxverbatimborder`,
      - booleans `\ifsphinxverbatimwithframe` and `\ifsphinxverbatimwrapslines`.
  - latex, captions for literal blocks inside tables are handled, and long code lines wrapped to fit table cell (ref: \#2704)
  - \#2597: Show warning messages as darkred
  - latex, allow image dimensions using px unit (default is 96px=1in)
  - Show warnings if invalid dimension units found
  - \#2650: Add `--pdb` option to setup.py command
  - latex, make the use of `\small` for code listings customizable (ref \#2721)
  - \#2663: Add `--warning-is-error` option to setup.py command
  - Show warnings if deprecated latex options are used
  - Add sphinx.config.ENUM to check the config values is in candidates
  - math: Add hyperlink marker to each equations in HTML output
  - Add new theme `nonav` that doesn't include any navigation links. This is for any help generator like qthelp.
  - \#2680: `sphinx.ext.todo` now emits warnings if `todo_emit_warnings` enabled. Also, it emits an additional event named `todo-defined` to handle the TODO entries in 3rd party extensions.
  - Python domain signature parser now uses the xref mixin for 'exceptions', allowing exception classes to be autolinked.
  - \#2513: Add `latex_engine` to switch the LaTeX engine by conf.py
  - \#2682: C++, basic support for attributes (C++11 style and GNU style). The new configuration variables 'cpp\_id\_attributes' and 'cpp\_paren\_attributes' can be used to introduce custom attributes.
  - \#1958: C++, add configuration variable 'cpp\_index\_common\_prefix' for removing prefixes from the index text of C++ objects.
  - C++, added concept directive. Thanks to mickk-on-cpp.
  - C++, added support for template introduction syntax. Thanks to mickk-on-cpp.
  - \#2725: latex builder: allow to use user-defined template file (experimental)
  - apidoc now avoids invalidating cached files by not writing to files whose content doesn't change. This can lead to significant performance wins if apidoc is run frequently.
  - \#2851: `sphinx.ext.math` emits missing-reference event if equation not found
  - \#1210: `eqref` role now supports cross reference
  - \#2892: Added `-a` (`--append-syspath`) option to `sphinx-apidoc`
  - \#1604: epub3 builder: Obey font-related CSS when viewing in iBooks.
  - \#646: `option` directive support '.' character as a part of options
  - Add document about kindlegen and fix document structure for it.
  - \#2474: Add `intersphinx_timeout` option to `sphinx.ext.intersphinx`
  - \#2926: EPUB3 builder supports vertical mode (`epub3_writing_mode` option)
  - \#2695: `build_sphinx` subcommand for setuptools handles exceptions as same as `sphinx-build` does
  - \#326: `numref` role can also refer sections
  - \#2916: `numref` role can also refer caption as an its linktext

1.5a2

  - \#3008: `linkcheck` builder ignores self-signed certificate URL
  - \#3020: new `'geometry'` key to `latex_elements` whose default uses LaTeX style file `geometry.sty` to set page layout
  - \#2843: Add :start-at: and :end-at: options to literalinclude directive
  - \#2527: Add `:reversed:` option to toctree directive
  - Add `-t` and `-d` option to `sphinx-quickstart` to support templating generated Sphinx project.
  - \#3028: Add `{path}` and `{basename}` to the format of `figure_language_filename`
  - new `'hyperref'` key in the `latex_elements` dictionary (ref \#3030)
  - \#3022: Allow code-blocks in footnotes for LaTeX PDF output

1.5b1

  - \#2513: A better default settings for XeLaTeX
  - \#3096: `'maxlistdepth'` key to work around LaTeX list limitations
  - \#3060: autodoc supports documentation for attributes of Enum class. Now autodoc render just the value of Enum attributes instead of Enum attribute representation.
  - Add `--extensions` to `sphinx-quickstart` to support enable arbitrary extensions from command line (ref: \#2904)
  - \#3104, \#3122: `'sphinxsetup'` for key=value styling of Sphinx LaTeX
  - \#3071: Autodoc: Allow mocked module decorators to pass-through functions unchanged
  - \#2495: linkcheck: Allow skipping anchor checking using `linkcheck_anchors_ignore`
  - \#3083: let Unicode no-break space act like LaTeX `~` (fixed \#3019)
  - \#3116: allow word wrap in PDF output for inline literals (ref \#3110)
  - \#930: sphinx-apidoc allow wildcards for excluding paths. Thanks to Nick Coghlan.
  - \#3121: add `inlineliteralwraps` option to control if inline literal word-wraps in latex

1.5 final

  - \#3095: Add `tls_verify` and `tls_cacerts` to support self-signed HTTPS servers in linkcheck and intersphinx
  - \#2215: make.bat generated by sphinx-quickstart can be called from another dir. Thanks to Timotheus Kampik.
  - \#3185: Add new warning type `misc.highlighting_failure`

### Bugs fixed

1.5a1

  - \#2707: (latex) the column width is badly computed for tabular
  - \#2799: Sphinx installs roles and directives automatically on importing sphinx module. Now Sphinx installs them on running application.
  - `sphinx.ext.autodoc` crashes if target code imports \* from mock modules by `autodoc_mock_imports`.
  - \#1953: `Sphinx.add_node` does not add handlers the translator installed by `html_translator_class`
  - \#1797: text builder inserts blank line on top
  - \#2894: quickstart main() doesn't use argv argument
  - \#2874: gettext builder could not extract all text under the `only` directives
  - \#2485: autosummary crashes with multiple source\_suffix values
  - \#1734: Could not translate the caption of toctree directive
  - Could not translate the content of meta directive (ref: \#1734)
  - \#2550: external links are opened in help viewer
  - \#2687: Running Sphinx multiple times produces 'already registered' warnings

1.5a2

  - \#2810: Problems with pdflatex in an Italian document
  - Use `latex_elements.papersize` to specify papersize of LaTeX in Makefile
  - \#2988: linkcheck: retry with GET request if denied HEAD request
  - \#2990: linkcheck raises "Can't convert 'bytes' object to str implicitly" error if linkcheck\_anchors enabled
  - \#3004: Invalid link types "top" and "up" are used
  - \#3009: Bad rendering of parsed-literals in LaTeX since Sphinx 1.4.4
  - \#3000: `option` directive generates invalid HTML anchors
  - \#2984: Invalid HTML has been generated if `html_split_index` enabled
  - \#2986: themes/basic/defindex.html should be changed for html5 friendly
  - \#2987: Invalid HTML has been generated if multiple IDs are assigned to a list
  - \#2891: HTML search does not provide all the results
  - \#1986: Title in PDF Output
  - \#147: Problem with latex chapter style
  - \#3018: LaTeX problem with page layout dimensions and chapter titles
  - Fix an issue with `\pysigline` in LaTeX style file (ref \#3023)
  - \#3038: `sphinx.ext.math*` raises TypeError if labels are duplicated
  - \#3031: incompatibility with LaTeX package `tocloft`
  - \#3003: literal blocks in footnotes are not supported by Latex
  - \#3047: spacing before footnote in pdf output is not coherent and allows breaks
  - \#3045: HTML search index creator should ignore "raw" content if now html
  - \#3039: English stemmer returns wrong word if the word is capitalized
  - Fix make-mode Makefile template (ref \#3056, \#2936)

1.5b1

  - \#2432: Fix unwanted \* between varargs and keyword only args. Thanks to Alex Grönholm.
  - \#3062: Failed to build PDF using 1.5a2 (undefined `\hypersetup` for Japanese documents since PR\#3030)
  - Better rendering of multiline signatures in html.
  - \#777: LaTeX output "too deeply nested" (ref \#3096)
  - Let LaTeX image inclusion obey `scale` before textwidth fit (ref \#2865, \#3059)
  - \#3019: LaTeX fails on description of C function with arguments (ref \#3083)
  - fix latex inline literals where `< > -` gobbled a space

1.5 final

  - \#3069: Even if `'babel'` key is set to empty string, LaTeX output contains one `\addto\captions...`
  - \#3123: user `'babel'` key setting is not obeyed anymore
  - \#3155: Fix JavaScript for `html_sourcelink_suffix` fails with IE and Opera
  - \#3085: keep current directory after breaking build documentation. Thanks to Timotheus Kampik.
  - \#3181: pLaTeX crashes with a section contains endash
  - \#3180: latex: add stretch/shrink between successive singleline or multipleline cpp signatures (ref \#3072)
  - \#3128: globing images does not support .svgz file
  - \#3015: fix a broken test on Windows.
  - \#1843: Fix documentation of descriptor classes that have a custom metaclass. Thanks to Erik Bray.
  - \#3190: util.split\_docinfo fails to parse multi-line field bodies
  - \#3024, \#3037: In Python3, application.Sphinx.\_log crushed when the log message cannot be encoded into console encoding.

### Testing

  - To simplify, Sphinx uses external mock package even if `unittest.mock` exists.

---

1.6.md

---

# Sphinx 1.6

## Release 1.6.7 (released Feb 04, 2018)

### Bugs fixed

  - \#1922: html search: Upper characters problem in French
  - \#4412: Updated jQuery version from 3.1.0 to 3.2.1
  - \#4438: math: math with labels with whitespace cause html error
  - \#2437: make full reference for classes, aliased with "alias of"
  - \#4434: pure numbers as link targets produce warning
  - \#4477: Build fails after building specific files
  - \#4449: apidoc: include "empty" packages that contain modules
  - \#3917: citation labels are transformed to ellipsis
  - \#4501: graphviz: epub3 validation error caused if graph is not clickable
  - \#4514: graphviz: workaround for wrong map ID which graphviz generates
  - \#4525: autosectionlabel does not support parallel build
  - \#3953: Do not raise warning when there is a working intersphinx inventory
  - \#4487: math: ValueError is raised on parallel build. Thanks to jschueller.
  - \#2372: autosummary: invalid signatures are shown for type annotated functions
  - \#3942: html: table is not aligned to center even if `:align: center`

## Release 1.6.6 (released Jan 08, 2018)

### Features added

  - \#4181: autodoc: Sort dictionary keys when possible
  - `VerbatimHighlightColor` is a new \[LaTeX 'sphinxsetup' \<latexsphinxsetup\>\](\#latex-'sphinxsetup'-\<latexsphinxsetup\>) key (refs: \#4285)
  - Easier customizability of LaTeX macros involved in rendering of code-blocks
  - Show traceback if conf.py raises an exception (refs: \#4369)
  - Add `smartquotes` to disable smart quotes through `conf.py` (refs: \#3967)
  - Add `smartquotes_action` and `smartquotes_excludes` (refs: \#4142, \#4357)

### Bugs fixed

  - \#4334: sphinx-apidoc: Don't generate references to non-existing files in TOC
  - \#4206: latex: reST label between paragraphs loses paragraph break
  - \#4231: html: Apply fixFirefoxAnchorBug only under Firefox
  - \#4221: napoleon depends on autodoc, but users need to load it manually
  - \#2298: automodule fails to document a class attribute
  - \#4099: C++: properly link class reference to class from inside constructor
  - \#4267: PDF build broken by Unicode U+2116 NUMERO SIGN character
  - \#4249: PDF output: Pygments error highlighting increases line spacing in code blocks
  - \#1238: Support `:emphasize-lines:` in PDF output
  - \#4279: Sphinx crashes with pickling error when run with multiple processes and remote image
  - \#1421: Respect the quiet flag in sphinx-quickstart
  - \#4281: Race conditions when creating output directory
  - \#4315: For PDF 'howto' documents, `latex_toplevel_sectioning='part'` generates `\chapter` commands
  - \#4214: Two todolist directives break Sphinx 1.6.5
  - Fix links to external option docs with intersphinx (refs: \#3769)
  - \#4091: Private members not documented without :undoc-members:

## Release 1.6.5 (released Oct 23, 2017)

### Features added

  - \#4107: Make searchtools.js compatible with pre-Sphinx1.5 templates
  - \#4112: Don't override the smart\_quotes setting if it was already set
  - \#4125: Display reference texts of original and translated passages on i18n warning message
  - \#4147: Include the exception when logging PO/MO file read/write

### Bugs fixed

  - \#4085: Failed PDF build from image in parsed-literal using `:align:` option
  - \#4100: Remove debug print from autodoc extension
  - \#3987: Changing theme from `alabaster` causes HTML build to fail
  - \#4096: C++, don't crash when using the wrong role type. Thanks to mitya57.
  - \#4070, \#4111: crashes when the warning message contains format strings (again)
  - \#4108: Search word highlighting breaks SVG images
  - \#3692: Unable to build HTML if writing .buildinfo failed
  - \#4152: HTML writer crashes if a field list is placed on top of the document
  - \#4063: Sphinx crashes when labeling directive `.. todolist::`
  - \#4134: \[doc\] `docutils.conf` is not documented explicitly
  - \#4169: Chinese language doesn't trigger Chinese search automatically
  - \#1020: ext.todo todolist not linking to the page in pdflatex
  - \#3965: New quickstart generates wrong SPHINXBUILD in Makefile
  - \#3739: `:module:` option is ignored at content of pyobjects
  - \#4149: Documentation: Help choosing `latex_engine`
  - \#4090: \[doc\] `latex_additional_files` with extra LaTeX macros should not use `.tex` extension
  - Failed to convert reST parser error to warning (refs: \#4132)

## Release 1.6.4 (released Sep 26, 2017)

### Features added

  - \#3926: Add `autodoc_warningiserror` to suppress the behavior of `-W` option during importing target modules on autodoc

### Bugs fixed

  - \#3924: docname lost after dynamically parsing RST in extension

  - \#3946: Typo in sphinx.sty (this was a bug with no effect in default context)

  -   - pep  
        and :rfc: does not supports `default-role` directive (refs: \#3960)

  - \#3960: default\_role = 'guilabel' not functioning

  - Missing `texinputs_win/Makefile` to be used in latexpdf builder on windows.

  - \#4026: nature: Fix macOS Safari scrollbar color

  - \#3877: Fix for C++ multiline signatures.

  - \#4006: Fix crash on parallel build

  - \#3969: private instance attributes causes AttributeError

  - \#4041: C++, remove extra name linking in function pointers.

  - \#4038: C, add missing documentation of `member` role.

  - \#4044: An empty multicolumn cell causes extra row height in PDF output

  - \#4049: Fix typo in output of sphinx-build -h

  - \#4062: hashlib.sha1() must take bytes, not unicode on Python 3

  - Avoid indent after index entries in latex (refs: \#4066)

  - \#4070: crashes when the warning message contains format strings

  - \#4067: Return non-zero exit status when make subprocess fails

  - \#4055: graphviz: the :align: option does not work for SVG output

  - \#4055: graphviz: the :align: center option does not work for latex output

  - \#4051: `warn()` function for HTML theme outputs '`None`' string

## Release 1.6.3 (released Jul 02, 2017)

### Features added

  - latex: hint that code-block continues on next page (refs: \#3764, \#3792)

### Bugs fixed

  - \#3821: Failed to import sphinx.util.compat with Docutils 0.14rc1
  - \#3829: sphinx-quickstart template is incomplete regarding use of `alabaster`
  - \#3772: 'str object' has no attribute 'filename'
  - Emit wrong warnings if citation label includes hyphens (refs: \#3565)
  - \#3858: Some warnings are not colored when using --color option
  - \#3775: Remove unwanted whitespace in default template
  - \#3835: sphinx.ext.imgmath fails to convert SVG images if project directory name contains spaces
  - \#3850: Fix color handling in make mode's help command
  - \#3865: use of self.env.warn in Sphinx extension fails
  - \#3824: production lists apply smart quotes transform since Sphinx 1.6.1
  - latex: fix `\sphinxbfcode` swallows initial space of argument
  - \#3878: Quotes in auto-documented class attributes should be straight quotes in PDF output
  - \#3881: LaTeX figure floated to next page sometimes leaves extra vertical whitespace
  - \#3885: duplicated footnotes raises IndexError
  - \#3873: Failure of deprecation warning mechanism of `sphinx.util.compat.Directive`
  - \#3874: Bogus warnings for "citation not referenced" for cross-file citations
  - \#3860: Don't download images when builders not supported images
  - \#3860: Remote image URIs without filename break builders not supported remote images
  - \#3833: command line messages are translated unintentionally with `language` setting.
  - \#3840: make checking `epub_uid` strict
  - \#3851, \#3706: Fix about box drawing characters for PDF output
  - \#3900: autosummary could not find methods
  - \#3902: Emit error if `latex_documents` contains non-unicode string in py2

## Release 1.6.2 (released May 28, 2017)

### Incompatible changes

  - \#3789: Do not require typing module for python\>=3.5

### Bugs fixed

  - \#3754: HTML builder crashes if HTML theme appends own stylesheets
  - \#3756: epub: Entity 'mdash' not defined
  - \#3758: Sphinx crashed if logs are emitted in conf.py
  - \#3755: incorrectly warns about dedent with literalinclude
  - \#3742: [RTD](https://readthedocs.org/) PDF builds of Sphinx own docs are missing an index entry in the bookmarks and table of contents. This is [rtfd/readthedocs.org\#2857](https://github.com/rtfd/readthedocs.org/issues/2857) issue, a workaround is obtained using some extra LaTeX code in Sphinx's own `conf.py`
  - \#3770: Build fails when a "code-block" has the option emphasize-lines and the number indicated is higher than the number of lines
  - \#3774: Incremental HTML building broken when using citations
  - \#3763: got epubcheck validations error if epub\_cover is set
  - \#3779: 'ImportError' in sphinx.ext.autodoc due to broken 'sys.meta\_path'. Thanks to Tatiana Tereshchenko.
  - \#3796: env.resolve\_references() crashes when non-document node given
  - \#3803: Sphinx crashes with invalid PO files
  - \#3791: PDF "continued on next page" for long tables isn't internationalized
  - \#3788: smartquotes emits warnings for unsupported languages
  - \#3807: latex Makefile for `make latexpdf` is only for unixen
  - \#3781: double hyphens in option directive are compiled as endashes
  - \#3817: latex builder raises AttributeError

## Release 1.6.1 (released May 16, 2017)

### Dependencies

1.6b1

  - (updated) latex output is tested with Ubuntu trusty's texlive packages (Feb.
    
    2014\) and earlier tex installations may not be fully compliant, particularly regarding Unicode engines xelatex and lualatex

  - (added) latexmk is required for `make latexpdf` on GNU/Linux and Mac OS X (refs: \#3082)

### Incompatible changes

1.6b1

  - \#1061, \#2336, \#3235: Now generation of autosummary doesn't contain imported members by default. Thanks to Luc Saffre.
  - LaTeX `\includegraphics` command isn't overloaded: only `\sphinxincludegraphics` has the custom code to fit image to available width if oversized.
  - The subclasses of `sphinx.domains.Index` should override `generate()` method. The default implementation raises NotImplementedError
  - LaTeX positioned long tables horizontally centered, and short ones flushed left (no text flow around table.) The position now defaults to center in both cases, and it will obey Docutils 0.13 `:align:` option (refs \#3415, \#3377)
  - option directive also allows all punctuations for the option name (refs: \#3366)
  - \#3413: if :rst`literalinclude`'s `:start-after:` is used, make `:lines:` relative (refs \#3412)
  - `literalinclude` directive does not allow the combination of `:diff:` option and other options (refs: \#3416)
  - LuaLaTeX engine uses `fontspec` like XeLaTeX. It is advised `latex_engine = 'lualatex'` be used only on up-to-date TeX installs (refs \#3070, \#3466)
  - `!latex_keep_old_macro_names` default value has been changed from `True` to `False`. This means that some LaTeX macros for styling are by default defined only with `\sphinx..` prefixed names. (refs: \#3429)
  - Footer "Continued on next page" of LaTeX longtable's now not framed (refs: \#3497)
  - \#3529: The arguments of `BuildEnvironment.__init__` is changed
  - \#3082: Use latexmk for pdf (and dvi) targets (Unix-like platforms only)
  - \#3558: Emit warnings if footnotes and citations are not referenced. The warnings can be suppressed by `suppress_warnings`.
  - latex made available (non documented) colour macros from a file distributed with pdftex engine for Plain TeX. This is removed in order to provide better support for multiple TeX engines. Only interface from `color` or `xcolor` packages should be used by extensions of Sphinx latex writer. (refs \#3550)
  - `Builder.env` is not filled at instantiation
  - \#3594: LaTeX: single raw directive has been considered as block level element
  - \#3639: If `html_experimental_html5_writer` is available, epub builder use it by default.
  - `Sphinx.add_source_parser()` raises an error if duplicated

1.6b2

  - \#3345: Replace the custom smartypants code with Docutils' smart\_quotes. Thanks to Dmitry Shachnev, and to Günter Milde at Docutils.

1.6b3

  - LaTeX package `eqparbox` is not used and not loaded by Sphinx anymore
  - LaTeX package `multirow` is not used and not loaded by Sphinx anymore
  - Add line numbers to citation data in std domain

1.6 final

  - LaTeX package `threeparttable` is not used and not loaded by Sphinx anymore (refs \#3686, \#3532, \#3377)

### Features removed

  - Configuration variables
      - epub3\_contributor
      - epub3\_description
      - epub3\_page\_progression\_direction
      - html\_translator\_class
      - html\_use\_modindex
      - latex\_font\_size
      - latex\_paper\_size
      - latex\_preamble
      - latex\_use\_modindex
      - latex\_use\_parts
  - `termsep` node
  - defindex.html template
  - LDML format support in `today`, `today_fmt` and `html_last_updated_fmt`
  - `:inline:` option for the directives of sphinx.ext.graphviz extension
  - sphinx.ext.pngmath extension
  - `sphinx.util.compat.make_admonition()`

### Features added

1.6b1

  - \#3136: Add `:name:` option to the directives in `sphinx.ext.graphviz`
  - \#2336: Add `imported_members` option to `sphinx-autogen` command to document imported members.
  - C++, add `:tparam-line-spec:` option to templated declarations. When specified, each template parameter will be rendered on a separate line.
  - \#3359: Allow sphinx.js in a user locale dir to override sphinx.js from Sphinx
  - \#3303: Add `:pyversion:` option to the doctest directive.
  - \#3378: (latex) support for `:widths:` option of table directives (refs: \#3379, \#3381)
  - \#3402: Allow to suppress "download file not readable" warnings using `suppress_warnings`.
  - \#3377: latex: Add support for Docutils 0.13 `:align:` option for tables (but does not implement text flow around table).
  - latex: footnotes from inside tables are hyperlinked (except from captions or headers) (refs: \#3422)
  - Emit warning if over dedent has detected on `literalinclude` directive (refs: \#3416)
  - Use for LuaLaTeX same default settings as for XeLaTeX (i.e. `fontspec` and `polyglossia`). (refs: \#3070, \#3466)
  - Make `'extraclassoptions'` key of `latex_elements` public (refs \#3480)
  - \#3463: Add warning messages for required EPUB3 metadata. Add default value to `epub_description` to avoid warning like other settings.
  - \#3476: setuptools: Support multiple builders
  - latex: merged cells in LaTeX tables allow code-blocks, lists, blockquotes... as do normal cells (refs: \#3435)
  - HTML builder uses experimental HTML5 writer if `html_experimental_html5_writer` is `True` and Docutils 0.13 or later is installed.
  - LaTeX macros to customize space before and after tables in PDF output (refs \#3504)
  - \#3348: Show decorators in literalinclude and viewcode directives
  - \#3108: Show warning if :start-at: and other literalinclude options does not match to the text
  - \#3609: Allow to suppress "duplicate citation" warnings using `suppress_warnings`
  - \#2803: Discovery of builders by entry point
  - \#1764, \#1676: Allow setting 'rel' and 'title' attributes for stylesheets
  - \#3589: Support remote images on non-HTML builders
  - \#3589: Support images in Data URI on non-HTML builders
  - \#2961: improve `autodoc_mock_imports`. Now the config value only requires to declare the top-level modules that should be mocked. Thanks to Robin Jarry.
  - \#3449: On py3, autodoc use inspect.signature for more accurate signature calculation. Thanks to Nathaniel J. Smith.
  - \#3641: Epub theme supports HTML structures that are generated by HTML5 writer.
  - \#3644: autodoc uses inspect instead of checking types. Thanks to Jeroen Demeyer.
  - Add a new extension; `sphinx.ext.imgconverter`. It converts images in the document to appropriate format for builders
  - latex: Use templates to render tables (refs \#3389, 2a37b0e)

1.6b2

  - `LATEXMKOPTS` variable for the Makefile in `$BUILDDIR/latex` to pass options to `latexmk` when executing `make latexpdf` (refs \#3695, \#3720)
  - Add a new event `env-check-consistency` to check consistency to extensions
  - Add `Domain.check_consistency()` to check consistency

### Bugs fixed

1.6b1

  - `literalinclude` directive expands tabs after dedent-ing (refs: \#3416)
  - \#1574: Paragraphs in table cell doesn't work in Latex output
  - \#3288: Table with merged headers not wrapping text
  - \#3491: Inconsistent vertical space around table and longtable in PDF
  - \#3506: Depart functions for all admonitions in HTML writer now properly pass `node` to `depart_admonition`.
  - \#2693: Sphinx latex style file wrongly inhibits colours for section headings for latex+dvi(ps,pdf,pdfmx)
  - C++, properly look up `any` references.
  - \#3624: sphinx.ext.intersphinx couldn't load inventories compressed with gzip
  - \#3551: PDF information dictionary is lacking author and title data
  - \#3351: intersphinx does not refers context like `py:module`, `py:class` and so on.
  - Fail to load template file if the parent template is archived

1.6b2

  - \#3661: sphinx-build crashes on parallel build
  - \#3669: gettext builder fails with "ValueError: substring not found"
  - \#3660: Sphinx always depends on sphinxcontrib-websupport and its dependencies
  - \#3472: smart quotes getting wrong in latex (at least with list of strings via autoattribute) (refs: \#3345, \#3666)

1.6b3

  - \#3588: No compact (p tag) html output in the i18n document build even when `html_compact_lists` is `True`.
  - The `make latexpdf` from 1.6b1 (for GNU/Linux and Mac OS, using `latexmk`) aborted earlier in case of LaTeX errors than was the case with 1.5 series, due to hard-coded usage of `--halt-on-error` option (refs \#3695)
  - \#3683: sphinx.websupport module is not provided by default
  - \#3683: Failed to build document if builder.css\_file.insert() is called
  - \#3714: viewcode extension not taking `highlight_code='none'` in account
  - \#3698: Moving :doc: to std domain broke backwards compatibility
  - \#3633: misdetect unreferenced citations

1.6 final

  - LaTeX tables do not allow multiple paragraphs in a header cell
  - LATEXOPTS is not passed over correctly to pdflatex since 1.6b3
  - \#3532: Figure or literal block captions in cells of short tables cause havoc in PDF output
  - Fix: in PDF captions of tables are rendered differently whether table is of longtable class or not (refs \#3686)
  - \#3725: Todo looks different from note in LaTeX output
  - \#3479: stub-columns have no effect in LaTeX output
  - \#3738: Nonsensical code in theming.py
  - \#3746: PDF builds fail with latexmk 4.48 or earlier due to undefined options `-pdfxe` and `-pdflua`

### Deprecated

1.6b1

  - `sphinx.util.compat.Directive` class is now deprecated. Please use instead `docutils.parsers.rst.Directive`

  - `sphinx.util.compat.docutils_version` is now deprecated

  - \#2367: `Sphinx.warn()`, `Sphinx.info()` and other logging methods are now deprecated. Please use `sphinx.util.logging` (\[logging-api\](\#logging-api)) instead.

  - \#3318: `notice` is now deprecated as LaTeX environment name and will be removed at Sphinx 1.7. Extension authors please use `sphinxadmonition` instead (as Sphinx does since 1.5.)

  - `Sphinx.status_iterator()` and `Sphinx.old_status_iterator()` is now deprecated. Please use `sphinx.util:status_iterator()` instead.

  - `Sphinx._directive_helper()` is deprecated. Please use `sphinx.util.docutils.directive_helper()` instead.

  - `BuildEnvironment.set_warnfunc()` is now deprecated

  - Following methods of `BuildEnvironment` is now deprecated.
    
      - `BuildEnvironment.note_toctree()`
      - `BuildEnvironment.get_toc_for()`
      - `BuildEnvironment.get_toctree_for()`
      - `BuildEnvironment.create_index()`
    
    Please use `sphinx.environment.adapters` modules instead.

  - latex package `footnote` is not loaded anymore by its bundled replacement `footnotehyper-sphinx`. The redefined macros keep the same names as in the original package.

  - \#3429: deprecate config setting `!latex_keep_old_macro_names`. It will be removed at 1.7, and already its default value has changed from `True` to `False`.

  - \#3221: epub2 builder is deprecated

  - \#3254: `sphinx.websupport` is now separated into independent package; `sphinxcontrib-websupport`. `sphinx.websupport` will be removed in Sphinx 2.0.

  - \#3628: `sphinx_themes` entry\_point is deprecated. Please use `sphinx.html_themes` instead.

1.6b2

  - \#3662: `builder.css_files` is deprecated. Please use `add_stylesheet()` API instead.

1.6 final

  - LaTeX `\sphinxstylethead` is deprecated at 1.6 and will be removed at 1.7. Please move customization into new macro `\sphinxstyletheadfamily`.

### Testing

1.6 final

  - \#3458: Add `sphinx.testing` (experimental)

## Release 1.6 (unreleased)

  - not released (because of package script error)

---

1.7.md

---

# Sphinx 1.7

## Release 1.7.9 (released Sep 05, 2018)

### Features added

  - \#5359: Make generated texinfo files reproducible by sorting the anchors

### Bugs fixed

  - \#5361: crashed on incremental build if document uses include directive

## Release 1.7.8 (released Aug 29, 2018)

### Incompatible changes

  - The type of `env.included` has been changed to dict of set

### Bugs fixed

  - \#5320: intersphinx: crashed if invalid url given
  - \#5326: manpage: crashed when invalid docname is specified as `man_pages`
  - \#5322: autodoc: `Any` typehint causes formatting error
  - \#5327: "document isn't included in any toctree" warning on rebuild with generated files
  - \#5335: quickstart: escape sequence has been displayed with MacPorts' python

## Release 1.7.7 (released Aug 19, 2018)

### Bugs fixed

  - \#5198: document not in toctree warning when including files only for parallel builds
  - LaTeX: reduce "Token not allowed in a PDF string" hyperref warnings in latex console output (refs: \#5236)
  - LaTeX: suppress "remreset Warning: The remreset package is obsolete" in latex console output with recent LaTeX (refs: \#5237)
  - \#5234: PDF output: usage of PAPER environment variable is broken since Sphinx 1.5
  - LaTeX: fix the `latex_engine` documentation regarding Latin Modern font with XeLaTeX/LuaLateX (refs: \#5251)
  - \#5280: autodoc: Fix wrong type annotations for complex typing
  - autodoc: Optional types are wrongly rendered
  - \#5291: autodoc crashed by ForwardRef types
  - \#5211: autodoc: No docs generated for functools.partial functions
  - \#5306: autodoc: `getargspec()` raises NameError for invalid typehints
  - \#5298: imgmath: math\_number\_all causes equations to have two numbers in html
  - \#5294: sphinx-quickstart blank prompts in PowerShell

## Release 1.7.6 (released Jul 17, 2018)

### Bugs fixed

  - \#5037: LaTeX `\sphinxupquote{}` breaks in Russian
  - sphinx.testing uses deprecated pytest API; `Node.get_marker(name)`
  - \#5016: crashed when recommonmark.AutoStrictify is enabled
  - \#5022: latex: crashed with Docutils package provided by Debian/Ubuntu
  - \#5009: latex: a label for table is vanished if table does not have a caption
  - \#5048: crashed with numbered toctree
  - \#2410: C, render empty argument lists for macros.
  - C++, fix lookup of full template specializations with no template arguments.
  - \#4667: C++, fix assertion on missing references in global scope when using intersphinx. Thanks to Alan M. Carroll.
  - \#5019: autodoc: crashed by Form Feed Character
  - \#5032: autodoc: loses the first staticmethod parameter for old styled classes
  - \#5036: quickstart: Typing Ctrl-U clears the whole of line
  - \#5066: html: "relations" sidebar is not shown by default
  - \#5091: latex: curly braces in index entries are not handled correctly
  - \#5070: epub: Wrong internal href fragment links
  - \#5104: apidoc: Interface of `sphinx.apidoc:main()` has changed
  - \#4272: PDF builds of French projects have issues with XeTeX
  - \#5076: napoleon raises RuntimeError with python 3.7
  - \#5125: sphinx-build: Interface of `sphinx:main()` has changed
  - sphinx-build: `sphinx.cmd.build.main()` refers `sys.argv` instead of given argument
  - \#5146: autosummary: warning is emitted when the first line of docstring ends with literal notation
  - autosummary: warnings of autosummary indicates wrong location (refs: \#5146)
  - \#5143: autodoc: crashed on inspecting dict like object which does not support sorting
  - \#5139: autodoc: Enum argument missing if it shares value with another
  - \#4946: py domain: rtype field could not handle "`None`" as a type
  - \#5176: LaTeX: indexing of terms containing `@`, `!`, or `"` fails
  - \#5161: html: crashes if copying static files are failed
  - \#5167: autodoc: Fix formatting type annotations for tuples with more than two arguments
  - \#3329: i18n: crashed by auto-symbol footnote references
  - \#5158: autosummary: module summary has been broken when it starts with heading

## Release 1.7.5 (released May 29, 2018)

### Bugs fixed

  - \#4924: html search: Upper characters problem in any other languages
  - \#4932: apidoc: some subpackage is ignored if sibling subpackage contains a module starting with underscore
  - \#4863, \#4938, \#4939: i18n doesn't handle correctly node.title as used for contents, topic, admonition, table and section.
  - \#4913: i18n: literal blocks in bullet list are not translated
  - \#4962: C++, raised TypeError on duplicate declaration.
  - \#4825: C++, properly parse expr roles and give better error messages when (escaped) line breaks are present.
  - C++, properly use `desc_addname` nodes for prefixes of names.
  - C++, parse pack expansions in function calls.
  - \#4915, \#4916: links on search page are broken when using dirhtml builder
  - \#4969: autodoc: constructor method should not have return annotation
  - latex: deeply nested enumerated list which is beginning with non-1 causes LaTeX engine crashed
  - \#4978: latex: shorthandoff is not set up for Brazil locale
  - \#4928: i18n: Ignore dot-directories like .git/ in LC\_MESSAGES/
  - \#4946: py domain: type field could not handle "`None`" as a type
  - \#4979: latex: Incorrect escaping of curly braces in index entries
  - \#4956: autodoc: Failed to extract document from a subclass of the class on mocked module
  - \#4973: latex: glossary directive adds whitespace to each item
  - \#4980: latex: Explicit labels on code blocks are duplicated
  - \#4919: node.asdom() crashes if toctree has :numbered: option
  - \#4914: autodoc: Parsing error when using dataclasses without default values
  - \#4931: autodoc: crashed when handler for autodoc-skip-member raises an error
  - \#4931: autodoc: crashed when subclass of mocked class are processed by napoleon module
  - \#5007: sphinx-build crashes when error log contains a "%" character

## Release 1.7.4 (released Apr 25, 2018)

### Bugs fixed

  - \#4885, \#4887: domains: Crashed with duplicated objects
  - \#4889: latex: sphinx.writers.latex causes recursive import

## Release 1.7.3 (released Apr 23, 2018)

### Bugs fixed

  - \#4769: autodoc loses the first staticmethod parameter
  - \#4790: autosummary: too wide two column tables in PDF builds
  - \#4795: Latex customization via `_templates/longtable.tex_t` is broken
  - \#4789: imgconverter: confused by convert.exe of Windows
  - \#4783: On windows, Sphinx crashed when drives of srcdir and outdir are different
  - \#4812: autodoc ignores type annotated variables
  - \#4817: wrong URLs on warning messages
  - \#4784: latex: `latex_show_urls` assigns incorrect footnote numbers if hyperlinks exists inside substitutions
  - \#4837: latex with class memoir Error: Font command `\sf` is not supported
  - \#4803: latex: too slow in proportion to number of auto numbered footnotes
  - \#4838: htmlhelp: The entries in .hhp file is not ordered
  - toctree directive tries to glob for URL having query\_string
  - \#4871: html search: Upper characters problem in German
  - \#4717: latex: Compilation for German docs failed with LuaLaTeX and XeLaTeX
  - \#4459: duplicated labels detector does not work well in parallel build
  - \#4878: Crashed with extension which returns invalid metadata

## Release 1.7.2 (released Mar 21, 2018)

### Incompatible changes

  - \#4520: apidoc: folders with an empty \_\_init\_\_.py are no longer excluded from TOC

### Bugs fixed

  - \#4669: sphinx.build\_main and sphinx.make\_main throw NameError
  - \#4685: autosummary emits meaningless warnings
  - autodoc: crashed when invalid options given
  - pydomain: always strip parenthesis if empty (refs: \#1042)
  - \#4689: autosummary: unexpectedly strips docstrings containing "i.e."
  - \#4701: viewcode: Misplaced `<div>` in viewcode html output
  - \#4444: Don't require numfig to use :numref: on sections
  - \#4727: Option clash for package textcomp
  - \#4725: Sphinx does not work with python 3.5.0 and 3.5.1
  - \#4716: Generation PDF file with TexLive on Windows, file not found error
  - \#4574: vertical space before equation in latex
  - \#4720: message when an image is mismatched for builder is not clear
  - \#4655, \#4684: Incomplete localization strings in Polish and Chinese
  - \#2286: Sphinx crashes when error is happens in rendering HTML pages
  - \#4688: Error to download remote images having long URL
  - \#4754: sphinx/pycode/\_\_init\_\_.py raises AttributeError
  - \#1435: qthelp builder should htmlescape keywords
  - epub: Fix docTitle elements of toc.ncx is not escaped
  - \#4520: apidoc: Subpackage not in toc (introduced in 1.6.6) now fixed
  - \#4767: html: search highlighting breaks mathjax equations

## Release 1.7.1 (released Feb 23, 2018)

### Deprecated

  - \#4623: `sphinx.build_main()` is deprecated.
  - autosummary: The interface of `sphinx.ext.autosummary.get_documenter()` has been changed (Since 1.7.0)
  - \#4664: `sphinx.ext.intersphinx.debug()` is deprecated.

For more details, see \[deprecation APIs list \<dev-deprecated-apis\>\](\#deprecation-apis-list-\<dev-deprecated-apis\>).

### Bugs fixed

  - \#4608: epub: Invalid meta tag is generated
  - \#4260: autodoc: keyword only argument separator is not disappeared if it is appeared at top of the argument list
  - \#4622: epub: `epub_scheme` does not effect to content.opf
  - \#4627: graphviz: Fit graphviz images to page
  - \#4617: quickstart: PROJECT\_DIR argument is required
  - \#4623: sphinx.build\_main no longer exists in 1.7.0
  - \#4615: The argument of `sphinx.build` has been changed in 1.7.0
  - autosummary: The interface of `sphinx.ext.autosummary.get_documenter()` has been changed
  - \#4630: Have order on msgids in sphinx.pot deterministic
  - \#4563: autosummary: Incorrect end of line punctuation detection
  - \#4577: Enumerated sublists with explicit start with wrong number
  - \#4641: A external link in TOC cannot contain "?" with `:glob:` option
  - C++, add missing parsing of explicit casts and typeid in expression parsing.
  - C++, add missing parsing of `this` in expression parsing.
  - \#4655: Fix incomplete localization strings in Polish
  - \#4653: Fix error reporting for parameterless ImportErrors
  - \#4664: Reading objects.inv fails again
  - \#4662: `any` refs with `term` targets crash when an ambiguity is encountered

## Release 1.7.0 (released Feb 12, 2018)

### Dependencies

1.7.0b1

  - Add `packaging` package

### Incompatible changes

1.7.0b1

  - \#3668: The arguments has changed of main functions for each command
  - \#3893: Unknown html\_theme\_options throw warnings instead of errors
  - \#3927: Python parameter/variable types should match classes, not all objects
  - \#3962: sphinx-apidoc now recognizes given directory as an implicit namespace package when `--implicit-namespaces` option given, not subdirectories of given directory.
  - \#3929: apidoc: Move sphinx.apidoc to sphinx.ext.apidoc
  - \#4226: apidoc: Generate new style makefile (make-mode)
  - \#4274: sphinx-build returns 2 as an exit code on argument error
  - \#4389: output directory will be created after loading extensions
  - autodoc does not generate warnings messages to the generated document even if `keep_warnings` is `True`. They are only emitted to stderr.
  - shebang line is removed from generated conf.py
  - \#2557: autodoc: `autodoc_mock_imports` only mocks specified modules with their descendants. It does not mock their ancestors. If you want to mock them, please specify the name of ancestors explicitly.
  - \#3620: html theme: move DOCUMENTATION\_OPTIONS to independent JavaScript file (refs: \#4295)
  - \#4246: Limit width of text body for all themes. Configurable via theme options `body_min_width` and `body_max_width`.
  - \#4771: apidoc: The `exclude_patterns` arguments are ignored if they are placed just after command line options

1.7.0b2

  - \#4467: html theme: Rename `csss` block to `css`

### Deprecated

1.7.0b1

  - using a string value for `html_sidebars` is deprecated and only list values will be accepted at 2.0.
  - `format_annotation()` and `formatargspec()` is deprecated. Please use `sphinx.util.inspect.Signature` instead.
  - `sphinx.ext.autodoc.AutodocReporter` is replaced by `sphinx.util.docutils. switch_source_input()` and now deprecated. It will be removed in Sphinx 2.0.
  - `sphinx.ext.autodoc.add_documenter()` and `AutoDirective._register` is now deprecated. Please use `app.add_autodocumenter()` instead.
  - `AutoDirective._special_attrgetters` is now deprecated. Please use `app.add_autodoc_attrgetter()` instead.

### Features added

1.7.0b1

  - C++, handle `decltype(auto)`.
  - \#2406: C++, add proper parsing of expressions, including linking of identifiers.
  - C++, add a `cpp:expr` role for inserting inline C++ expressions or types.
  - C++, support explicit member instantiations with shorthand `template` prefix
  - C++, make function parameters linkable, like template params.
  - \#3638: Allow to change a label of reference to equation using `math_eqref_format`
  - Now `suppress_warnings` accepts following configurations:
      - `ref.python` (ref: \#3866)
  - \#3872: Add latex key to configure literal blocks caption position in PDF output (refs \#3792, \#1723)
  - In case of missing docstring try to retrieve doc from base classes (ref: \#3140)
  - \#4023: Clarify error message when any role has more than one target.
  - \#3973: epub: allow to override build date
  - \#3972: epub: Sort manifest entries by filename
  - \#4052: viewcode: Sort before highlighting module code
  - \#1448: qthelp: Add new config value; `qthelp_namespace`
  - \#4140: html themes: Make body tag inheritable
  - \#4168: improve zh search with jieba
  - HTML themes can set up default sidebars through `theme.conf`
  - \#3160: html: Use `<kdb>` to represent `:kbd:` role
  - \#4212: autosummary: catch all exceptions when importing modules
  - \#4166: Add `math_numfig` for equation numbering by section (refs: \#3991, \#4080). Thanks to Oliver Jahn.
  - \#4311: Let LaTeX obey `numfig_secnum_depth` for figures, tables, and code-blocks
  - \#947: autodoc now supports ignore-module-all to ignore a module's `__all__`
  - \#4332: Let LaTeX obey `math_numfig` for equation numbering
  - \#4093: sphinx-build creates empty directories for unknown targets/builders
  - Add `top-classes` option for the `sphinx.ext.inheritance_diagram` extension to limit the scope of inheritance graphs.
  - \#4183: doctest: `:pyversion:` option also follows PEP-440 specification
  - \#4235: html: Add `manpages_url` to make manpage roles to hyperlinks
  - \#3570: autodoc: Do not display 'typing.' module for type hints
  - \#4354: sphinx-build now emits finish message. Builders can modify it through `Builder.epilog` attribute
  - \#4245: html themes: Add `language` to javascript vars list
  - \#4079: html: Add `notranslate` class to each code-blocks, literals and maths to let Google Translate know they are not translatable
  - \#4137: doctest: doctest block is always highlighted as python console (pycon)
  - \#4137: doctest: testcode block is always highlighted as python
  - \#3998: text: Assign section numbers by default. You can control it using `text_add_secnumbers` and `text_secnumber_suffix`

1.7.0b2

  - \#4271: sphinx-build supports an option called `-j auto` to adjust numbers of processes automatically.
  - Napoleon: added option to specify custom section tags.

### Features removed

1.7.0b1

  - Configuration variables
      - `!html_use_smartypants`
      - `!latex_keep_old_macro_names`
      - latex\_elements\['footer'\]
  - utility methods of `sphinx.application.Sphinx` class
      - buildername (property)
      - \_display\_chunk()
      - old\_status\_iterator()
      - status\_iterator()
      - \_directive\_helper()
  - utility methods of `sphinx.environment.BuildEnvironment` class
      - currmodule (property)
      - currclass (property)
  - epub2 builder
  - prefix and colorfunc parameter for warn()
  - `sphinx.util.compat` module
  - `sphinx.util.nodes.process_only_nodes()`
  - LaTeX environment `notice`, use `sphinxadmonition` instead
  - LaTeX `\sphinxstylethead`, use `\sphinxstyletheadfamily`
  - C++, support of function concepts. Thanks to mickk-on-cpp.
  - Not used and previously not documented LaTeX macros `\shortversion` and `\setshortversion`

### Bugs fixed

1.7.0b1

  - \#3882: Update the order of files for HTMLHelp and QTHelp
  - \#3962: sphinx-apidoc does not recognize implicit namespace packages correctly
  - \#4094: C++, allow empty template argument lists.
  - C++, also hyperlink types in the name of declarations with qualified names.
  - C++, do not add index entries for declarations inside concepts.
  - C++, support the template disambiguator for dependent names.
  - \#4314: For PDF 'howto' documents, numbering of code-blocks differs from the one of figures and tables
  - \#4330: PDF 'howto' documents have an incoherent default LaTeX tocdepth counter setting
  - \#4198: autosummary emits multiple 'autodoc-process-docstring' event. Thanks to Joel Nothman.
  - \#4081: Warnings and errors colored the same when building
  - latex: Do not display 'Release' label if `release` is not set

1.7.0b2

  - \#4415: autodoc classifies inherited classmethods as regular methods
  - \#4415: autodoc classifies inherited staticmethods as regular methods
  - \#4472: DOCUMENTATION\_OPTIONS is not defined
  - \#4491: autodoc: prefer \_MockImporter over other importers in sys.meta\_path
  - \#4490: autodoc: type annotation is broken with python 3.7.0a4+
  - utils package is no longer installed
  - \#3952: apidoc: module header is too escaped
  - \#4275: Formats accepted by sphinx.util.i18n.format\_date are limited
  - \#4493: recommonmark raises AttributeError if AutoStructify enabled
  - \#4209: intersphinx: In link title, "v" should be optional if target has no version
  - \#4230: slowdown in writing pages with Sphinx 1.6
  - \#4522: epub: document is not rebuilt even if config changed

1.7.0b3

  - \#4019: inheritance\_diagram AttributeError stopping make process
  - \#4531: autosummary: methods are not treated as attributes
  - \#4538: autodoc: `sphinx.ext.autodoc.Options` has been moved
  - \#4539: autodoc emits warnings for partialmethods
  - \#4223: doctest: failing tests reported in wrong file, at wrong line
  - i18n: message catalogs are not compiled if specific filenames are given for `sphinx-build` as arguments (refs: \#4560)
  - \#4027: sphinx.ext.autosectionlabel now expects labels to be the same as they are in the raw source; no smart quotes, nothig fancy.
  - \#4581: apidoc: Excluded modules still included

### Testing

1.7.0b1

  - Add support for Docutils 0.14
  - Add tests for the `sphinx.ext.inheritance_diagram` extension.

---

1.8.md

---

# Sphinx 1.8

## Release 1.8.6 (released Nov 18, 2021)

### Dependencies

  - \#9807: Restrict Docutils to 0.17.x or older

## Release 1.8.5 (released Mar 10, 2019)

### Bugs fixed

  - LaTeX: Remove extraneous space after author names on PDF title page (refs: \#6004)
  - \#6026: LaTeX: A cross reference to definition list does not work
  - \#6046: LaTeX: `TypeError` is raised when invalid latex\_elements given
  - \#6067: LaTeX: images having a target are concatenated to next line
  - \#6067: LaTeX: images having a target are not aligned even if specified
  - \#6149: LaTeX: `:index:` role in titles causes `Use of \@icentercr doesn't match its definition` error on latexpdf build
  - \#6019: imgconverter: Including multipage PDF fails
  - \#6047: autodoc: `autofunction` emits a warning for method objects
  - \#6028: graphviz: Ensure the graphviz filenames are reproducible
  - \#6068: doctest: `skipif` option may remove the code block from documentation
  - \#6136: `:name:` option for `math` directive causes a crash
  - \#6139: intersphinx: ValueError on failure reporting
  - \#6135: changes: Fix UnboundLocalError when any module found
  - \#3859: manpage: code-block captions are not displayed correctly

## Release 1.8.4 (released Feb 03, 2019)

### Bugs fixed

  - \#3707: latex: no bold checkmark (✔) available.
  - \#5605: with the documentation language set to Chinese, English words could not be searched.
  - \#5889: LaTeX: user `numfig_format` is stripped of spaces and may cause build failure
  - C++, fix hyperlinks for declarations involving east cv-qualifiers.
  - \#5755: C++, fix duplicate declaration error on function templates with constraints in the return type.
  - C++, parse unary right fold expressions and binary fold expressions.
  - pycode could not handle egg files on windows
  - \#5928: KeyError: 'DOCUTILSCONFIG' when running build
  - \#5936: LaTeX: PDF build broken by inclusion of image taller than page height in an admonition
  - \#5231: "make html" does not read and build "po" files in "locale" dir
  - \#5954: `:scale:` image option may break PDF build if image in an admonition
  - \#5966: mathjax has not been loaded on incremental build
  - \#5960: LaTeX: modified PDF layout since September 2018 TeXLive update of `parskip.sty`
  - \#5948: LaTeX: duplicated labels are generated for sections
  - \#5958: versionadded directive causes crash with Python 3.5.0
  - \#5995: autodoc: autodoc\_mock\_imports conflict with metaclass on Python 3.7
  - \#5871: texinfo: a section title `.` is not allowed

## Release 1.8.3 (released Dec 26, 2018)

### Features added

  - LaTeX: it is possible to insert custom material to appear on back of title page, see discussion of `'maketitle'` key of `latex_elements` (`'manual'` docclass only)

### Bugs fixed

  - \#5725: mathjax: Use CDN URL for "latest" version by default
  - \#5460: html search does not work with some 3rd party themes
  - \#5520: LaTeX, caption package incompatibility since Sphinx 1.6
  - \#5614: autodoc: incremental build is broken when builtin modules are imported
  - \#5627: qthelp: index.html missing in QtHelp
  - \#5659: linkcheck: crashes for a hyperlink containing multibyte character
  - \#5754: DOC: Fix some mistakes in \[/latex\](/latex.md)
  - \#5810: LaTeX: sphinxVerbatim requires explicit "hllines" set-up since 1.6.6 (refs: \#1238)
  - \#5636: C++, fix parsing of floating point literals.
  - \#5496 (again): C++, fix assertion in partial builds with duplicates.
  - \#5724: quickstart: sphinx-quickstart fails when $LC\_ALL is empty
  - \#1956: Default conf.py is not PEP8-compliant
  - \#5849: LaTeX: document class `\maketitle` is overwritten with no possibility to use original meaning in place of Sphinx custom one
  - \#5834: apidoc: wrong help for `--tocfile`
  - \#5800: todo: crashed if todo is defined in TextElement
  - \#5846: htmlhelp: convert hex escaping to decimal escaping in .hhc/.hhk files
  - htmlhelp: broken .hhk file generated when title contains a double quote

## Release 1.8.2 (released Nov 11, 2018)

### Incompatible changes

  - \#5497: Do not include MathJax.js and jsmath.js unless it is really needed

### Features added

  - \#5471: Show appropriate deprecation warnings

### Bugs fixed

  - \#5490: latex: enumerated list causes a crash with recommonmark
  - \#5492: sphinx-build fails to build docs w/ Python \< 3.5.2
  - \#3704: latex: wrong `\label` positioning for figures with a legend
  - \#5496: C++, fix assertion when a symbol is declared more than twice.
  - \#5493: gettext: crashed with broken template
  - \#5495: csv-table directive with file option in included file is broken (refs: \#4821)
  - \#5498: autodoc: unable to find type hints for a `functools.partial`
  - \#5480: autodoc: unable to find type hints for unresolvable Forward references
  - \#5419: incompatible math\_block node has been generated
  - \#5548: Fix ensuredir() in case of pre-existing file
  - \#5549: graphviz Correctly deal with non-existing static dir
  - \#3002: i18n: multiple footnote\_references referring same footnote cause duplicated node\_ids
  - \#5563: latex: footnote\_references generated by extension causes a LaTeX builder crash
  - \#5561: make all-pdf fails with old xindy version
  - \#5557: quickstart: --no-batchfile isn't honored
  - \#3080: texinfo: multiline rubrics are broken
  - \#3080: texinfo: multiline citations are broken

## Release 1.8.1 (released Sep 22, 2018)

### Incompatible changes

  - LaTeX `\pagestyle` commands have been moved to the LaTeX template. No changes in PDF, except possibly if `\sphinxtableofcontents`, which contained them, had been customized in `conf.py`. (refs: \#5455)

### Bugs fixed

  - \#5418: Incorrect default path for sphinx-build -d/doctrees files
  - \#5421: autodoc emits deprecation warning for `!autodoc_default_flags`
  - \#5422: lambda object causes PicklingError on storing environment
  - \#5417: Sphinx fails to build with syntax error in Python 2.7.5
  - \#4911: add latexpdf to make.bat for non make-mode
  - \#5436: Autodoc does not work with enum subclasses with properties/methods
  - \#5437: autodoc: crashed on modules importing eggs
  - \#5433: latex: ImportError: cannot import name 'DEFAULT\_SETTINGS'
  - \#5431: autodoc: `autofunction` emits a warning for callable objects
  - \#5457: Fix TypeError in error message when override is prohibited
  - \#5453: PDF builds of 'howto' documents have no page numbers
  - \#5463: mathbase: math\_role and MathDirective was disappeared in 1.8.0
  - \#5454: latex: Index has disappeared from PDF for Japanese documents
  - \#5432: py domain: `:type:` field can't process `:term:` references
  - \#5426: py domain: TypeError has been raised for class attribute

## Release 1.8.0 (released Sep 13, 2018)

### Dependencies

1.8.0b1

  - LaTeX: `latex_use_xindy`, if `True` (default for `xelatex/lualatex`), instructs `make latexpdf` to use `xindy` for general index. Make sure your LaTeX distribution includes it. (refs: \#5134)
  - LaTeX: `latexmk` is required for `make latexpdf` on Windows

### Incompatible changes

1.8.0b2

  - \#5282: html theme: refer `pygments_style` settings of HTML themes preferentially
  - The URL of download files are changed
  - \#5127: quickstart: `Makefile` and `make.bat` are not overwritten if exists

1.8.0b1

  - \#5156: the :py`sphinx.ext.graphviz` extension runs `dot` in the directory of the document being built instead of in the root directory of the documentation.
  - \#4460: extensions which stores any data to environment should return the version of its env data structure as metadata. In detail, please see \[ext-metadata\](\#ext-metadata).
  - Sphinx expects source parser modules to have supported file formats as `Parser.supported` attribute
  - The default value of `epub_author` and `epub_publisher` are changed from `'unknown'` to the value of `author`. This is same as a `conf.py` file sphinx-build generates.
  - The `gettext_compact` attribute is removed from `document.settings` object. Please use `config.gettext_compact` instead.
  - The processing order on reading phase is changed. smart\_quotes, sphinx domains, `doctree-read` event and versioning doctrees are invoked earlier than so far. For more details, please read a description of :py\`.Sphinx.add\_transform()\`
  - \#4827: All `substitution_definition` nodes are removed from doctree on reading phase
  - `docutils.conf` in `$HOME` or `/etc` directories are ignored. Only `docutils.conf` from confdir is obeyed.
  - \#789: `:samp:` role supports to escape curly braces with backslash
  - \#4811: The files under `html_static_path` are excluded from source files.
  - latex: Use `\sphinxcite` for citation references instead `\hyperref`
  - The config value `!viewcode_import` is renamed to `viewcode_follow_imported_members` (refs: \#4035)
  - \#1857: latex: `latex_show_pagerefs` does not add pagerefs for citations
  - \#4648: latex: Now "rubric" elements are rendered as unnumbered section title
  - \#4983: html: The anchor for productionlist tokens has been changed
  - Modifying a template variable `script_files` in templates is allowed now. Please use `app.add_js_file()` instead.
  - \#5072: Save environment object also with only new documents
  - \#5035: qthelp builder allows dashes in `qthelp_namespace`
  - LaTeX: with lualatex or xelatex use by default `xindy` as UTF-8 able replacement of `makeindex` (refs: \#5134). After upgrading Sphinx, please clean latex build repertory of existing project before new build.
  - \#5163: html: hlist items are now aligned to top
  - `highlightlang` directive is processed on resolving phase
  - \#4000: LaTeX: template changed. Following elements moved to it:
      - `\begin{document}`
      - `shorthandoff` variable
      - `maketitle` variable
      - `tableofcontents` variable

### Deprecated

1.8.0b2

  - `sphinx.io.SphinxI18nReader.set_lineno_for_reporter()` is deprecated
  - `sphinx.io.SphinxI18nReader.line` is deprecated
  - `sphinx.util.i18n.find_catalog_source_file()` has changed; the *gettext\_compact* argument has been deprecated
  - \#5403: `sphinx.util.images.guess_mimetype()` has changed; the *content* argument has been deprecated

1.8.0b1

  - `!source_parsers` is deprecated
  - `!autodoc_default_flags` is deprecated
  - quickstart: `--epub` option becomes default, so it is deprecated
  - Drop function based directive support. For now, Sphinx only supports class based directives (see <span class="title-ref">\~docutils.parsers.rst.Directive</span>)
  - `sphinx.util.docutils.directive_helper()` is deprecated
  - `sphinx.cmdline` is deprecated
  - `sphinx.make_mode` is deprecated
  - `sphinx.locale.l_()` is deprecated
  - \#2157: helper function `warn()` for HTML themes is deprecated
  - `app.override_domain()` is deprecated
  - `app.add_stylesheet()` is deprecated
  - `app.add_javascript()` is deprecated
  - `app.import_object()` is deprecated
  - `app.add_source_parser()` has changed; the *suffix* argument has been deprecated
  - `sphinx.versioning.prepare()` is deprecated
  - `Config.__init__()` has changed; the *dirname*, *filename* and *tags* argument has been deprecated
  - `Config.check_types()` is deprecated
  - `Config.check_unicode()` is deprecated
  - `sphinx.application.CONFIG_FILENAME` is deprecated
  - `highlightlang` directive is deprecated
  - `BuildEnvironment.load()` is deprecated
  - `BuildEnvironment.loads()` is deprecated
  - `BuildEnvironment.frompickle()` is deprecated
  - `env.read_doc()` is deprecated
  - `env.update()` is deprecated
  - `env._read_serial()` is deprecated
  - `env._read_parallel()` is deprecated
  - `env.write_doctree()` is deprecated
  - `env._nitpick_ignore` is deprecated
  - `env.versionchanges` is deprecated
  - `env.dump()` is deprecated
  - `env.dumps()` is deprecated
  - `env.topickle()` is deprecated
  - `env.note_versionchange()` is deprecated
  - `sphinx.writers.latex.Table.caption_footnotetexts` is deprecated
  - `sphinx.writers.latex.Table.header_footnotetexts` is deprecated
  - `sphinx.writers.latex.LaTeXTranslator.footnotestack` is deprecated
  - `sphinx.writers.latex.LaTeXTranslator.in_container_literal_block` is deprecated
  - `sphinx.writers.latex.LaTeXTranslator.next_section_ids` is deprecated
  - `sphinx.writers.latex.LaTeXTranslator.next_hyperlink_ids` is deprecated
  - `sphinx.writers.latex.LaTeXTranslator.restrict_footnote()` is deprecated
  - `sphinx.writers.latex.LaTeXTranslator.unrestrict_footnote()` is deprecated
  - `sphinx.writers.latex.LaTeXTranslator.push_hyperlink_ids()` is deprecated
  - `sphinx.writers.latex.LaTeXTranslator.pop_hyperlink_ids()` is deprecated
  - `sphinx.writers.latex.LaTeXTranslator.check_latex_elements()` is deprecated
  - `sphinx.writers.latex.LaTeXTranslator.bibitems` is deprecated
  - `sphinx.writers.latex.LaTeXTranslator.hlsettingstack` is deprecated
  - `sphinx.writers.latex.ExtBabel.get_shorthandoff()` is deprecated
  - `sphinx.writers.html.HTMLTranslator.highlightlang` is deprecated
  - `sphinx.writers.html.HTMLTranslator.highlightlang_base` is deprecated
  - `sphinx.writers.html.HTMLTranslator.highlightlangopts` is deprecated
  - `sphinx.writers.html.HTMLTranslator.highlightlinenothreshold` is deprecated
  - `sphinx.writers.html5.HTMLTranslator.highlightlang` is deprecated
  - `sphinx.writers.html5.HTMLTranslator.highlightlang_base` is deprecated
  - `sphinx.writers.html5.HTMLTranslator.highlightlangopts` is deprecated
  - `sphinx.writers.html5.HTMLTranslator.highlightlinenothreshold` is deprecated
  - `sphinx.ext.mathbase` extension is deprecated
  - `sphinx.ext.mathbase.math` node is deprecated
  - `sphinx.ext.mathbase.displaymath` node is deprecated
  - `sphinx.ext.mathbase.eqref` node is deprecated
  - `sphinx.ext.mathbase.is_in_section_title()` is deprecated
  - `sphinx.ext.mathbase.MathDomain` is deprecated
  - `sphinx.ext.mathbase.MathDirective` is deprecated
  - `sphinx.ext.mathbase.math_role` is deprecated
  - `sphinx.ext.mathbase.setup_math()` is deprecated
  - `sphinx.directives.other.VersionChanges` is deprecated
  - `sphinx.highlighting.PygmentsBridge.unhighlight()` is deprecated
  - `sphinx.ext.mathbase.get_node_equation_number()` is deprecated
  - `sphinx.ext.mathbase.wrap_displaymath()` is deprecated
  - The `trim_doctest_flags` argument of `sphinx.highlighting.PygmentsBridge` is deprecated

For more details, see \[deprecation APIs list \<dev-deprecated-apis\>\](\#deprecation-apis-list-\<dev-deprecated-apis\>).

### Features added

1.8.0b2

  - \#5388: Ensure frozen object descriptions are reproducible
  - \#5362: apidoc: Add `--tocfile` option to change the filename of ToC

1.8.0b1

  - Add `config-inited` event
  - Add `sphinx.config.Any` to represent the config value accepts any type of value
  - `source_suffix` allows a mapping fileext to file types
  - Add `author` as a configuration value
  - \#2852: imgconverter: Support to convert GIF to PNG
  - `sphinx-build` command supports i18n console output
  - Add `app.add_message_catalog()` and `sphinx.locale.get_translations()` to support translation for 3rd party extensions
  - helper function `warning()` for HTML themes is added
  - Add `Domain.enumerable_nodes` to manage own enumerable nodes for domains (experimental)
  - Add a new keyword argument `override` to Application APIs
  - LaTeX: new key `'fvset'` for `latex_elements`. For XeLaTeX/LuaLaTeX its default sets `fanvyvrb` to use normal, not small, fontsize in code-blocks (refs: \#4793)
  - Add `html_css_files` and `epub_css_files` for adding CSS files from configuration
  - Add `html_js_files` for adding JS files from configuration
  - \#4834: Ensure set object descriptions are reproducible.
  - \#4828: Allow to override `numfig_format` partially. Full definition is not needed.
  - Improve warning messages during including (refs: \#4818)
  - LaTeX: separate customizability of :rst`guilabel` and :rst`menuselection` (refs: \#4830)
  - Add `Config.read()` classmethod to create a new config object from configuration file
  - \#4866: Wrap graphviz diagrams in `<div>` tag
  - viewcode: Add `viewcode-find-source` and `viewcode-follow-imported` to load source code without loading
  - \#4785: napoleon: Add strings to translation file for localisation
  - \#4927: Display a warning when invalid values are passed to linenothreshold option of highlight directive
  - C++:
      - Add a `cpp:texpr` role as a sibling to `cpp:expr`.
      - Add support for unions.
      - \#3593, \#2683: add support for anonymous entities using names staring with `@`.
      - \#5147: add support for (most) character literals.
      - Cross-referencing entities inside primary templates is supported, and now properly documented.
      - \#1552: add new cross-referencing format for `cpp:any` and `cpp:func` roles, for referencing specific function overloads.
  - \#3606: MathJax should be loaded with async attribute
  - html: Output `canonical_url` metadata if `html_baseurl` set (refs: \#4193)
  - \#5029: autosummary: expose `inherited_members` to template
  - \#3784: mathjax: Add `mathjax_options` to give options to script tag for mathjax
  - \#726, \#969: mathjax: Add `mathjax_config` to give in-line configurations for mathjax
  - \#4362: latex: Don't overwrite .tex file if document not changed
  - \#1431: latex: Add alphanumeric enumerated list support
  - Add `latex_use_xindy` for UTF-8 savvy indexing, defaults to `True` if `latex_engine` is `'xelatex'` or `'lualatex'`. (refs: \#5134, \#5192, \#5212)
  - \#4976: `SphinxLoggerAdapter.info()` now supports `location` parameter
  - \#5122: setuptools: support nitpicky option
  - \#2820: autoclass directive supports nested class
  - Add `app.add_html_math_renderer()` to register a math renderer for HTML
  - Apply `trim_doctest_flags` to all builders (cf. text, manpages)
  - \#5140: linkcheck: Add better Accept header to HTTP client
  - \#4614: sphinx-build: Add `--keep-going` option to show all warnings
  - Add :rst`math:numref` role to refer equations (Same as :rst`eq`)
  - quickstart: epub builder is enabled by default
  - \#5246: Add `singlehtml_sidebars` to configure sidebars for singlehtml builder
  - \#5273: doctest: Skip doctest conditionally
  - \#5306: autodoc: emit a warning for invalid typehints
  - \#4075, \#5215: autodoc: Add `autodoc_default_options` which accepts option values as dict

### Bugs fixed

1.8.0b2

  - html: search box overrides to other elements if scrolled
  - i18n: warnings for translation catalogs have wrong line numbers (refs: \#5321)
  - \#5325: latex: cross references has been broken by multiply labeled objects
  - C++, fixes for symbol addition and lookup. Lookup should no longer break in partial builds. See also \#5337.
  - \#5348: download reference to remote file is not displayed
  - \#5282: html theme: `pygments_style` of theme was overridden by `conf.py` by default
  - \#4379: toctree shows confusing warning when document is excluded
  - \#2401: autodoc: `:members:` causes `:special-members:` not to be shown
  - autodoc: ImportError is replaced by AttributeError for deeper module
  - \#2720, \#4034: Incorrect links with `:download:`, duplicate names, and parallel builds
  - \#5290: autodoc: failed to analyze source code in egg package
  - \#5399: Sphinx crashes if unknown po file exists

1.8.0b1

  - i18n: message catalogs were reset on each initialization
  - \#4850: latex: footnote inside footnote was not rendered
  - \#4945: i18n: fix lang\_COUNTRY not fallback correctly for IndexBuilder. Thanks to Shengjing Zhu.
  - \#4983: productionlist directive generates invalid IDs for the tokens
  - \#5132: lualatex: PDF build fails if indexed word starts with Unicode character
  - \#5133: latex: index headings "Symbols" and "Numbers" not internationalized
  - \#5114: sphinx-build: Handle errors on scanning documents
  - epub: spine has been broken when "self" is listed on toctree (refs: \#4611)
  - \#344: autosummary does not understand docstring of module level attributes
  - \#5191: C++, prevent nested declarations in functions to avoid lookup problems.
  - \#5126: C++, add missing isPack method for certain template parameter types.
  - \#5187: C++, parse attributes on declarators as well.
  - C++, parse delete expressions and basic new expressions as well.
  - \#5002: graphviz: SVGs do not adapt to the column width

### Features removed

1.8.0b1

  - `sphinx.ext.pngmath` extension

### Documentation

1.8.0b1

  - \#5083: Fix wrong make.bat option for internationalization.
  - \#5115: napoleon: add admonitions added by \#4613 to the docs.

---

2.0.md

---

# Sphinx 2.0

## Release 2.0.1 (released Apr 08, 2019)

### Bugs fixed

  - LaTeX: some system labels are not translated
  - RemovedInSphinx30Warning is marked as pending
  - deprecation warnings are not emitted
      - `sphinx.application.CONFIG_FILENAME`
      - `sphinx.builders.htmlhelp`
      - `!viewcode_import`
  - \#6208: C++, properly parse full xrefs that happen to have a short xref as prefix
  - \#6220, \#6225: napoleon: AttributeError is raised for raised section having references
  - \#6245: circular import error on importing SerializingHTMLBuilder
  - \#6243: LaTeX: 'releasename' setting for latex\_elements is ignored
  - \#6244: html: Search function is broken with 3rd party themes
  - \#6263: html: HTML5Translator crashed with invalid field node
  - \#6262: html theme: The style of field lists has changed in bizstyle theme

## Release 2.0.0 (released Mar 29, 2019)

### Dependencies

2.0.0b1

  - LaTeX builder now depends on TeX Live 2015 or above.
  - LaTeX builder (with `'pdflatex'` `latex_engine`) will process Unicode Greek letters in text (not in math mark-up) via the text font and will not escape them to math mark-up. See the discussion of the `'fontenc'` key of `latex_elements`; such (optional) support for Greek adds, for example on Ubuntu xenial, the `texlive-lang-greek` and (if default font set-up is not modified) `cm-super(-minimal)` as additional Sphinx LaTeX requirements.
  - LaTeX builder with `latex_engine` set to `'xelatex'` or to `'lualatex'` requires (by default) the `FreeFont` fonts, which in Ubuntu xenial are provided by package `fonts-freefont-otf`, and e.g. in Fedora 29 via package `texlive-gnu-freefont`.
  - requests 2.5.0 or above
  - The six package is no longer a dependency
  - The sphinxcontrib-websupport package is no longer a dependency
  - Some packages are separated to sub packages:
      - sphinxcontrib.applehelp
      - sphinxcontrib.devhelp
      - sphinxcontrib.htmlhelp
      - sphinxcontrib.jsmath
      - sphinxcontrib.serializinghtml
      - sphinxcontrib.qthelp

### Incompatible changes

2.0.0b1

  - Drop python 2.7 and 3.4 support
  - Drop Docutils 0.11 support
  - Drop features and APIs deprecated in 1.7.x
  - The default setting for `master_doc` is changed to `'index'` which has been longly used as default of sphinx-quickstart.
  - LaTeX: Move message resources to `sphinxmessage.sty`
  - LaTeX: Stop using `\captions<lang>` macro for some labels
  - LaTeX: for `'xelatex'` and `'lualatex'`, use the `FreeFont` OpenType fonts as default choice (refs: \#5645)
  - LaTeX: `'xelatex'` and `'lualatex'` now use `\small` in code-blocks (due to `FreeMono` character width) like `'pdflatex'` already did (due to `Courier` character width). You may need to adjust this via `latex_elements` `'fvset'` key, in case of usage of some other OpenType fonts (refs: \#5768)
  - LaTeX: Greek letters in text are not escaped to math mode mark-up, and they will use the text font not the math font. The `LGR` font encoding must be added to the `'fontenc'` key of `latex_elements` for this to work (only if it is needed by the document, of course).
  - LaTeX: setting the `language` to `'en'` triggered `Sonny` option of `fncychap`, now it is `Bjarne` to match case of no language specified. (refs: \#5772)
  - \#5770: doctest: Follow `highlight_language` on highlighting doctest block. As a result, they are highlighted as python3 by default.
  - The order of argument for `HTMLTranslator`, `HTML5Translator` and `ManualPageTranslator` are changed
  - LaTeX: hard-coded redefinitions of `\l@section` and `\l@subsection` formerly done during loading of `'manual'` docclass get executed later, at time of `\sphinxtableofcontents`. This means that custom user definitions from LaTeX preamble now get overwritten. Use `\sphinxtableofcontentshook` to insert custom user definitions. See \[latex-macros\](\#latex-macros).
  - quickstart: Simplify generated `conf.py`
  - \#4148: quickstart: some questions are removed. They are still able to specify via command line options
  - websupport: unbundled from Sphinx core. Please use sphinxcontrib-websupport
  - C++, the visibility of base classes is now always rendered as present in the input. That is, `private` is now shown, where it was ellided before.
  - LaTeX: graphics inclusion of oversized images rescales to not exceed the text width and height, even if width and/or height option were used. (refs: \#5956)
  - epub: `epub_title` defaults to the `project` option
  - \#4550: All tables and figures without `align` option are displayed to center
  - \#4587: html: Output HTML5 by default

2.0.0b2

  - texinfo: image files are copied into `name-figure` directory

### Deprecated

2.0.0b1

  - Support for evaluating Python 2 syntax is deprecated. This includes configuration files which should be converted to Python 3.
  - The arguments of `EpubBuilder.build_mimetype()`, `EpubBuilder.build_container()`, `EpubBuilder.bulid_content()`, `EpubBuilder.build_toc()` and `EpubBuilder.build_epub()`
  - The arguments of `Epub3Builder.build_navigation_doc()`
  - The config variables
      - `!html_experimental_html5_writer`
  - The `encoding` argument of `autodoc.Documenter.get_doc()`, `autodoc.DocstringSignatureMixin.get_doc()`, `autodoc.DocstringSignatureMixin._find_signature()`, and `autodoc.ClassDocumenter.get_doc()` are deprecated.
  - The `importer` argument of `sphinx.ext.autodoc.importer._MockModule`
  - The `nodetype` argument of `sphinx.search.WordCollector. is_meta_keywords()`
  - The `suffix` argument of `env.doc2path()` is deprecated.
  - The string style `base` argument of `env.doc2path()` is deprecated.
  - The fallback to allow omitting the `filename` argument from an overridden `IndexBuilder.feed()` method is deprecated.
  - `sphinx.addnodes.abbreviation`
  - `sphinx.application.Sphinx._setting_up_extension`
  - `sphinx.builders.epub3.Epub3Builder.validate_config_value()`
  - `sphinx.builders.html.SingleFileHTMLBuilder`
  - `sphinx.builders.htmlhelp.HTMLHelpBuilder.open_file()`
  - `sphinx.cmd.quickstart.term_decode()`
  - `sphinx.cmd.quickstart.TERM_ENCODING`
  - `sphinx.config.check_unicode()`
  - `sphinx.config.string_classes`
  - `sphinx.domains.cpp.DefinitionError.description`
  - `sphinx.domains.cpp.NoOldIdError.description`
  - `sphinx.domains.cpp.UnsupportedMultiCharacterCharLiteral.decoded`
  - `sphinx.ext.autodoc.importer._MockImporter`
  - `sphinx.ext.autosummary.Autosummary.warn()`
  - `sphinx.ext.autosummary.Autosummary.genopt`
  - `sphinx.ext.autosummary.Autosummary.warnings`
  - `sphinx.ext.autosummary.Autosummary.result`
  - `sphinx.ext.doctest.doctest_encode()`
  - `sphinx.io.SphinxBaseFileInput`
  - `sphinx.io.SphinxFileInput.supported`
  - `sphinx.io.SphinxRSTFileInput`
  - `sphinx.registry.SphinxComponentRegistry.add_source_input()`
  - `sphinx.roles.abbr_role()`
  - `sphinx.roles.emph_literal_role()`
  - `sphinx.roles.menusel_role()`
  - `sphinx.roles.index_role()`
  - `sphinx.roles.indexmarkup_role()`
  - `sphinx.testing.util.remove_unicode_literal()`
  - `sphinx.util.attrdict`
  - `sphinx.util.force_decode()`
  - `sphinx.util.get_matching_docs()`
  - `sphinx.util.inspect.Parameter`
  - `sphinx.util.jsonimpl`
  - `sphinx.util.osutil.EEXIST`
  - `sphinx.util.osutil.EINVAL`
  - `sphinx.util.osutil.ENOENT`
  - `sphinx.util.osutil.EPIPE`
  - `sphinx.util.osutil.walk()`
  - `sphinx.util.PeekableIterator`
  - `sphinx.util.pycompat.NoneType`
  - `sphinx.util.pycompat.TextIOWrapper`
  - `sphinx.util.pycompat.UnicodeMixin`
  - `sphinx.util.pycompat.htmlescape`
  - `sphinx.util.pycompat.indent`
  - `sphinx.util.pycompat.sys_encoding`
  - `sphinx.util.pycompat.terminal_safe()`
  - `sphinx.util.pycompat.u`
  - `sphinx.writers.latex.ExtBabel`
  - `sphinx.writers.latex.LaTeXTranslator._make_visit_admonition()`
  - `sphinx.writers.latex.LaTeXTranslator.babel_defmacro()`
  - `sphinx.writers.latex.LaTeXTranslator.collect_footnotes()`
  - `sphinx.writers.latex.LaTeXTranslator.generate_numfig_format()`
  - `sphinx.writers.texinfo.TexinfoTranslator._make_visit_admonition()`
  - `sphinx.writers.text.TextTranslator._make_depart_admonition()`
  - template variables for LaTeX template
      - `logo`
      - `numfig_format`
      - `pageautorefname`
      - `translatablestrings`

For more details, see \[deprecation APIs list \<dev-deprecated-apis\>\](\#deprecation-apis-list-\<dev-deprecated-apis\>).

### Features added

2.0.0b1

  - \#1618: The search results preview of generated HTML documentation is reader-friendlier: instead of showing the snippets as raw reStructuredText markup, Sphinx now renders the corresponding HTML. This means the Sphinx extension <span class="title-ref">Sphinx: pretty search results</span>\_\_ is no longer necessary. Note that changes to the search function of your custom or 3rd-party HTML template might overwrite this improvement.
    
    \_\_ <https://github.com/sphinx-contrib/sphinx-pretty-searchresults>

  - \#4182: autodoc: Support `suppress_warnings`

  - \#5533: autodoc: `autodoc_default_options` supports `member-order`

  - \#5394: autodoc: Display readable names in type annotations for mocked objects

  - \#5459: autodoc: `autodoc_default_options` accepts `True` as a value

  - \#1148: autodoc: Add :rst`autodecorator` directive for decorators

  - \#5635: autosummary: Add `autosummary_mock_imports` to mock external libraries on importing targets

  - \#4018: htmlhelp: Add `htmlhelp_file_suffix` and `htmlhelp_link_suffix`

  - \#5559: text: Support complex tables (colspan and rowspan)

  - LaTeX: support rendering (not in math, yet) of Greek and Cyrillic Unicode letters in non-Cyrillic document even with `'pdflatex'` as `latex_engine` (refs: \#5645)

  - \#5660: The `versionadded`, `versionchanged` and `deprecated` directives are now generated with their own specific CSS classes (`added`, `changed` and `deprecated`, respectively) in addition to the generic `versionmodified` class.

  - \#5841: apidoc: Add --extensions option to sphinx-apidoc

  - \#4981: C++, added an alias directive for inserting lists of declarations, that references existing declarations (e.g., for making a synopsis).

  - C++: add `cpp:struct` to complement `cpp:class`.

  - \#1341: the HTML search considers words that contain a search term of length three or longer a match.

  - \#4611: epub: Show warning for duplicated ToC entries

  - \#1851: Allow to omit an argument for :rst`code-block` directive. If omitted, it follows :rst`highlight` or `highlight_language`

  - \#4587: html: Add `!html4_writer` to use old HTML4 writer

  - \#6016: HTML search: A placeholder for the search summary prevents search result links from changing their position when the search terminates. This makes navigating search results easier.

  - \#5196: linkcheck also checks remote images exist

  - \#5924: githubpages: create CNAME file for custom domains when `html_baseurl` set

  - \#4261: autosectionlabel: restrict the labeled sections by new config value; `autosectionlabel_maxdepth`

### Bugs fixed

2.0.0b1

  - \#1682: LaTeX: writer should not translate Greek unicode, but use textgreek package
  - \#5247: LaTeX: PDF does not build with default font config for Russian language and `'xelatex'` or `'lualatex'` as `latex_engine` (refs: \#5251)
  - \#5248: LaTeX: Greek letters in section titles disappear from PDF bookmarks
  - \#5249: LaTeX: Unicode Greek letters in math directive break PDF build (fix requires extra set-up, see `latex_elements` `'textgreek'` key and/or `latex_engine` setting)
  - \#5772: LaTeX: should the Bjarne style of fncychap be used for English also if passed as language option?
  - \#5179: LaTeX: (lualatex only) escaping of `>` by `\textgreater{}` is not enough as `\textgreater{}\textgreater{}` applies TeX-ligature
  - LaTeX: project name is not escaped if `latex_documents` omitted
  - LaTeX: authors are not shown if `latex_documents` omitted
  - HTML: Invalid HTML5 file is generated for a glossary having multiple terms for one description (refs: \#4611)
  - QtHelp: OS dependent path separator is used in .qhp file
  - HTML search: search always returns nothing when multiple search terms are used and one term is shorter than three characters

2.0.0b2

  - \#6096: html: Anchor links are not added to figures
  - \#3620: html: Defer searchindex.js rather than loading it via ajax
  - \#6113: html: Table cells and list items have large margins
  - \#5508: `linenothreshold` option for `highlight` directive was ignored
  - texinfo: `make install-info` causes syntax error
  - texinfo: `make install-info` fails on macOS
  - \#3079: texinfo: image files are not copied on `make install-info`
  - \#5391: A cross reference in heading is rendered as literal
  - \#5946: C++, fix `cpp:alias` problems in LaTeX (and singlehtml)
  - \#6147: classes attribute of `citation_reference` node is lost
  - AssertionError is raised when custom `citation_reference` node having classes attribute refers missing citation (refs: \#6147)
  - \#2155: Support `code` directive
  - C++, fix parsing of braced initializers.
  - \#6172: AttributeError is raised for old styled index nodes
  - \#4872: inheritance\_diagram: correctly describe behavior of `parts` option in docs, allow negative values.
  - \#6178: i18n: Captions missing in translations for hidden TOCs

2.0.0 final

  - \#6196: py domain: unexpected prefix is generated

### Testing

2.0.0b1

  - Stop to use `SPHINX_TEST_TEMPDIR` envvar

2.0.0b2

  - Add a helper function: `sphinx.testing.restructuredtext.parse()`

---

2.1.md

---

# Sphinx 2.1

## Release 2.1.2 (released Jun 19, 2019)

### Bugs fixed

  - \#6497: custom lexers fails highlighting when syntax error
  - \#6478, \#6488: info field lists are incorrectly recognized

## Release 2.1.1 (released Jun 10, 2019)

### Incompatible changes

  - \#6447: autodoc: Stop to generate document for undocumented module variables

### Bugs fixed

  - \#6442: LaTeX: admonitions of :rst`note` type can get separated from immediately preceding section title by pagebreak
  - \#6448: autodoc: crashed when autodocumenting classes with `__slots__ = None`
  - \#6451: autodoc: generates docs for "optional import"ed modules as variables
  - \#6452: autosummary: crashed when generating document of properties
  - \#6455: napoleon: docstrings for properties are not processed
  - \#6436: napoleon: "Unknown target name" error if variable name ends with underscore
  - \#6440: apidoc: missing blank lines between modules

## Release 2.1.0 (released Jun 02, 2019)

### Incompatible changes

  - Ignore filenames without file extension given to `Builder.build_specific()` API directly
  - \#6230: The anchor of term in glossary directive is changed if it is consisted by non-ASCII characters
  - \#4550: html: Centering tables by default using CSS
  - \#6239: latex: xelatex and xeCJK are used for Chinese documents by default
  - `Sphinx.add_lexer()` now takes a Lexer class instead of instance. An instance of lexers are still supported until Sphinx 3.x.

### Deprecated

  - `sphinx.builders.latex.LaTeXBuilder.apply_transforms()`
  - `sphinx.builders._epub_base.EpubBuilder.esc()`
  - `sphinx.directives.Acks`
  - `sphinx.directives.Author`
  - `sphinx.directives.Centered`
  - `sphinx.directives.Class`
  - `sphinx.directives.CodeBlock`
  - `sphinx.directives.Figure`
  - `sphinx.directives.HList`
  - `sphinx.directives.Highlight`
  - `sphinx.directives.Include`
  - `sphinx.directives.Index`
  - `sphinx.directives.LiteralInclude`
  - `sphinx.directives.Meta`
  - `sphinx.directives.Only`
  - `sphinx.directives.SeeAlso`
  - `sphinx.directives.TabularColumns`
  - `sphinx.directives.TocTree`
  - `sphinx.directives.VersionChange`
  - `sphinx.domains.python.PyClassmember`
  - `sphinx.domains.python.PyModulelevel`
  - `sphinx.domains.std.StandardDomain._resolve_citation_xref()`
  - `sphinx.domains.std.StandardDomain.note_citations()`
  - `sphinx.domains.std.StandardDomain.note_citation_refs()`
  - `sphinx.domains.std.StandardDomain.note_labels()`
  - `sphinx.environment.NoUri`
  - `sphinx.ext.apidoc.format_directive()`
  - `sphinx.ext.apidoc.format_heading()`
  - `sphinx.ext.apidoc.makename()`
  - `sphinx.ext.autodoc.importer.MockFinder`
  - `sphinx.ext.autodoc.importer.MockLoader`
  - `sphinx.ext.autodoc.importer.mock()`
  - `sphinx.ext.autosummary.autolink_role()`
  - `sphinx.ext.imgmath.DOC_BODY`
  - `sphinx.ext.imgmath.DOC_BODY_PREVIEW`
  - `sphinx.ext.imgmath.DOC_HEAD`
  - `sphinx.transforms.CitationReferences`
  - `sphinx.transforms.SmartQuotesSkipper`
  - `sphinx.util.docfields.DocFieldTransformer.preprocess_fieldtypes()`
  - `sphinx.util.node.find_source_node()`
  - `sphinx.util.i18n.find_catalog()`
  - `sphinx.util.i18n.find_catalog_files()`
  - `sphinx.util.i18n.find_catalog_source_files()`

For more details, see \[deprecation APIs list \<dev-deprecated-apis\>\](\#deprecation-apis-list-\<dev-deprecated-apis\>).

### Features added

  - Add a helper class `sphinx.transforms.post_transforms.SphinxPostTransform`
  - Add helper methods
      - `PythonDomain.note_module()`
      - `PythonDomain.note_object()`
      - `SphinxDirective.set_source_info()`
  - \#6180: Support `--keep-going` with `BuildDoc` setup command
  - `math` directive now supports `:class:` option
  - todo: `todo` directive now supports `:name:` option
  - Enable override via environment of `SPHINXOPTS` and `SPHINXBUILD` Makefile variables (refs: \#6232, \#6303)
  - \#6287: autodoc: Unable to document bound instance methods exported as module functions
  - \#6289: autodoc: `autodoc_default_options` now supports `imported-members` option
  - \#4777: autodoc: Support coroutine
  - \#744: autodoc: Support abstractmethod
  - \#6325: autodoc: Support attributes in \_\_slots\_\_. For dict-style \_\_slots\_\_, autodoc considers values as a docstring of the attribute
  - \#6361: autodoc: Add `autodoc_typehints` to suppress typehints from signature
  - \#1063: autodoc: `automodule` directive now handles undocumented module level variables
  - \#6212: autosummary: Add `autosummary_imported_members` to display imported members on autosummary
  - \#6271: `make clean` is catastrophically broken if building into '.'
  - \#6363: Support `%O%` environment variable in make.bat
  - \#4777: py domain: Add `:async:` option to :rst`py:function` directive
  - py domain: Add new options to :rst`py:method` directive
      - `:abstractmethod:`
      - `:async:`
      - `:classmethod:`
      - `:property:`
      - `:staticmethod:`
  - rst domain: Add :rst`rst:directive:option` directive to describe the option for directive
  - \#6306: html: Add a label to search form for accessibility purposes
  - \#4390: html: Consistent and semantic CSS for signatures
  - \#6358: The `rawsource` property of `production` nodes now contains the full production rule
  - \#6373: autosectionlabel: Allow suppression of warnings
  - coverage: Support a new `coverage_ignore_pyobjects` option
  - \#6239: latex: Support to build Chinese documents

### Bugs fixed

  - \#6230: Inappropriate node\_id has been generated by glossary directive if term is consisted by non-ASCII characters
  - \#6213: ifconfig: contents after headings are not shown
  - commented term in glossary directive is wrongly recognized
  - \#6299: rst domain: rst:directive directive generates waste space
  - \#6379: py domain: Module index (py-modindex.html) has duplicate titles
  - \#6331: man: invalid output when doctest follows rubric
  - \#6351: "Hyperlink target is not referenced" message is shown even if referenced
  - \#6165: autodoc: `tab_width` setting of Docutils has been ignored
  - \#6347: autodoc: crashes with a plain Tuple on Python 3.6 and 3.5
  - \#6311: autosummary: autosummary table gets confused by complex type hints
  - \#6350: autosummary: confused by an argument having some kind of default value
  - Generated Makefiles lack a final EOL (refs: \#6232)
  - \#6375: extlinks: Cannot escape angle brackets in link caption
  - \#6378: linkcheck: Send commonly used User-Agent
  - \#6387: html search: failed to search document with haiku and scrolls themes
  - \#6408: html search: Fix the ranking of search results
  - \#6406: Wrong year is returned for `SOURCE_DATE_EPOCH`
  - \#6402: image directive crashes by unknown image format
  - \#6286: C++, allow 8 and 9 in hexadecimal integer literals.
  - \#6305: Fix the string in quickstart for 'path' argument of parser
  - LaTeX: Figures in admonitions produced errors (refs: \#6364)

---

2.2.md

---

# Sphinx 2.2

## Release 2.2.2 (released Dec 03, 2019)

### Incompatible changes

  - \#6803: For security reason of python, parallel mode is disabled on macOS and Python3.8+

### Bugs fixed

  - \#6776: LaTeX: 2019-10-01 LaTeX release breaks `sphinxcyrillic.sty`
  - \#6815: i18n: French, Hindi, Chinese, Japanese and Korean translation messages has been broken
  - \#6803: parallel build causes AttributeError on macOS and Python3.8

## Release 2.2.1 (released Oct 26, 2019)

### Bugs fixed

  - \#6641: LaTeX: Undefined control sequence `\sphinxmaketitle`
  - \#6710: LaTeX not well configured for Greek language as main language
  - \#6759: validation of html static paths and extra paths no longer throws an error if the paths are in different directories

## Release 2.2.0 (released Aug 19, 2019)

### Incompatible changes

  - apidoc: template files are renamed to `.rst_t`
  - html: Field lists will be styled by grid layout

### Deprecated

  - `sphinx.domains.math.MathDomain.add_equation()`
  - `sphinx.domains.math.MathDomain.get_next_equation_number()`
  - The `info` and `warn` arguments of `sphinx.ext.autosummary.generate.generate_autosummary_docs()`
  - `sphinx.ext.autosummary.generate._simple_info()`
  - `sphinx.ext.autosummary.generate._simple_warn()`
  - `sphinx.ext.todo.merge_info()`
  - `sphinx.ext.todo.process_todo_nodes()`
  - `sphinx.ext.todo.process_todos()`
  - `sphinx.ext.todo.purge_todos()`

### Features added

  - \#5124: graphviz: `:graphviz_dot:` option is renamed to `:layout:`
  - \#1464: html: emit a warning if `html_static_path` and `html_extra_path` directories are inside output directory
  - \#6514: html: Add a label to search input for accessibility purposes
  - \#5602: apidoc: Add `--templatedir` option
  - \#6475: Add `override` argument to `app.add_autodocumenter()`
  - \#6310: imgmath: let `imgmath_use_preview` work also with the SVG format for images rendering inline math
  - \#6533: LaTeX: refactor visit\_enumerated\_list() to use `\sphinxsetlistlabels`
  - \#6628: quickstart: Use `https://docs.python.org/3/` for default setting of `intersphinx_mapping`
  - \#6419: sphinx-build: give reasons why rebuilt

### Bugs fixed

  - py domain: duplicated warning does not point the location of source code
  - \#6499: html: Sphinx never updates a copy of `html_logo` even if original file has changed
  - \#1125: html theme: scrollbar is hard to see on classic theme and macOS
  - \#5502: linkcheck: Consider HTTP 503 response as not an error
  - \#6439: Make generated download links reproducible
  - \#6486: UnboundLocalError is raised if broken extension installed
  - \#6567: autodoc: `autodoc_inherit_docstrings` does not effect to `__init__()` and `__new__()`
  - \#6574: autodoc: `autodoc_member_order` does not refer order of imports when `'bysource'` order
  - \#6574: autodoc: missing type annotation for variadic and keyword parameters
  - \#6589: autodoc: Formatting issues with autodoc\_typehints='none'
  - \#6605: autodoc: crashed when target code contains custom method-like objects
  - \#6498: autosummary: crashed with wrong autosummary\_generate setting
  - \#6507: autosummary: crashes without no autosummary\_generate setting
  - \#6511: LaTeX: autonumbered list can not be customized in LaTeX since Sphinx 1.8.0 (refs: \#6533)
  - \#6531: Failed to load last environment object when extension added
  - \#736: Invalid sort in pair index
  - \#6527: <span class="title-ref">last\_updated</span> wrongly assumes timezone as UTC
  - \#5592: std domain: :rst`option` directive registers an index entry for each comma separated option
  - \#6549: sphinx-build: Escaped characters in error messages
  - \#6545: doctest comments not getting trimmed since Sphinx 1.8.0
  - \#6561: glossary: Wrong hyperlinks are generated for non alphanumeric terms
  - \#6620: i18n: classifiers of definition list are not translated with Docutils 0.15
  - \#6474: `DocFieldTransformer` raises AttributeError when given directive is not a subclass of ObjectDescription

---

2.3.md

---

# Sphinx 2.3

## Release 2.3.1 (released Dec 22, 2019)

### Bugs fixed

  - \#6936: sphinx-autogen: raises AttributeError

## Release 2.3.0 (released Dec 15, 2019)

### Incompatible changes

  - \#6742: `end-before` option of :rst`literalinclude` directive does not match the first line of the code block.
  - \#1331: Change default User-Agent header to `"Sphinx/X.Y.Z requests/X.Y.Z python/X.Y.Z"`. It can be changed via `user_agent`.
  - \#6867: text: content of admonitions starts after a blank line

### Deprecated

  - `sphinx.builders.gettext.POHEADER`
  - `sphinx.io.SphinxStandaloneReader.app`
  - `sphinx.io.SphinxStandaloneReader.env`
  - `sphinx.util.texescape.tex_escape_map`
  - `sphinx.util.texescape.tex_hl_escape_map_new`
  - `sphinx.writers.latex.LaTeXTranslator.no_contractions`

### Features added

  - \#6707: C++, support bit-fields.
  - \#267: html: Eliminate prompt characters of doctest block from copyable text
  - \#6548: html: Use favicon for OpenSearch if available
  - \#6729: html theme: agogo theme now supports `rightsidebar` option
  - \#6780: Add PEP-561 Support
  - \#6762: latex: Allow to load additional LaTeX packages via `extrapackages` key of `latex_elements`
  - \#1331: Add new config variable: `user_agent`
  - \#6000: LaTeX: have backslash also be an inline literal word wrap break character
  - \#4186: LaTeX: Support upLaTeX as a new `latex_engine` (experimental)
  - \#6812: Improve a warning message when extensions are not parallel safe
  - \#6818: Improve Intersphinx performance for multiple remote inventories.
  - \#2546: apidoc: .so file support
  - \#6798: autosummary: emit `autodoc-skip-member` event on generating stub file
  - \#6483: i18n: make explicit titles in toctree translatable
  - \#6816: linkcheck: Add `linkcheck_auth` option to provide authentication information when doing `linkcheck` builds
  - \#6872: linkcheck: Handles HTTP 308 Permanent Redirect
  - \#6613: html: Wrap section number in span tag
  - \#6781: gettext: Add `gettext_last_translator` and `gettext_language_team` to customize headers of POT file

### Bugs fixed

  - \#6668: LaTeX: Longtable before header has incorrect distance (refs: [latex3/latex2e\#173]())
  - \#6618: LaTeX: Avoid section names at the end of a page
  - \#6738: LaTeX: Do not replace unicode characters by LaTeX macros on unicode supported LaTeX engines: ¶, §, €, ∞, ±, →, ‣, –, superscript and subscript digits go through "as is" (as default OpenType font supports them)
  - \#6704: linkcheck: Be defensive and handle newly defined HTTP error code
  - \#6806: linkcheck: Failure on parsing content
  - \#6655: image URLs containing `data:` causes gettext builder crashed
  - \#6584: i18n: Error when compiling message catalogs on Hindi
  - \#6718: i18n: KeyError is raised if section title and table title are same
  - \#6743: i18n: `rst_prolog` breaks the translation
  - \#6708: mathbase: Some deprecated functions have removed
  - \#6709: autodoc: mock object does not work as a class decorator
  - \#5070: epub: Wrong internal href fragment links
  - \#6712: Allow not to install sphinx.testing as runtime (mainly for ALT Linux)
  - \#6741: html: search result was broken with empty `html_file_suffix`
  - \#6001: LaTeX does not wrap long code lines at backslash character
  - \#6804: LaTeX: PDF build breaks if admonition of danger type contains code-block long enough not to fit on one page
  - \#6809: LaTeX: code-block in a danger type admonition can easily spill over bottom of page
  - \#6793: texinfo: Code examples broken following "sidebar"
  - \#6813: An orphan warning is emitted for included document on Windows. Thanks to @drillan
  - \#6850: Fix smartypants module calls re.sub() with wrong options
  - \#6824: HTML search: If a search term is partially matched in the title and fully matched in a text paragraph on the same page, the search does not include this match.
  - \#6848: config.py shouldn't pop extensions from overrides
  - \#6867: text: extra spaces are inserted to hyphenated words on folding lines
  - \#6886: LaTeX: xelatex converts straight double quotes into right curly ones (shows when `smartquotes` is `False`)
  - \#6890: LaTeX: even with smartquotes off, PDF output transforms straight quotes and consecutive hyphens into curly quotes and dashes
  - \#6876: LaTeX: multi-line display of authors on title page has ragged edges
  - \#6887: Sphinx crashes with Docutils 0.16b0
  - \#6920: sphinx-build: A console message is wrongly highlighted
  - \#6900: sphinx-build: `-D` option does not considers `0` and `1` as a boolean value

---

2.4.md

---

# Sphinx 2.4

## Release 2.4.5 (released Nov 18, 2021)

### Dependencies

  - \#9807: Restrict Docutils to 0.17.x or older

## Release 2.4.4 (released Mar 05, 2020)

### Bugs fixed

  - \#7197: LaTeX: platex cause error to build image directive with target url
  - \#7223: Sphinx builds has been slower since 2.4.0

## Release 2.4.3 (released Feb 22, 2020)

### Bugs fixed

  - \#7184: autodoc: `*args` and `**kwarg` in type comments are not handled properly
  - \#7189: autodoc: classmethod coroutines are not detected
  - \#7183: intersphinx: `:attr:` reference to property is broken
  - \#6244, \#6387: html search: Search breaks/hangs when built with dirhtml builder
  - \#7195: todo: emit doctree-resolved event with non-document node incorrectly

## Release 2.4.2 (released Feb 19, 2020)

### Bugs fixed

  - \#7138: autodoc: `autodoc.typehints` crashed when variable has unbound object as a value
  - \#7156: autodoc: separator for keyword only arguments is not shown
  - \#7146: autodoc: IndexError is raised on suppressed type\_comment found
  - \#7161: autodoc: typehints extension does not support parallel build
  - \#7178: autodoc: TypeError is raised on fetching type annotations
  - \#7151: crashed when extension assigns a value to `env.indexentries`
  - \#7170: text: Remove debug print
  - \#7137: viewcode: Avoid to crash when non-python code given

## Release 2.4.1 (released Feb 11, 2020)

### Bugs fixed

  - \#7120: html: crashed when on scaling SVG images which have float dimensions
  - \#7126: autodoc: TypeError: 'getset\_descriptor' object is not iterable

## Release 2.4.0 (released Feb 09, 2020)

### Deprecated

  - The `decode` argument of `sphinx.pycode.ModuleAnalyzer()`
  - `sphinx.directives.other.Index`
  - `sphinx.environment.temp_data['gloss_entries']`
  - `sphinx.environment.BuildEnvironment.indexentries`
  - `sphinx.environment.collectors.indexentries.IndexEntriesCollector`
  - `sphinx.ext.apidoc.INITPY`
  - `sphinx.ext.apidoc.shall_skip()`
  - `sphinx.io.FiletypeNotFoundError`
  - `sphinx.io.get_filetype()`
  - `sphinx.pycode.ModuleAnalyzer.encoding`
  - `sphinx.roles.Index`
  - `sphinx.util.detect_encoding()`
  - `sphinx.util.get_module_source()`
  - `sphinx.util.inspect.Signature`
  - `sphinx.util.inspect.safe_getmembers()`
  - `sphinx.writers.latex.LaTeXTranslator.settings.author`
  - `sphinx.writers.latex.LaTeXTranslator.settings.contentsname`
  - `sphinx.writers.latex.LaTeXTranslator.settings.docclass`
  - `sphinx.writers.latex.LaTeXTranslator.settings.docname`
  - `sphinx.writers.latex.LaTeXTranslator.settings.title`
  - `sphinx.writers.latex.ADDITIONAL_SETTINGS`
  - `sphinx.writers.latex.DEFAULT_SETTINGS`
  - `sphinx.writers.latex.LUALATEX_DEFAULT_FONTPKG`
  - `sphinx.writers.latex.PDFLATEX_DEFAULT_FONTPKG`
  - `sphinx.writers.latex.XELATEX_DEFAULT_FONTPKG`
  - `sphinx.writers.latex.XELATEX_GREEK_DEFAULT_FONTPKG`

### Features added

  - \#6910: inheritance\_diagram: Make the background of diagrams transparent
  - \#6446: duration: Add `sphinx.ext.durations` to inspect which documents slow down the build
  - \#6837: LaTeX: Support a nested table
  - \#7115: LaTeX: Allow to override LATEXOPTS and LATEXMKOPTS via environment variable
  - \#6966: graphviz: Support `:class:` option
  - \#6696: html: `:scale:` option of image/figure directive not working for SVG images (imagesize-1.2.0 or above is required)
  - \#6994: imgconverter: Support illustrator file (.ai) to .png conversion
  - autodoc: Support Positional-Only Argument separator (PEP-570 compliant)
  - autodoc: Support type annotations for variables
  - \#2755: autodoc: Add new event: `autodoc-before-process-signature`
  - \#2755: autodoc: Support type\_comment style (ex. `# type: (str) -> str`) annotation (python3.8+ or [typed\_ast](https://github.com/python/typed_ast) is required)
  - \#7051: autodoc: Support instance variables without defaults (PEP-526)
  - \#6418: autodoc: Add a new extension `sphinx.ext.autodoc.typehints`. It shows typehints as object description if `autodoc_typehints = "description"` set. This is an experimental extension and it will be integrated into autodoc core in Sphinx 3.0
  - SphinxTranslator now calls visitor/departure method for super node class if visitor/departure method for original node class not found
  - \#6418: Add new event: `object-description-transform`
  - py domain: :rst`py:data` and :rst`py:attribute` take new options named `:type:` and `:value:` to describe its type and initial value
  - \#6785: py domain: `:py:attr:` is able to refer properties again
  - \#6772: apidoc: Add `-q` option for quiet mode

### Bugs fixed

  - \#6925: html: Remove redundant type="text/javascript" from \<script\> elements
  - \#7112: html: SVG image is not layouted as float even if aligned
  - \#6906, \#6907: autodoc: failed to read the source codes encoded in cp1251
  - \#6961: latex: warning for babel shown twice
  - \#7059: latex: LaTeX compilation falls into infinite loop (wrapfig issue)
  - \#6581: latex: `:reversed:` option for toctree does not effect to LaTeX build
  - \#6559: Wrong node-ids are generated in glossary directive
  - \#6986: apidoc: misdetects module name for .so file inside module
  - \#6899: apidoc: private members are not shown even if `--private` given
  - \#6327: apidoc: Support a python package consisted of \_\_init\_\_.so file
  - \#6999: napoleon: fails to parse tilde in :exc: role
  - \#7019: gettext: Absolute path used in message catalogs
  - \#7023: autodoc: nested partial functions are not listed
  - \#7023: autodoc: partial functions imported from other modules are listed as module members without :impoprted-members: option
  - \#6889: autodoc: Trailing comma in `:members::` option causes cryptic warning
  - \#6568: autosummary: `autosummary_imported_members` is ignored on generating a stub file for submodule
  - \#7055: linkcheck: redirect is treated as an error
  - \#7088: HTML template: If `navigation_with_keys` option is activated, modifier keys are ignored, which means the feature can interfere with browser features
  - \#7090: std domain: Can't assign numfig-numbers for custom container nodes
  - \#7106: std domain: enumerated nodes are marked as duplicated when extensions call `note_explicit_target()`
  - \#7095: dirhtml: Cross references are broken via intersphinx and `:doc:` role
  - C++:
      - Don't crash when using the `struct` role in some cases.
      - Don't warn when using the `var`/`member` role for function parameters.
      - Render call and braced-init expressions correctly.
  - \#7097: Filenames of images generated by `sphinx.transforms.post_transforms.images.ImageConverter` or its subclasses (used for latex build) are now sanitized, to prevent broken paths

---

3.0.md

---

# Sphinx 3.0

## Release 3.0.4 (released May 27, 2020)

### Bugs fixed

  - \#7567: autodoc: parametrized types are shown twice for generic types
  - \#7637: autodoc: system defined TypeVars are shown in Python 3.9
  - \#7696: html: Updated jQuery version from 3.4.1 to 3.5.1 for security reasons
  - \#7611: md5 fails when OpenSSL FIPS is enabled
  - \#7626: release package does not contain `CODE_OF_CONDUCT`

## Release 3.0.3 (released Apr 26, 2020)

### Features added

  - C, parse array declarators with static, qualifiers, and VLA specification.

### Bugs fixed

  - \#7516: autodoc: crashes if target object raises an error on accessing its attributes

## Release 3.0.2 (released Apr 19, 2020)

### Features added

  - C, parse attributes and add `c_id_attributes` and `c_paren_attributes` to support user-defined attributes.

### Bugs fixed

  - \#7461: py domain: fails with IndexError for empty tuple in type annotation
  - \#7510: py domain: keyword-only arguments are documented as having a default of None
  - \#7418: std domain: :rst`term` role could not match case-insensitively
  - \#7461: autodoc: empty tuple in type annotation is not shown correctly
  - \#7479: autodoc: Sphinx builds has been slower since 3.0.0 on mocking
  - C++, fix spacing issue in east-const declarations.
  - \#7414: LaTeX: Xindy language options were incorrect
  - Sphinx crashes with ImportError on python3.5.1

## Release 3.0.1 (released Apr 11, 2020)

### Incompatible changes

  - \#7418: std domain: :rst`term` role becomes case sensitive

### Bugs fixed

  - \#7428: py domain: a reference to class `None` emits a nitpicky warning
  - \#7445: py domain: a return annotation `None` in the function signature is not converted to a hyperlink when using intersphinx
  - \#7418: std domain: duplication warning for glossary terms is case insensitive
  - \#7438: C++, fix merging overloaded functions in parallel builds.
  - \#7422: autodoc: fails with ValueError when using autodoc\_mock\_imports
  - \#7435: autodoc: `autodoc_typehints``='description'` doesn't suppress typehints in signature for classes/methods
  - \#7451: autodoc: fails with AttributeError when an object returns non-string object as a `__doc__` member
  - \#7423: crashed when giving a non-string object to logger
  - \#7479: html theme: Do not include xmlns attribute with HTML 5 doctype
  - \#7426: html theme: Escape some links in HTML templates

## Release 3.0.0 (released Apr 06, 2020)

### Dependencies

3.0.0b1

  - LaTeX: drop dependency on `extractbb` for image inclusion in Japanese documents as `.xbb` files are unneeded by `dvipdfmx` since TeXLive2015 (refs: \#6189)
  - babel-2.0 or above is available (Unpinned)

### Incompatible changes

3.0.0b1

  - Drop features and APIs deprecated in 1.8.x
  - \#247: autosummary: stub files are overwritten automatically by default. see `autosummary_generate_overwrite` to change the behavior
  - \#5923: autodoc: the members of `object` class are not documented by default when `:inherited-members:` and `:special-members:` are given.
  - \#6830: py domain: `meta` fields in info-field-list becomes reserved. They are not displayed on output document now
  - \#6417: py domain: doctree of desc\_parameterlist has been changed. The argument names, annotations and default values are wrapped with inline node
  - The structure of `sphinx.events.EventManager.listeners` has changed
  - Due to the scoping changes for :rst`productionlist` some uses of :rst`token` must be modified to include the scope which was previously ignored.
  - \#6903: Internal data structure of Python, reST and standard domains have changed. The node\_id is added to the index of objects and modules. Now they contains a pair of docname and node\_id for cross reference.
  - \#7276: C++ domain: Non intended behavior is removed such as `say_hello_` links to `.. cpp:function:: say_hello()`
  - \#7210: js domain: Non intended behavior is removed such as `parseInt_` links to `.. js:function:: parseInt`
  - \#7229: rst domain: Non intended behavior is removed such as `numref_` links to `.. rst:role:: numref`
  - \#6903: py domain: Non intended behavior is removed such as `say_hello_` links to `.. py:function:: say_hello()`
  - \#7246: py domain: Drop special cross reference helper for exceptions, functions and methods
  - The C domain has been rewritten, with additional directives and roles. The existing ones are now more strict, resulting in new warnings.
  - The attribute `sphinx_cpp_tagname` in the `desc_signature_line` node has been renamed to `sphinx_line_type`.
  - \#6462: double backslashes in domain directives are no longer replaced by single backslashes as default. A new configuration value `strip_signature_backslash` can be used by users to re-enable it.

3.0.0 final

  - \#7222: `sphinx.util.inspect.unwrap()` is renamed to `unwrap_all()`

### Deprecated

3.0.0b1

  - `desc_signature['first']`
  - `sphinx.directives.DescDirective`
  - `sphinx.domains.std.StandardDomain.add_object()`
  - `sphinx.domains.python.PyDecoratorMixin`
  - `sphinx.ext.autodoc.get_documenters()`
  - `sphinx.ext.autosummary.process_autosummary_toc()`
  - `sphinx.parsers.Parser.app`
  - `sphinx.testing.path.Path.text()`
  - `sphinx.testing.path.Path.bytes()`
  - `sphinx.util.inspect.getargspec()`
  - `sphinx.writers.latex.LaTeXWriter.format_docclass()`

### Features added

3.0.0b1

  - \#247: autosummary: Add `autosummary_generate_overwrite` to overwrite old stub file
  - \#5923: autodoc: `:inherited-members:` option takes a name of ancestor class not to document inherited members of the class and uppers
  - \#6830: autodoc: consider a member private if docstring contains `:meta private:` in info-field-list
  - \#7165: autodoc: Support Annotated type (PEP-593)
  - \#2815: autodoc: Support singledispatch functions and methods
  - \#7079: autodoc: `autodoc_typehints` accepts `"description"` configuration. It shows typehints as object description
  - \#7314: apidoc: Propagate `--maxdepth` option through package documents
  - \#6558: glossary: emit a warning for duplicated glossary entry
  - \#3106: domain: Register hyperlink target for index page automatically
  - \#6558: std domain: emit a warning for duplicated generic objects
  - \#6830: py domain: Add new event: `object-description-transform`
  - \#6895: py domain: Do not emit nitpicky warnings for built-in types
  - py domain: Support lambda functions in function signature
  - \#6417: py domain: Allow to make a style for arguments of functions and methods
  - \#7238, \#7239: py domain: Emit a warning on describing a python object if the entry is already added as the same name
  - \#7341: py domain: type annotations in signature are converted to cross refs
  - Support priority of event handlers. For more detail, see :py\`.Sphinx.connect()\`
  - \#3077: Implement the scoping for :rst`productionlist` as indicated in the documentation.
  - \#1027: Support backslash line continuation in :rst`productionlist`.
  - \#7108: config: Allow to show an error message from conf.py via `ConfigError`
  - \#7032: html: `html_scaled_image_link` will be disabled for images having `no-scaled-link` class
  - \#7144: Add CSS class indicating its domain for each desc node
  - \#7211: latex: Use babel for Chinese document when using XeLaTeX
  - \#6672: LaTeX: Support LaTeX Theming (experimental)
  - \#7005: LaTeX: Add LaTeX styling macro for :rst`kbd` role
  - \#7220: genindex: Show "main" index entries at first
  - \#7103: linkcheck: writes all links to `output.json`
  - \#7025: html search: full text search can be disabled for individual document using `:nosearch:` file-wide metadata
  - \#7293: html search: Allow to override JavaScript splitter via `SearchLanguage.js_splitter_code`
  - \#7142: html theme: Add a theme option: `pygments_dark_style` to switch the style of code-blocks in dark mode
  - The C domain has been rewritten adding for example:
      - Cross-referencing respecting the current scope.
      - Possible to document anonymous entities.
      - More specific directives and roles for each type of entity, e.g., handling scoping of enumerators.
      - New role :rst`c:expr` for rendering expressions and types in text.
  - Added `SphinxDirective.get_source_info()` and `SphinxRole.get_source_info()`.
  - \#7324: sphinx-build: Emit a warning if multiple files having different file extensions for same document found

3.0.0 final

  - Added `ObjectDescription.transform_content()`.

### Bugs fixed

3.0.0b1

  - C++, fix cross reference lookup in certain cases involving function overloads.
  - \#5078: C++, fix cross reference lookup when a directive contains multiple declarations.
  - C++, suppress warnings for directly dependent typenames in cross references generated automatically in signatures.
  - \#5637: autodoc: Incorrect handling of nested class names on show-inheritance
  - \#7267: autodoc: error message for invalid directive options has wrong location
  - \#7329: autodoc: info-field-list is wrongly generated from type hints into the class description even if `autoclass_content='class'` set
  - \#7331: autodoc: a cython-function is not recognized as a function
  - \#5637: inheritance\_diagram: Incorrect handling of nested class names
  - \#7139: `code-block:: guess` does not work
  - \#7325: html: source\_suffix containing dot leads to wrong source link
  - \#7357: html: Resizing SVG image fails with ValueError
  - \#7278: html search: Fix use of `html_file_suffix` instead of `html_link_suffix` in search results
  - \#7297: html theme: `bizstyle` does not support `sidebarwidth`
  - \#3842: singlehtml: Path to images broken when master doc is not in source root
  - \#7179: std domain: Fix whitespaces are suppressed on referring GenericObject
  - \#7289: console: use bright colors instead of bold
  - \#1539: C, parse array types.
  - \#2377: C, parse function pointers even in complex types.
  - \#7345: sphinx-build: Sphinx crashes if output directory exists as a file
  - \#7290: sphinx-build: Ignore bdb.BdbQuit when handling exceptions
  - \#6240: napoleon: Attributes and Methods sections ignore :noindex: option

3.0.0 final

  - \#7364: autosummary: crashed when `autosummary_generate` is `False`
  - \#7370: autosummary: raises UnboundLocalError when unknown module given
  - \#7367: C++, alternate operator spellings are now supported.
  - C, alternate operator spellings are now supported.
  - \#7368: C++, comma operator in expressions, pack expansion in template argument lists, and more comprehensive error messages in some cases.
  - C, C++, fix crash and wrong duplicate warnings related to anon symbols.
  - \#6477: Escape first "\!" in a cross reference linking no longer possible
  - \#7219: py domain: The index entry generated by `py:function` directive is different with one from `index` directive with "builtin" type
  - \#7301: capital characters are not allowed for node\_id
  - \#7301: epub: duplicated node\_ids are generated
  - \#6564: html: a width of table was ignored on HTML builder
  - \#7401: Incorrect argument is passed for `env-get-outdated` handlers
  - \#7355: autodoc: a signature of cython-function is not recognized well
  - \#7222: autodoc: `__wrapped__` functions are not documented correctly
  - \#7409: intersphinx: ValueError is raised when an extension sets up `intersphinx_mapping` on `config-inited` event
  - \#7343: Sphinx builds has been slower since 2.4.0 on debug mode

---

3.1.md

---

# Sphinx 3.1

## Release 3.1.2 (released Jul 05, 2020)

### Incompatible changes

  - \#7650: autodoc: the signature of base function will be shown for decorated functions, not a signature of decorator

### Bugs fixed

  - \#7844: autodoc: Failed to detect module when relative module name given
  - \#7856: autodoc: AttributeError is raised when non-class object is given to the autoclass directive
  - \#7850: autodoc: KeyError is raised for invalid mark up when autodoc\_typehints is 'description'
  - \#7812: autodoc: crashed if the target name matches to both an attribute and module that are same name
  - \#7650: autodoc: function signature becomes `(*args, **kwargs)` if the function is decorated by generic decorator
  - \#7812: autosummary: generates broken stub files if the target code contains an attribute and module that are same name
  - \#7806: viewcode: Failed to resolve viewcode references on 3rd party builders
  - \#7838: html theme: List items have extra vertical space
  - \#7878: html theme: Undesired interaction between "overflow" and "float"

## Release 3.1.1 (released Jun 14, 2020)

### Incompatible changes

  - \#7808: napoleon: a type for attribute are represented as typed field

### Features added

  - \#7807: autodoc: Show detailed warning when type\_comment is mismatched with its signature

### Bugs fixed

  - \#7808: autodoc: Warnings raised on variable and attribute type annotations
  - \#7802: autodoc: EOFError is raised on parallel build
  - \#7821: autodoc: TypeError is raised for overloaded C-ext function
  - \#7805: autodoc: an object which descriptors returns is unexpectedly documented
  - \#7807: autodoc: wrong signature is shown for the function using contextmanager
  - \#7812: autosummary: generates broken stub files if the target code contains an attribute and module that are same name
  - \#7808: napoleon: Warnings raised on variable and attribute type annotations
  - \#7811: sphinx.util.inspect causes circular import problem

## Release 3.1.0 (released Jun 08, 2020)

### Dependencies

  - \#7746: mathjax: Update to 2.7.5

### Incompatible changes

  - \#7477: imgconverter: Invoke "magick convert" command by default on Windows

### Deprecated

  - The first argument for sphinx.ext.autosummary.generate.AutosummaryRenderer has been changed to Sphinx object
  - `sphinx.ext.autosummary.generate.AutosummaryRenderer` takes an object type as an argument
  - The `ignore` argument of `sphinx.ext.autodoc.Documenter.get_doc()`
  - The `template_dir` argument of `sphinx.ext.autosummary.generate. AutosummaryRenderer`
  - The `module` argument of `sphinx.ext.autosummary.generate. find_autosummary_in_docstring()`
  - The `builder` argument of `sphinx.ext.autosummary.generate. generate_autosummary_docs()`
  - The `template_dir` argument of `sphinx.ext.autosummary.generate. generate_autosummary_docs()`
  - The `ignore` argument of `sphinx.util.docstring.prepare_docstring()`
  - `sphinx.ext.autosummary.generate.AutosummaryRenderer.exists()`
  - `sphinx.util.rpartition()`

### Features added

  - LaTeX: Make the `toplevel_sectioning` setting optional in LaTeX theme
  - LaTeX: Allow to override papersize and pointsize from LaTeX themes
  - LaTeX: Add `latex_theme_options` to override theme options
  - \#7410: Allow to suppress "circular toctree references detected" warnings using `suppress_warnings`
  - C, added scope control directives, :rst`c:namespace`, :rst`c:namespace-push`, and :rst`c:namespace-pop`.
  - \#2044: autodoc: Suppress default value for instance attributes
  - \#7473: autodoc: consider a member public if docstring contains `:meta public:` in info-field-list
  - \#7487: autodoc: Allow to generate docs for singledispatch functions by py:autofunction
  - \#7143: autodoc: Support final classes and methods
  - \#7384: autodoc: Support signatures defined by `__new__()`, metaclasses and builtin base classes
  - \#2106: autodoc: Support multiple signatures on docstring
  - \#4422: autodoc: Support GenericAlias in Python 3.7 or above
  - \#3610: autodoc: Support overloaded functions
  - \#7722: autodoc: Support TypeVar
  - \#7466: autosummary: headings in generated documents are not translated
  - \#7490: autosummary: Add `:caption:` option to autosummary directive to set a caption to the toctree
  - \#7469: autosummary: Support module attributes
  - \#248, \#6040: autosummary: Add `:recursive:` option to autosummary directive to generate stub files recursively
  - \#4030: autosummary: Add `autosummary_context` to add template variables for custom templates
  - \#7530: html: Support nested \<kbd\> elements
  - \#7481: html theme: Add right margin to footnote/citation labels
  - \#7482, \#7717: html theme: CSS spacing for code blocks with captions and line numbers
  - \#7443: html theme: Add new options `globaltoc_collapse` and `globaltoc_includehidden` to control the behavior of globaltoc in sidebar
  - \#7484: html theme: Avoid clashes between sidebar and other blocks
  - \#7476: html theme: Relbar breadcrumb should contain current page
  - \#7506: html theme: A canonical URL is not escaped
  - \#7533: html theme: Avoid whitespace at the beginning of genindex.html
  - \#7541: html theme: Add a "clearer" at the end of the "body"
  - \#7542: html theme: Make admonition/topic/sidebar scrollable
  - \#7543: html theme: Add top and bottom margins to tables
  - \#7695: html theme: Add viewport meta tag for basic theme
  - \#7721: html theme: classic: default codetextcolor/codebgcolor doesn't override Pygments
  - C and C++: allow semicolon in the end of declarations.
  - C++, parse parameterized noexcept specifiers.
  - \#7294: C++, parse expressions with user-defined literals.
  - C++, parse trailing return types.
  - \#7143: py domain: Add `:final:` option to :rst`py:class`, :rst`py:exception` and :rst`py:method` directives
  - \#7596: py domain: Change a type annotation for variables to a hyperlink
  - \#7770: std domain: :rst`option` directive support arguments in the form of `foo[=bar]`
  - \#7582: napoleon: a type for attribute are represented like type annotation
  - \#7734: napoleon: overescaped trailing underscore on attribute
  - \#7247: linkcheck: Add `linkcheck_request_headers` to send custom HTTP headers for specific host
  - \#7792: setuptools: Support `--verbosity` option
  - \#7683: Add `allowed_exceptions` parameter to `Sphinx.emit()` to allow handlers to raise specified exceptions
  - \#7295: C++, parse (trailing) requires clauses.

### Bugs fixed

  - \#6703: autodoc: incremental build does not work for imported objects
  - \#7564: autodoc: annotations not to be shown for descriptors
  - \#6588: autodoc: Decorated inherited method has no documentation
  - \#7469: autodoc: The change of autodoc-process-docstring for variables is cached unexpectedly
  - \#7559: autodoc: misdetects a sync function is async
  - \#6857: autodoc: failed to detect a classmethod on Enum class
  - \#7562: autodoc: a typehint contains spaces is wrongly rendered under `autodoc_typehints``='description'` mode
  - \#7551: autodoc: failed to import nested class
  - \#7362: autodoc: does not render correct signatures for built-in functions
  - \#7654: autodoc: `Optional[Union[foo, bar]]` is presented as `Union[foo, bar, None]`
  - \#7629: autodoc: autofunction emits an unfriendly warning if an invalid object specified
  - \#7650: autodoc: undecorated signature is shown for decorated functions
  - \#7676: autodoc: typo in the default value of autodoc\_member\_order
  - \#7676: autodoc: wrong value for :member-order: option is ignored silently
  - \#7676: autodoc: member-order="bysource" does not work for C module
  - \#3673: autodoc: member-order="bysource" does not work for a module having `__all__`
  - \#7668: autodoc: wrong retann value is passed to a handler of autodoc-process-signature
  - \#7711: autodoc: fails with ValueError when processing numpy objects
  - \#7791: autodoc: TypeError is raised on documenting singledispatch function
  - \#7551: autosummary: a nested class is indexed as non-nested class
  - \#7661: autosummary: autosummary directive emits warnings twices if failed to import the target module
  - \#7685: autosummary: The template variable "members" contains imported members even if `autossummary_imported_members` is `False`
  - \#7671: autosummary: The location of import failure warning is missing
  - \#7535: sphinx-autogen: crashes when custom template uses inheritance
  - \#7536: sphinx-autogen: crashes when template uses i18n feature
  - \#7781: sphinx-build: Wrong error message when outdir is not directory
  - \#7653: sphinx-quickstart: Fix multiple directory creation for nested relpath
  - \#2785: html: Bad alignment of equation links
  - \#7718: html theme: some themes does not respect background color of Pygments style (agogo, haiku, nature, pyramid, scrolls, sphinxdoc and traditional)
  - \#7544: html theme: inconsistent padding in admonitions
  - \#7581: napoleon: bad parsing of inline code in attribute docstrings
  - \#7628: imgconverter: runs imagemagick once unnecessary for builders not supporting images
  - \#7610: incorrectly renders consecutive backslashes for Docutils 0.16
  - \#7646: handle errors on event handlers
  - \#4187: LaTeX: EN DASH disappears from PDF bookmarks in Japanese documents
  - \#7701: LaTeX: Anonymous indirect hyperlink target causes duplicated labels
  - \#7723: LaTeX: pdflatex crashed when URL contains a single quote
  - \#7756: py domain: The default value for positional only argument is not shown
  - \#7760: coverage: Add `coverage_show_missing_items` to show coverage result to console
  - C++, fix rendering and xrefs in nested names explicitly starting in global scope, e.g., `::A::B`.
  - C, fix rendering and xrefs in nested names explicitly starting in global scope, e.g., `.A.B`.
  - \#7763: C and C++, don't crash during display stringification of unary expressions and fold expressions.

---

3.2.md

---

# Sphinx 3.2

## Release 3.2.1 (released Aug 14, 2020)

### Features added

  - \#8095: napoleon: Add `napoleon_preprocess_types` to enable the type preprocessor for numpy style docstrings
  - \#8114: C and C++, parse function attributes after parameters and qualifiers.

### Bugs fixed

  - \#8074: napoleon: Crashes during processing C-ext module
  - \#8088: napoleon: "Inline literal start-string without end-string" warning in Numpy style Parameters section
  - \#8084: autodoc: KeyError is raised on documenting an attribute of the broken class
  - \#8091: autodoc: AttributeError is raised on documenting an attribute on Python 3.5.2
  - \#8099: autodoc: NameError is raised when target code uses `TYPE_CHECKING`
  - C++, fix parsing of template template parameters, broken by the fix of \#7944

## Release 3.2.0 (released Aug 08, 2020)

### Deprecated

  - `sphinx.ext.autodoc.members_set_option()`
  - `sphinx.ext.autodoc.merge_special_members_option()`
  - `sphinx.writers.texinfo.TexinfoWriter.desc`
  - C, parsing of pre-v3 style type directives and roles, along with the options `!c_allow_pre_v3` and `!c_warn_on_allowed_pre_v3`.

### Features added

  - \#2076: autodoc: Allow overriding of exclude-members in skip-member function
  - \#8034: autodoc: `:private-member:` can take an explicit list of member names to be documented
  - \#2024: autosummary: Add `autosummary_filename_map` to avoid conflict of filenames between two object with different case
  - \#8011: autosummary: Support instance attributes as a target of autosummary directive
  - \#7849: html: Add `html_codeblock_linenos_style` to change the style of line numbers for code-blocks
  - \#7853: C and C++, support parameterized GNU style attributes.
  - \#7888: napoleon: Add aliases Warn and Raise.
  - \#7690: napoleon: parse type strings and make them hyperlinks as possible. The conversion rule can be updated via `napoleon_type_aliases`
  - \#8049: napoleon: Create a hyperlink for each the type of parameter when `napoleon_use_param` is `False`
  - C, added :rst`c:alias` directive for inserting copies of existing declarations.
  - \#7745: html: inventory is broken if the docname contains a space
  - \#7991: html search: Allow searching for numbers
  - \#7902: html theme: Add a new option `globaltoc_maxdepth` to control the behavior of globaltoc in sidebar
  - \#7840: i18n: Optimize the dependencies check on bootstrap
  - \#7768: i18n: `figure_language_filename` supports `docpath` token
  - \#5208: linkcheck: Support checks for local links
  - \#5090: setuptools: Link verbosity to distutils' -v and -q option
  - \#6698: doctest: Add `:trim-doctest-flags:` and `:no-trim-doctest-flags:` options to doctest, testcode and testoutput directives
  - \#7052: add `:noindexentry:` to the Python, C, C++, and Javascript domains. Update the documentation to better reflect the relationship between this option and the `:noindex:` option.
  - \#7899: C, add possibility of parsing of some pre-v3 style type directives and roles and try to convert them to equivalent v3 directives/roles. Set the new option `!c_allow_pre_v3` to `True` to enable this. The warnings printed from this functionality can be suppressed by setting `!c_warn_on_allowed_pre_v3` to `True`. The functionality is immediately deprecated.
  - \#7999: C, add support for named variadic macro arguments.
  - \#8071: Allow to suppress "self referenced toctrees" warning

### Bugs fixed

  - \#7886: autodoc: TypeError is raised on mocking generic-typed classes
  - \#7935: autodoc: function signature is not shown when the function has a parameter having `inspect._empty` as its default value
  - \#7901: autodoc: type annotations for overloaded functions are not resolved
  - \#904: autodoc: An instance attribute cause a crash of autofunction directive
  - \#1362: autodoc: `private-members` option does not work for class attributes
  - \#7983: autodoc: Generator type annotation is wrongly rendered in py36
  - \#8030: autodoc: An uninitialized annotated instance variable is not documented when `:inherited-members:` option given
  - \#8032: autodoc: A type hint for the instance variable defined at parent class is not shown in the document of the derived class
  - \#8041: autodoc: An annotated instance variable on super class is not documented when derived class has other annotated instance variables
  - \#7839: autosummary: cannot handle umlauts in function names
  - \#7865: autosummary: Failed to extract summary line when abbreviations found
  - \#7866: autosummary: Failed to extract correct summary line when docstring contains a hyperlink target
  - \#7469: autosummary: "Module attributes" header is not translatable
  - \#7940: apidoc: An extra newline is generated at the end of the rst file if a module has submodules
  - \#4258: napoleon: decorated special methods are not shown
  - \#7799: napoleon: parameters are not escaped for combined params in numpydoc
  - \#7780: napoleon: multiple parameters declaration in numpydoc was wrongly recognized when `napoleon_use_param=True`
  - \#7715: LaTeX: `numfig_secnum_depth > 1` leads to wrong figure links
  - \#7846: html theme: XML-invalid files were generated
  - \#7894: gettext: Wrong source info is shown when using rst\_epilog
  - \#7691: linkcheck: HEAD requests are not used for checking
  - \#4888: i18n: Failed to add an explicit title to `:ref:` role on translation
  - \#7928: py domain: failed to resolve a type annotation for the attribute
  - \#8008: py domain: failed to parse a type annotation containing ellipsis
  - \#7994: std domain: option directive does not generate old node\_id compatible with 2.x or older
  - \#7968: i18n: The content of `math` directive is interpreted as reST on translation
  - \#7768: i18n: The `root` element for `figure_language_filename` is not a path that user specifies in the document
  - \#7993: texinfo: TypeError is raised for nested object descriptions
  - \#7993: texinfo: a warning not supporting desc\_signature\_line node is shown
  - \#7869: :rst`abbr` role without an explanation will show the explanation from the previous abbr role
  - \#8048: graphviz: graphviz.css was copied on building non-HTML document
  - C and C++, removed `noindex` directive option as it did nothing.
  - \#7619: Duplicated node IDs are generated if node has multiple IDs
  - \#2050: Symbols sections are appeared twice in the index page
  - \#8017: Fix circular import in sphinx.addnodes
  - \#7986: CSS: make "highlight" selector more robust
  - \#7944: C++, parse non-type template parameters starting with a dependent qualified name.
  - C, don't deepcopy the entire symbol table and make a mess every time an enumerator is handled.

---

3.3.md

---

# Sphinx 3.3

## Release 3.3.1 (released Nov 12, 2020)

### Bugs fixed

  - \#8372: autodoc: autoclass directive became slower than Sphinx 3.2
  - \#7727: autosummary: raise PycodeError when documenting python package without \_\_init\_\_.py
  - \#8350: autosummary: autosummary\_mock\_imports causes slow down builds
  - \#8364: C, properly initialize attributes in empty symbols.
  - \#8399: i18n: Put system locale path after the paths specified by configuration

## Release 3.3.0 (released Nov 02, 2020)

### Deprecated

  - `sphinx.builders.latex.LaTeXBuilder.usepackages`
  - `sphinx.builders.latex.LaTeXBuilder.usepackages_afger_hyperref`
  - `sphinx.ext.autodoc.SingledispatchFunctionDocumenter`
  - `sphinx.ext.autodoc.SingledispatchMethodDocumenter`

### Features added

  - \#8100: html: Show a better error message for failures on copying html\_static\_files
  - \#8141: C: added a `maxdepth` option to :rst`c:alias` to insert nested declarations.
  - \#8081: LaTeX: Allow to add LaTeX package via `app.add_latex_package()` until just before writing .tex file
  - \#7996: manpage: Add `man_make_section_directory` to make a section directory on build man page
  - \#8289: epub: Allow to suppress "duplicated ToC entry found" warnings from epub builder using `suppress_warnings`.
  - \#8298: sphinx-quickstart: Add `sphinx-quickstart --no-sep` option
  - \#8304: sphinx.testing: Register public markers in sphinx.testing.fixtures
  - \#8051: napoleon: use the obj role for all See Also items
  - \#8050: napoleon: Apply `napoleon_preprocess_types` to every field
  - C and C++, show line numbers for previous declarations when duplicates are detected.
  - \#8183: Remove substitution\_reference nodes from doctree only on LaTeX builds

### Bugs fixed

  - \#8085: i18n: Add support for having single text domain
  - \#6640: i18n: Failed to override system message translation
  - \#8143: autodoc: `AttributeError` is raised when `False` value is passed to `autodoc_default_options`
  - \#8103: autodoc: functools.cached\_property is not considered as a property
  - \#8190: autodoc: parsing error is raised if some extension replaces docstring by string not ending with blank lines
  - \#8142: autodoc: Wrong constructor signature for the class derived from typing.Generic
  - \#8157: autodoc: TypeError is raised when annotation has invalid \_\_args\_\_
  - \#7964: autodoc: Tuple in default value is wrongly rendered
  - \#8200: autodoc: type aliases break type formatting of autoattribute
  - \#7786: autodoc: can't detect overloaded methods defined in other file
  - \#8294: autodoc: single-string \_\_slots\_\_ is not handled correctly
  - \#7785: autodoc: autodoc\_typehints='none' does not effect to overloaded functions
  - \#8192: napoleon: description is disappeared when it contains inline literals
  - \#8142: napoleon: Potential of regex denial of service in google style docs
  - \#8169: LaTeX: pxjahyper loaded even when latex\_engine is not platex
  - \#8215: LaTeX: 'oneside' classoption causes build warning
  - \#8175: intersphinx: Potential of regex denial of service by broken inventory
  - \#8277: sphinx-build: missing and redundant spacing (and etc) for console output on building
  - \#7973: imgconverter: Check availability of imagemagick many times
  - \#8255: py domain: number in default argument value is changed from hexadecimal to decimal
  - \#8316: html: Prevent arrow keys changing page when button elements are focused
  - \#8343: html search: Fix unnecessary load of images when parsing the document
  - \#8254: html theme: Line numbers misalign with code lines
  - \#8093: The highlight warning has wrong location in some builders (LaTeX, singlehtml and so on)
  - \#8215: Eliminate Fancyhdr build warnings for oneside documents
  - \#8239: Failed to refer a token in productionlist if it is indented
  - \#8268: linkcheck: Report HTTP errors when `linkcheck_anchors` is `True`
  - \#8245: linkcheck: take source directory into account for local files
  - \#8321: linkcheck: `tel:` schema hyperlinks are detected as errors
  - \#8323: linkcheck: An exit status is incorrect when links having unsupported schema found
  - \#8188: C, add missing items to internal object types dictionary, e.g., preventing intersphinx from resolving them.
  - C, fix anon objects in intersphinx.
  - \#8270, C++, properly reject functions as duplicate declarations if a non-function declaration of the same name already exists.
  - C, fix references to function parameters. Link to the function instead of a non-existing anchor.
  - \#6914: figure numbers are unexpectedly assigned to uncaptioned items
  - \#8320: make "inline" line numbers un-selectable

### Testing

  - \#8257: Support parallel build in sphinx.testing

---

3.4.md

---

# Sphinx 3.4

## Release 3.4.3 (released Jan 08, 2021)

### Bugs fixed

  - \#8655: autodoc: Failed to generate document if target module contains an object that raises an exception on `hasattr()`

## Release 3.4.2 (released Jan 04, 2021)

### Bugs fixed

  - \#8164: autodoc: Classes that inherit mocked class are not documented
  - \#8602: autodoc: The `autodoc-process-docstring` event is emitted to the non-datadescriptors unexpectedly
  - \#8616: autodoc: AttributeError is raised on non-class object is passed to autoclass directive

## Release 3.4.1 (released Dec 25, 2020)

### Bugs fixed

  - \#8559: autodoc: AttributeError is raised when using forward-reference type annotations
  - \#8568: autodoc: TypeError is raised on checking slots attribute
  - \#8567: autodoc: Instance attributes are incorrectly added to Parent class
  - \#8566: autodoc: The `autodoc-process-docstring` event is emitted to the alias classes unexpectedly
  - \#8583: autodoc: Unnecessary object comparison via `__eq__` method
  - \#8565: linkcheck: Fix PriorityQueue crash when link tuples are not comparable

## Release 3.4.0 (released Dec 20, 2020)

### Incompatible changes

  - \#8105: autodoc: the signature of class constructor will be shown for decorated classes, not a signature of decorator

### Deprecated

  - The `follow_wrapped` argument of `sphinx.util.inspect.signature()`
  - The `no_docstring` argument of `sphinx.ext.autodoc.Documenter.add_content()`
  - `sphinx.ext.autodoc.Documenter.get_object_members()`
  - `sphinx.ext.autodoc.DataDeclarationDocumenter`
  - `sphinx.ext.autodoc.GenericAliasDocumenter`
  - `sphinx.ext.autodoc.InstanceAttributeDocumenter`
  - `sphinx.ext.autodoc.SlotsAttributeDocumenter`
  - `sphinx.ext.autodoc.TypeVarDocumenter`
  - `sphinx.ext.autodoc.importer._getannotations()`
  - `sphinx.ext.autodoc.importer._getmro()`
  - `sphinx.pycode.ModuleAnalyzer.parse()`
  - `sphinx.util.osutil.movefile()`
  - `sphinx.util.requests.is_ssl_error()`

### Features added

  - \#8119: autodoc: Allow to determine whether a member not included in `__all__` attribute of the module should be documented or not via `autodoc-skip-member` event
  - \#8219: autodoc: Parameters for generic class are not shown when super class is a generic class and show-inheritance option is given (in Python 3.7 or above)
  - autodoc: Add `Documenter.config` as a shortcut to access the config object
  - autodoc: Add `Optional[t]` to annotation of function and method if a default value equal to `None` is set.
  - \#8209: autodoc: Add `:no-value:` option to :rst`autoattribute` and :rst`autodata` directive to suppress the default value of the variable
  - \#8460: autodoc: Support custom types defined by typing.NewType
  - \#8285: napoleon: Add `napoleon_attr_annotations` to merge type hints on source code automatically if any type is specified in docstring
  - \#8236: napoleon: Support numpydoc's "Receives" section
  - \#6914: Add a new event `warn-missing-reference` to custom warning messages when failed to resolve a cross-reference
  - \#6914: Emit a detailed warning when failed to resolve a `:ref:` reference
  - \#6629: linkcheck: The builder now handles rate limits. See `linkcheck_rate_limit_timeout` for details.

### Bugs fixed

  - \#7613: autodoc: autodoc does not respect \_\_signature\_\_ of the class
  - \#4606: autodoc: the location of the warning is incorrect for inherited method
  - \#8105: autodoc: the signature of class constructor is incorrect if the class is decorated
  - \#8434: autodoc: `autodoc_type_aliases` does not effect to variables and attributes
  - \#8443: autodoc: autodata directive can't create document for PEP-526 based type annotated variables
  - \#8443: autodoc: autoattribute directive can't create document for PEP-526 based uninitialized variables
  - \#8480: autodoc: autoattribute could not create document for \_\_slots\_\_ attributes
  - \#8503: autodoc: autoattribute could not create document for a GenericAlias as class attributes correctly
  - \#8534: autodoc: autoattribute could not create document for a commented attribute in alias class
  - \#8452: autodoc: autodoc\_type\_aliases doesn't work when autodoc\_typehints is set to "description"
  - \#8541: autodoc: autodoc\_type\_aliases doesn't work for the type annotation to instance attributes
  - \#8460: autodoc: autodata and autoattribute directives do not display type information of TypeVars
  - \#8493: autodoc: references to builtins not working in class aliases
  - \#8522: autodoc: `__bool__` method could be called
  - \#8067: autodoc: A typehint for the instance variable having type\_comment on super class is not displayed
  - \#8545: autodoc: a \_\_slots\_\_ attribute is not documented even having docstring
  - \#741: autodoc: inherited-members doesn't work for instance attributes on super class
  - \#8477: autosummary: non utf-8 reST files are generated when template contains multibyte characters
  - \#8501: autosummary: summary extraction splits text after "el at." unexpectedly
  - \#8524: html: Wrong url\_root has been generated on a document named "index"
  - \#8419: html search: Do not load `language_data.js` in non-search pages
  - \#8549: i18n: `-D gettext_compact=0` is no longer working
  - \#8454: graphviz: The layout option for graph and digraph directives don't work
  - \#8131: linkcheck: Use GET when HEAD requests cause Too Many Redirects, to accommodate infinite redirect loops on HEAD
  - \#8437: Makefile: `make clean` with empty BUILDDIR is dangerous
  - \#8365: py domain: `:type:` and `:rtype:` gives false ambiguous class lookup warnings
  - \#8352: std domain: Failed to parse an option that starts with bracket
  - \#8519: LaTeX: Prevent page brake in the middle of a seealso
  - \#8520: C, fix copying of AliasNode.

---

3.5.md

---

# Sphinx 3.5

## Release 3.5.4 (released Apr 11, 2021)

### Dependencies

  - \#9071: Restrict Docutils to 0.16

### Bugs fixed

  - \#9078: autodoc: Async staticmethods and classmethods are considered as non async coroutine-functions with Python3.10
  - \#8870, \#9001, \#9051: html theme: The style are not applied with Docutils 0.17
      - toctree captions
      - The content of `sidebar` directive
      - figures

## Release 3.5.3 (released Mar 20, 2021)

### Features added

  - \#8959: using UNIX path separator in image directive confuses Sphinx on Windows

## Release 3.5.2 (released Mar 06, 2021)

### Bugs fixed

  - \#8943: i18n: Crashed by broken translation messages in ES, EL and HR
  - \#8936: LaTeX: A custom LaTeX builder fails with unknown node error
  - \#8952: Exceptions raised in a Directive cause parallel builds to hang

## Release 3.5.1 (released Feb 16, 2021)

### Bugs fixed

  - \#8883: autodoc: AttributeError is raised on assigning \_\_annotations\_\_ on read-only class
  - \#8884: html: minified js stemmers not included in the distributed package
  - \#8885: html: AttributeError is raised if CSS/JS files are installed via `html_context`
  - \#8880: viewcode: ExtensionError is raised on incremental build after unparsable python module found

## Release 3.5.0 (released Feb 14, 2021)

### Dependencies

  - LaTeX: `multicol` (it is anyhow a required part of the official latex2e base distribution)

### Incompatible changes

  - Update Underscore.js to 1.12.0
  - \#6550: html: The config variable `html_add_permalinks` is replaced by `html_permalinks` and `html_permalinks_icon`

### Deprecated

  - pending\_xref node for viewcode extension
  - `sphinx.builders.linkcheck.CheckExternalLinksBuilder.anchors_ignore`
  - `sphinx.builders.linkcheck.CheckExternalLinksBuilder.auth`
  - `sphinx.builders.linkcheck.CheckExternalLinksBuilder.broken`
  - `sphinx.builders.linkcheck.CheckExternalLinksBuilder.good`
  - `sphinx.builders.linkcheck.CheckExternalLinksBuilder.redirected`
  - `sphinx.builders.linkcheck.CheckExternalLinksBuilder.rqueue`
  - `sphinx.builders.linkcheck.CheckExternalLinksBuilder.to_ignore`
  - `sphinx.builders.linkcheck.CheckExternalLinksBuilder.workers`
  - `sphinx.builders.linkcheck.CheckExternalLinksBuilder.wqueue`
  - `sphinx.builders.linkcheck.node_line_or_0()`
  - `sphinx.ext.autodoc.AttributeDocumenter.isinstanceattribute()`
  - `sphinx.ext.autodoc.directive.DocumenterBridge.reporter`
  - `sphinx.ext.autodoc.importer.get_module_members()`
  - `sphinx.ext.autosummary.generate._simple_info()`
  - `sphinx.ext.autosummary.generate._simple_warn()`
  - `sphinx.writers.html.HTMLTranslator.permalink_text`
  - `sphinx.writers.html5.HTML5Translator.permalink_text`

### Features added

  - \#8022: autodoc: autodata and autoattribute directives does not show right-hand value of the variable if docstring contains `:meta hide-value:` in info-field-list
  - \#8514: autodoc: Default values of overloaded functions are taken from actual implementation if they're ellipsis
  - \#8775: autodoc: Support type union operator (PEP-604) in Python 3.10 or above
  - \#8297: autodoc: Allow to extend `autodoc_default_options` via directive options
  - \#759: autodoc: Add a new configuration `autodoc_preserve_defaults` as an experimental feature. It preserves the default argument values of functions in source code and keep them not evaluated for readability.
  - \#8619: html: kbd role generates customizable HTML tags for compound keys
  - \#8634: html: Allow to change the order of JS/CSS via `priority` parameter for <span class="title-ref">.Sphinx.add\_js\_file</span> and <span class="title-ref">.Sphinx.add\_css\_file</span>
  - \#6241: html: Allow to add JS/CSS files to the specific page when an extension calls `app.add_js_file()` or `app.add_css_file()` on `html-page-context` event
  - \#6550: html: Allow to use HTML permalink texts via `html_permalinks_icon`
  - \#1638: html: Add permalink icons to glossary terms
  - \#8868: html search: performance issue with massive lists
  - \#8867: html search: Update JavaScript stemmer code to the latest version of Snowball (v2.1.0)
  - \#8852: i18n: Allow to translate heading syntax in MyST-Parser
  - \#8649: imgconverter: Skip availability check if builder supports the image type
  - \#8573: napoleon: Allow to change the style of custom sections using `napoleon_custom_sections`
  - \#8004: napoleon: Type definitions in Google style docstrings are rendered as references when `napoleon_preprocess_types` enabled
  - \#6241: mathjax: Include mathjax.js only on the document using equations
  - \#8775: py domain: Support type union operator (PEP-604)
  - \#8651: std domain: cross-reference for a rubric having inline item is broken
  - \#7642: std domain: Optimize case-insensitive match of term
  - \#8681: viewcode: Support incremental build
  - \#8132: Add `project_copyright` as an alias of `copyright`
  - \#207: Now `highlight_language` supports multiple languages
  - \#2030: :rst`code-block` and :rst`literalinclude` supports automatic dedent via no-argument `:dedent:` option
  - C++, also hyperlink operator overloads in expressions and alias declarations.
  - \#8247: Allow production lists to refer to tokens from other production groups
  - \#8813: Show what extension (or module) caused it on errors on event handler
  - \#8213: C++: add `maxdepth` option to :rst`cpp:alias` to insert nested declarations.
  - C, add `noroot` option to :rst`c:alias` to render only nested declarations.
  - C++, add `noroot` option to :rst`cpp:alias` to render only nested declarations.

### Bugs fixed

  - \#8727: apidoc: namespace module file is not generated if no submodules there
  - \#741: autodoc: inherited-members doesn't work for instance attributes on super class
  - \#8592: autodoc: `:meta public:` does not effect to variables
  - \#8594: autodoc: empty `__all__` attribute is ignored
  - \#8315: autodoc: Failed to resolve struct.Struct type annotation
  - \#8652: autodoc: All variable comments in the module are ignored if the module contains invalid type comments
  - \#8693: autodoc: Default values for overloaded functions are rendered as string
  - \#8134: autodoc: crashes when mocked decorator takes arguments
  - \#8800: autodoc: Uninitialized attributes in superclass are recognized as undocumented
  - \#8655: autodoc: Failed to generate document if target module contains an object that raises an exception on `hasattr()`
  - \#8306: autosummary: mocked modules are documented as empty page when using :recursive: option
  - \#8232: graphviz: Image node is not rendered if graph file is in subdirectory
  - \#8618: html: kbd role produces incorrect HTML when compound-key separators (-,
      - or ^) are used as keystrokes
  - \#8629: html: A type warning for html\_use\_opensearch is shown twice
  - \#8714: html: kbd role with "Caps Lock" rendered incorrectly
  - \#8123: html search: fix searching for terms containing + (Requires a custom search language that does not split on +)
  - \#8665: html theme: Could not override globaltoc\_maxdepth in theme.conf
  - \#8446: html: consecutive spaces are displayed as single space
  - \#8745: i18n: crashes with KeyError when translation message adds a new auto footnote reference
  - \#4304: linkcheck: Fix race condition that could lead to checking the availability of the same URL twice
  - \#8791: linkcheck: The docname for each hyperlink is not displayed
  - \#7118: sphinx-quickstart: questionnaire got Mojibake if libreadline unavailable
  - \#8094: texinfo: image files on the different directory with document are not copied
  - \#8782: todo: Cross references in todolist get broken
  - \#8720: viewcode: module pages are generated for epub on incremental build
  - \#8704: viewcode: anchors are generated in incremental build after singlehtml
  - \#8756: viewcode: highlighted code is generated even if not referenced
  - \#8671: `highlight_options` is not working
  - \#8341: C, fix intersphinx lookup types for names in declarations.
  - C, C++: in general fix intersphinx and role lookup types.
  - \#8683: `html_last_updated_fmt` does not support UTC offset (%z)
  - \#8683: `html_last_updated_fmt` generates wrong time zone for %Z
  - \#1112: `download` role creates duplicated copies when relative path is specified
  - \#2616 (fifth item): LaTeX: footnotes from captions are not clickable, and for manually numbered footnotes only first one with same number is an hyperlink
  - \#7576: LaTeX with French babel and memoir crash: "Illegal parameter number in definition of `\FNH@prefntext`"
  - \#8055: LaTeX (docs): A potential display bug with the LaTeX generation step in Sphinx (how to generate one-column index)
  - \#8072: LaTeX: Directive :rst`hlist` not implemented in LaTeX
  - \#8214: LaTeX: The :rst`index` role and the glossary generate duplicate entries in the LaTeX index (if both used for same term)
  - \#8735: LaTeX: wrong internal links in pdf to captioned code-blocks when `numfig` is not `True`
  - \#8442: LaTeX: some indexed terms are ignored when using xelatex engine (or pdflatex and `latex_use_xindy` set to `True`) with memoir class
  - \#8750: LaTeX: URLs as footnotes fail to show in PDF if originating from inside function type signatures
  - \#8780: LaTeX: long words in narrow columns may not be hyphenated
  - \#8788: LaTeX: `\titleformat` last argument in sphinx.sty should be bracketed, not braced (and is anyhow not needed)
  - \#8849: LaTex: code-block printed out of margin (see the opt-in LaTeX syntax boolean \[verbatimforcewraps \<latexsphinxsetupforcewraps\>\](\#verbatimforcewraps-\<latexsphinxsetupforcewraps\>) for use via the \['sphinxsetup' \<latexsphinxsetup\>\](\#'sphinxsetup'-\<latexsphinxsetup\>) key of `latex_elements`)
  - \#8183: LaTeX: Remove substitution\_reference nodes from doctree only on LaTeX builds
  - \#8865: LaTeX: Restructure the index nodes inside title nodes only on LaTeX builds
  - \#8796: LaTeX: potentially critical low level TeX coding mistake has gone unnoticed so far
  - C, :rst`c:alias` skip symbols without explicit declarations instead of crashing.
  - C, :rst`c:alias` give a warning when the root symbol is not declared.
  - C, `expr` role should start symbol lookup in the current scope.

---

4.0.md

---

# Sphinx 4.0

## Release 4.0.3 (released Jul 05, 2021)

### Features added

  - C, add C23 keywords `_Decimal32`, `_Decimal64`, and `_Decimal128`.
  - \#9354: C, add `c_extra_keywords` to allow user-defined keywords during parsing.
  - Revert the removal of `sphinx.util:force_decode()` to become some 3rd party extensions available again during 5.0

### Bugs fixed

  - \#9330: changeset domain: :rst`versionchanged` with contents being a list will cause error during pdf build
  - \#9313: LaTeX: complex table with merged cells broken since 4.0
  - \#9305: LaTeX: backslash may cause Improper discretionary list pdf build error with Japanese engines
  - \#9354: C, remove special macro names from the keyword list. See also `c_extra_keywords`.
  - \#9322: KeyError is raised on PropagateDescDomain transform

## Release 4.0.2 (released May 20, 2021)

### Dependencies

  - \#9216: Support jinja2-3.0

### Incompatible changes

  - \#9222: Update Underscore.js to 1.13.1
  - \#9217: manpage: Stop creating a section directory on build manpage by default (see `man_make_section_directory`)

### Bugs fixed

  - \#9210: viewcode: crashed if non importable modules found on parallel build
  - \#9240: Unknown node error for pending\_xref\_condition is raised if an extension that does not support the node installs a missing-reference handler

## Release 4.0.1 (released May 11, 2021)

### Bugs fixed

  - \#9189: autodoc: crashed when ValueError is raised on generating signature from a property of the class
  - \#9188: autosummary: warning is emitted if list value is set to autosummary\_generate
  - \#8380: html search: tags for search result are broken
  - \#9198: i18n: Babel emits errors when running compile\_catalog
  - \#9205: py domain: The :canonical: option causes "more than one target for cross-reference" warning
  - \#9201: websupport: UndefinedError is raised: 'css\_tag' is undefined

## Release 4.0.0 (released May 09, 2021)

### Dependencies

4.0.0b1

  - Drop python 3.5 support
  - Drop Docutils 0.12 and 0.13 support
  - LaTeX: add `tex-gyre` font dependency

4.0.0b2

  - Support Docutils 0.17. Please notice it changes the output of HTML builder. Some themes do not support it, and you need to update your custom CSS to upgrade it.

### Incompatible changes

4.0.0b1

  - \#8539: autodoc: info-field-list is generated into the class description when `autodoc_typehints``='description'` and `autoclass_content``='class'` set
  - \#8898: extlinks: "%s" becomes required keyword in the link caption string
  - domain: The `Index` class becomes subclasses of `abc.ABC` to indicate methods that must be overridden in the concrete classes
  - \#4826: py domain: The structure of python objects is changed. A boolean value is added to indicate that the python object is canonical one
  - \#7425: MathJax: The MathJax was changed from 2 to 3. Users using a custom MathJax configuration may have to set the old MathJax path or update their configuration for version 3. See `sphinx.ext.mathjax`.
  - \#7784: i18n: The msgid for alt text of image is changed
  - \#5560: napoleon: `napoleon_use_param` also affect "other parameters" section
  - \#7996: manpage: Make a section directory on build manpage by default (see `man_make_section_directory`)
  - \#7849: html: Change the default setting of `html_codeblock_linenos_style` to `'inline'`
  - \#8380: html search: search results are wrapped with `<p>` instead of `<div>`
  - html theme: Move a script tag for documentation\_options.js in basic/layout.html to `script_files` variable
  - html theme: Move CSS tags in basic/layout.html to `css_files` variable
  - \#8915: html theme: Emit a warning for `sphinx_rtd_theme` 0.2.4 or older
  - \#8508: LaTeX: uplatex becomes a default setting of latex\_engine for Japanese documents
  - \#5977: py domain: `:var:`, `:cvar:` and `:ivar:` fields do not create cross-references
  - \#4550: The `align` attribute of `figure` and `table` nodes becomes `None` by default instead of `'default'`
  - \#8769: LaTeX refactoring: split sphinx.sty into multiple files and rename some auxiliary files created in `latex` build output repertory
  - \#8937: Use explicit title instead of \<no title\>
  - \#8487: The :file: option for csv-table directive now recognizes an absolute path as a relative path from source directory

4.0.0b2

  - \#9023: Change the CSS classes on :rst`cpp:expr` and :rst`cpp:texpr`.

### Deprecated

  - `html_codeblock_linenos_style`
  - `favicon` and `logo` variable in HTML templates
  - `sphinx.directives.patches.CSVTable`
  - `sphinx.directives.patches.ListTable`
  - `sphinx.directives.patches.RSTTable`
  - `sphinx.ext.autodoc.directive.DocumenterBridge.filename_set`
  - `sphinx.ext.autodoc.directive.DocumenterBridge.warn()`
  - `sphinx.registry.SphinxComponentRegistry.get_source_input()`
  - `sphinx.registry.SphinxComponentRegistry.source_inputs`
  - `sphinx.transforms.FigureAligner`
  - `sphinx.util.pycompat.convert_with_2to3()`
  - `sphinx.util.pycompat.execfile_()`
  - `sphinx.util.smartypants`
  - `sphinx.util.typing.DirectiveOption`

### Features added

4.0.0b1

  - \#8924: autodoc: Support `bound` argument for TypeVar
  - \#7383: autodoc: Support typehints for properties
  - \#5603: autodoc: Allow to refer to a python class using its canonical name when the class has two different names; a canonical name and an alias name
  - \#8539: autodoc: Add `autodoc_typehints_description_target` to control the behavior of `autodoc_typehints=description`
  - \#8841: autodoc: `autodoc_docstring_signature` will continue to look for multiple signature lines without backslash character
  - \#7549: autosummary: Enable `autosummary_generate` by default
  - \#8898: extlinks: Allow %s in link caption string
  - \#4826: py domain: Add `:canonical:` option to python directives to describe the location where the object is defined
  - \#7199: py domain: Add `python_use_unqualified_type_names` to suppress the module name of the python reference if it can be resolved (experimental)
  - \#7068: py domain: Add :rst`py:property` directive to describe a property
  - \#7784: i18n: The alt text for image is translated by default (without `gettext_additional_targets` setting)
  - \#2018: html: `html_favicon` and `html_logo` now accept URL for the image
  - \#8070: html search: Support searching for 2characters word
  - \#9036: html theme: Allow to inherite the search page
  - \#8938: imgconverter: Show the error of the command availability check
  - \#7830: Add debug logs for change detection of sources and templates
  - \#8201: Emit a warning if toctree contains duplicated entries
  - \#8326: `master_doc` is now renamed to `root_doc`
  - \#8942: C++, add support for the C++20 spaceship operator, `<=>`.
  - \#7199: A new node, `sphinx.addnodes.pending_xref_condition` has been added. It can be used to choose appropriate content of the reference by conditions.

4.0.0b2

  - \#8818: autodoc: Super class having `Any` arguments causes nitpicky warning
  - \#9095: autodoc: TypeError is raised on processing broken metaclass
  - \#9110: autodoc: metadata of GenericAlias is not rendered as a reference in py37+
  - \#9098: html: copy-range protection for doctests doesn't work in Safari
  - \#9103: LaTeX: imgconverter: conversion runs even if not needed
  - \#8127: py domain: Ellipsis in info-field-list causes nitpicky warning
  - \#9121: py domain: duplicated warning is emitted when both canonical and its alias objects are defined on the document
  - \#9023: More CSS classes on domain descriptions, see \[nodes\](\#nodes) for details.
  - \#8195: mathjax: Rename `mathjax_config` to `mathjax2_config` and add `mathjax3_config`

### Bugs fixed

4.0.0b1

  - \#8917: autodoc: Raises a warning if function has wrong \_\_globals\_\_ value
  - \#8415: autodoc: a TypeVar imported from other module is not resolved (in Python 3.7 or above)
  - \#8992: autodoc: Failed to resolve types.TracebackType type annotation
  - \#8905: html: `html_add_permalinks=None` and `html_add_permalinks=""` are ignored
  - \#8380: html search: Paragraphs in search results are not identified as `<p>`
  - \#8915: html theme: The translation of `sphinx_rtd_theme` does not work
  - \#8342: Emit a warning if a unknown domain is given for directive or role (ex. `:unknown:doc:`)
  - \#7241: LaTeX: No wrapping for `cpp:enumerator`
  - \#8711: LaTeX: backticks in code-blocks trigger latexpdf build warning (and font change) with late TeXLive 2019
  - \#8253: LaTeX: Figures with no size defined get overscaled (compared to images with size explicitly set in pixels) (fixed for `'pdflatex'/'lualatex'` only)
  - \#8881: LaTeX: The depth of bookmarks panel in PDF is not enough for navigation
  - \#8874: LaTeX: the fix to two minor Pygments LaTeXFormatter output issues ignore Pygments style
  - \#8925: LaTeX: 3.5.0 `verbatimmaxunderfull` setting does not work as expected
  - \#8980: LaTeX: missing line break in `\pysigline`
  - \#8995: LaTeX: legacy `\pysiglinewithargsret` does not compute correctly available horizontal space and should use a ragged right style
  - \#9009: LaTeX: "release" value with underscore leads to invalid LaTeX
  - \#8911: C++: remove the longest matching prefix in `cpp_index_common_prefix` instead of the first that matches.
  - C, properly reject function declarations when a keyword is used as parameter name.
  - \#8933: viewcode: Failed to create back-links on parallel build
  - \#8960: C and C++, fix rendering of (member) function pointer types in function parameter lists.
  - C++, fix linking of names in array declarators, pointer to member (function) declarators, and in the argument to `sizeof...`.
  - C, fix linking of names in array declarators.

4.0.0b2

  - C, C++, fix `KeyError` when an `alias` directive is the first C/C++ directive in a file with another C/C++ directive later.

4.0.0b3

  - \#9167: html: Failed to add CSS files to the specific page

---

4.1.md

---

# Sphinx 4.1

## Release 4.1.2 (released Jul 27, 2021)

### Incompatible changes

  - \#9435: linkcheck: Disable checking automatically generated anchors on github.com (ex. anchors in reST/Markdown documents)

### Bugs fixed

  - \#9489: autodoc: Custom types using `typing.NewType` are not displayed well with the HEAD of 3.10
  - \#9490: autodoc: Some objects under `typing` module are not displayed well with the HEAD of 3.10
  - \#9436, \#9471: autodoc: crashed if `autodoc_class_signature = "separated"`
  - \#9456: html search: html\_copy\_source can't control the search summaries
  - \#9500: LaTeX: Failed to build Japanese document on Windows
  - \#9435: linkcheck: Failed to check anchors in github.com

## Release 4.1.1 (released Jul 15, 2021)

### Dependencies

  - \#9434: sphinxcontrib-htmlhelp-2.0.0 or above
  - \#9434: sphinxcontrib-serializinghtml-1.1.5 or above

### Bugs fixed

  - \#9438: html: HTML logo or Favicon specified as file not being found on output

## Release 4.1.0 (released Jul 12, 2021)

### Dependencies

  - Support jinja2-3.0

### Deprecated

  - The `app` argument of `sphinx.environment.BuildEnvironment` becomes required
  - `sphinx.application.Sphinx.html_theme`
  - `sphinx.ext.autosummary._app`
  - `sphinx.util.docstrings.extract_metadata()`

### Features added

  - \#8107: autodoc: Add `class-doc-from` option to :rst`autoclass` directive to control the content of the specific class like `autoclass_content`
  - \#8588: autodoc: `autodoc_type_aliases` now supports dotted name. It allows you to define an alias for a class with module name like `foo.bar.BazClass`
  - \#9175: autodoc: Special member is not documented in the module
  - \#9195: autodoc: The arguments of `typing.Literal` are wrongly rendered
  - \#9185: autodoc: `autodoc_typehints` allows `'both'` setting to allow typehints to be included both in the signature and description
  - \#4257: autodoc: Add `autodoc_class_signature` to separate the class entry and the definition of `__init__()` method
  - \#8061, \#9218: autodoc: Support variable comment for alias classes
  - \#3014: autodoc: Add `autodoc-process-bases` to modify the base classes of the class definitions
  - \#9272: autodoc: Render enum values for the default argument value better
  - \#9384: autodoc: `autodoc_typehints='none'` now erases typehints for variables, attributes and properties
  - \#3257: autosummary: Support instance attributes for classes
  - \#9358: html: Add "heading" role to the toctree items
  - \#9225: html: Add span tag to the return typehint of method/function
  - \#9129: html search: Show search summaries when `html_copy_source = False`
  - \#9307: html search: Prevent corrections and completions in search field
  - \#9120: html theme: Eliminate prompt characters of code-block from copyable text
  - \#9176: i18n: Emit a debug message if message catalog file not found under `locale_dirs`
  - \#9414: LaTeX: Add xeCJKVerbAddon to default fvset config for Chinese documents
  - \#9016: linkcheck: Support checking anchors on github.com
  - \#9016: linkcheck: Add a new event `linkcheck-process-uri` to modify URIs before checking hyperlinks
  - \#6525: linkcheck: Add `linkcheck_allowed_redirects` to mark hyperlinks that are redirected to expected URLs as "working"
  - \#1874: py domain: Support union types using `|` in info-field-list
  - \#9268: py domain: `python_use_unqualified_type_names` supports type field in info-field-list
  - \#9097: Optimize the parallel build
  - \#9131: Add `nitpick_ignore_regex` to ignore nitpicky warnings using regular expressions
  - \#9174: Add `Sphinx.set_html_assets_policy` to tell extensions to include HTML assets in all the pages. Extensions can check this via `Sphinx.registry.html_assets_policy`
  - C++, add support for
      - `inline` variables,
      - `consteval` functions,
      - `constinit` variables,
      - `char8_t`,
      - `explicit(<constant expression>)` specifier,
      - digit separators in literals, and
      - constraints in placeholder type specifiers, aka. adjective syntax (e.g., `Sortable auto &v`).
  - C, add support for digit separators in literals.
  - \#9166: LaTeX: support containers in LaTeX output

### Bugs fixed

  - \#8872: autodoc: stacked singledispatches are wrongly rendered
  - \#8597: autodoc: a docsting having metadata only should be treated as undocumented
  - \#9185: autodoc: typehints for overloaded functions and methods are inaccurate
  - \#9250: autodoc: The inherited method not having docstring is wrongly parsed
  - \#9283: autodoc: autoattribute directive failed to generate document for an attribute not having any comment
  - \#9364: autodoc: single element tuple on the default argument value is wrongly rendered
  - \#9362: autodoc: AttributeError is raised on processing a subclass of Tuple\[()\]
  - \#9404: autodoc: TypeError is raised on processing dict-like object (not a class) via autoclass directive
  - \#9317: html: Pushing left key causes visiting the next page at the first page
  - \#9381: html: URL for html\_favicon and html\_log does not work
  - \#9270: html theme : pyramid theme generates incorrect logo links
  - \#9217: manpage: The name of manpage directory that is generated by `man_make_section_directory` is not correct
  - \#9350: manpage: Fix font isn't reset after keyword at the top of samp role
  - \#9306: Linkcheck reports broken link when remote server closes the connection on HEAD request
  - \#9280: py domain: "exceptions" module is not displayed
  - \#9418: py domain: a Callable annotation with no parameters (e.g. `Callable[[], None])` will be rendered with a bracket missing (`Callable[], None]`)
  - \#9319: quickstart: Make sphinx-quickstart exit when conf.py already exists
  - \#9387: xml: XML Builder ignores custom visitors
  - \#9224: `:param:` and `:type:` fields does not support a type containing whitespace (ex. `Dict[str, str]`)
  - \#8945: when transforming typed fields, call the specified role instead of making an single xref. For C and C++, use the `expr` role for typed fields.

---

4.2.md

---

# Sphinx 4.2

## Release 4.2.0 (released Sep 12, 2021)

### Features added

  - \#9445: autodoc: Support class properties
  - \#9479: autodoc: Emit a warning if target is a mocked object
  - \#9560: autodoc: Allow to refer NewType instances with module name in Python 3.10 or above
  - \#9447: html theme: Expose the version of Sphinx in the form of tuple as a template variable `sphinx_version_tuple`
  - \#9594: manpage: Suppress the title of man page if description is empty
  - \#9445: py domain: :rst`py:property` directive supports `:classmethod:` option to describe the class property
  - \#9524: test: SphinxTestApp can take `builddir` as an argument
  - \#9535: C and C++, support more fundamental types, including GNU extensions.

### Bugs fixed

  - \#9608: apidoc: apidoc does not generate a module definition for implicit namespace package
  - \#9504: autodoc: generate incorrect reference to the parent class if the target class inherites the class having `_name` attribute
  - \#9537, \#9589: autodoc: Some objects under `typing` module are not displayed well with the HEAD of 3.10
  - \#9487: autodoc: typehint for cached\_property is not shown
  - \#9509: autodoc: AttributeError is raised on failed resolving typehints
  - \#9518: autodoc: autodoc\_docstring\_signature does not effect to `__init__()` and `__new__()`
  - \#9522: autodoc: PEP 585 style typehints having arguments (ex. `list[int]`) are not displayed well
  - \#9481: autosummary: some warnings contain non-existing filenames
  - \#9568: autosummary: summarise overlined sectioned headings correctly
  - \#9600: autosummary: Type annotations which contain commas in autosummary table are not removed completely
  - \#9481: c domain: some warnings contain non-existing filenames
  - \#9481: cpp domain: some warnings contain non-existing filenames
  - \#9456: html search: abbreation marks are inserted to the search result if failed to fetch the content of the page
  - \#9617: html search: The JS requirement warning is shown if browser is slow
  - \#9267: html theme: CSS and JS files added by theme were loaded twice
  - \#9585: py domain: `:type:` option for :rst`py:property` directive does not create a hyperlink
  - \#9576: py domain: Literal typehint was converted to a cross reference
  - \#9535 comment: C++, fix parsing of defaulted function parameters that are function pointers.
  - \#9564: smartquotes: don't adjust typography for text with language-highlighted `:code:` role.
  - \#9512: sphinx-build: crashed with the HEAD of Python 3.10

---

4.3.md

---

# Sphinx 4.3

## Release 4.3.2 (released Dec 19, 2021)

### Bugs fixed

  - \#9917: C and C++, parse fundamental types no matter the order of simple type specifiers.

## Release 4.3.1 (released Nov 28, 2021)

### Features added

  - \#9864: mathjax: Support changing the loading method of MathJax to "defer" via `mathjax_options`

### Bugs fixed

  - \#9838: autodoc: AttributeError is raised on building document for functions decorated by functools.lru\_cache
  - \#9879: autodoc: AttributeError is raised on building document for an object having invalid \_\_doc\_\_ attribute
  - \#9844: autodoc: Failed to process a function wrapped with functools.partial if `autodoc_preserve_defaults` enabled
  - \#9872: html: Class namespace collision between autodoc signatures and Docutils 0.17
  - \#9868: imgmath: Crashed if the dvisvgm command failed to convert equation
  - \#9864: mathjax: Failed to render equations via MathJax v2. The loading method of MathJax is back to "async" method again

## Release 4.3.0 (released Nov 11, 2021)

### Dependencies

  - Support Python 3.10

### Incompatible changes

  - \#9649: `searchindex.js`: the embedded data has changed format to allow objects with the same name in different domains.
  - \#9672: The rendering of Python domain declarations is implemented with more Docutils nodes to allow better CSS styling. It may break existing styling.
  - \#9672: the signature of `domains.python.PyObject.get_signature_prefix` has changed to return a list of nodes instead of a plain string.
  - \#9695: `domains.js.JSObject.display_prefix` has been changed into a method `get_display_prefix` which now returns a list of nodes instead of a plain string.
  - \#9695: The rendering of Javascript domain declarations is implemented with more Docutils nodes to allow better CSS styling. It may break existing styling.
  - \#9450: mathjax: Load MathJax via "defer" strategy

### Deprecated

  - `sphinx.ext.autodoc.AttributeDocumenter._datadescriptor`
  - `sphinx.writers.html.HTMLTranslator._fieldlist_row_index`
  - `sphinx.writers.html.HTMLTranslator._table_row_index`
  - `sphinx.writers.html5.HTML5Translator._fieldlist_row_index`
  - `sphinx.writers.html5.HTML5Translator._table_row_index`

### Features added

  - \#9639: autodoc: Support asynchronous generator functions
  - \#9664: autodoc: `autodoc-process-bases` supports to inject reST snippet as a base class
  - \#9691: C, added new info-field `retval` for :rst`c:function` and :rst`c:macro`.
  - C++, added new info-field `retval` for :rst`cpp:function`.
  - \#9618: i18n: Add `gettext_allow_fuzzy_translations` to allow "fuzzy" messages for translation
  - \#9672: More CSS classes on Python domain descriptions
  - \#9695: More CSS classes on Javascript domain descriptions
  - \#9683: Revert the removal of `add_stylesheet()` API. It will be kept until the Sphinx 6.0 release
  - \#2068, add `intersphinx_disabled_reftypes` for disabling interphinx resolution of cross-references that do not have an explicit inventory specification. Specific types of cross-references can be disabled, e.g., `std:doc` or all cross-references in a specific domain, e.g., `std:*`.
  - \#9623: Allow to suppress "toctree contains reference to excluded document" warnings using `suppress_warnings`

### Bugs fixed

  - \#9630: autodoc: Failed to build cross references if `primary_domain` is not 'py'
  - \#9644: autodoc: Crashed on getting source info from problematic object
  - \#9655: autodoc: mocked object having doc comment is warned unexpectedly
  - \#9651: autodoc: return type field is not generated even if `autodoc_typehints_description_target` is set to "documented" when its info-field-list contains `:returns:` field
  - \#9657: autodoc: The base class for a subclass of mocked object is incorrect
  - \#9607: autodoc: Incorrect base class detection for the subclasses of the generic class
  - \#9755: autodoc: memory addresses are shown for aliases
  - \#9752: autodoc: Failed to detect type annotation for slots attribute
  - \#9756: autodoc: Crashed if classmethod does not have \_\_func\_\_ attribute
  - \#9757: autodoc: `autodoc_inherit_docstrings` does not effect to overridden classmethods
  - \#9781: autodoc: `autodoc_preserve_defaults` does not support hexadecimal numeric
  - \#9630: autosummary: Failed to build summary table if `primary_domain` is not 'py'
  - \#9670: html: Fix download file with special characters
  - \#9710: html: Wrong styles for even/odd rows in nested tables
  - \#9763: html: parameter name and its type annotation are not separated in HTML
  - \#9649: HTML search: when objects have the same name but in different domains, return all of them as result instead of just one.
  - \#7634: intersphinx: references on the file in sub directory are broken
  - \#9737: LaTeX: hlist is rendered as a list containing "aggedright" text
  - \#9678: linkcheck: file extension was shown twice in warnings
  - \#9697: py domain: An index entry with parens was registered for `py:method` directive with `:property:` option
  - \#9775: py domain: Literal typehint was converted to a cross reference when `autodoc_typehints``='description'`
  - \#9708: needs\_extension failed to check double-digit version correctly
  - \#9688: Fix Sphinx patched `code` does not recognize `:class:` option
  - \#9733: Fix for logging handler flushing warnings in the middle of the docs build
  - \#9656: Fix warnings without subtype being incorrectly suppressed
  - Intersphinx, for unresolved references with an explicit inventory, e.g., `proj:myFunc`, leave the inventory prefix in the unresolved text.

---

4.4.md

---

# Sphinx 4.4

## Release 4.4.0 (released Jan 17, 2022)

### Dependencies

  - \#10007: Use `importlib_metadata` for python-3.9 or older
  - \#10007: Drop `setuptools`

### Features added

  - \#9075: autodoc: Add a config variable `autodoc_typehints_format` to suppress the leading module names of typehints of function signatures (ex. `io.StringIO` -\> `StringIO`)
  - \#9831: Autosummary now documents only the members specified in a module's `__all__` attribute if `autosummary_ignore_module_all` is set to `False`. The default behaviour is unchanged. Autogen also now supports this behavior with the `--respect-module-all` switch.
  - \#9555: autosummary: Improve error messages on failure to load target object
  - \#9800: extlinks: Emit warning if a hardcoded link is replaceable by an extlink, suggesting a replacement.
  - \#9961: html: Support nested \<kbd\> HTML elements in other HTML builders
  - \#10013: html: Allow to change the loading method of JS via `loading_method` parameter for <span class="title-ref">.Sphinx.add\_js\_file</span>
  - \#9551: html search: "Hide Search Matches" link removes "highlight" parameter from URL
  - \#9815: html theme: Wrap sidebar components in div to allow customizing their layout via CSS
  - \#9827: i18n: Sort items in glossary by translated terms
  - \#9899: py domain: Allows to specify cross-reference specifier (`.` and `~`) as `:type:` option
  - \#9894: linkcheck: add option `linkcheck_exclude_documents` to disable link checking in matched documents.
  - \#9793: sphinx-build: Allow to use the parallel build feature in macOS on macOS and Python3.8+
  - \#10055: sphinx-build: Create directories when `-w` option given
  - \#9993: std domain: Allow to refer an inline target (ex. ``_`target name``<span class="title-ref">) via :rst:role:\`ref</span> role
  - \#9981: std domain: Strip value part of the option directive from general index
  - \#9391: texinfo: improve variable in `samp` role
  - \#9578: texinfo: Add `texinfo_cross_references` to disable cross references for readability with standalone readers
  - \#9822, \#9062: add new Intersphinx role :rst`external` for explicit lookup in the external projects, without resolving to the local project.

### Bugs fixed

  - \#9866: autodoc: doccomment for the imported class was ignored
  - \#9883: autodoc: doccomment for the alias to mocked object was ignored
  - \#9908: autodoc: debug message is shown on building document using NewTypes with Python 3.10
  - \#9968: autodoc: instance variables are not shown if \_\_init\_\_ method has position-only-arguments
  - \#9194: autodoc: types under the "typing" module are not hyperlinked
  - \#10009: autodoc: Crashes if target object raises an error on getting docstring
  - \#10058: autosummary: Imported members are not shown when `autodoc_class_signature = 'separated'`
  - \#9947: i18n: topic directive having a bullet list can't be translatable
  - \#9878: mathjax: MathJax configuration is placed after loading MathJax itself
  - \#9932: napoleon: empty "returns" section is generated even if no description
  - \#9857: Generated RFC links use outdated base url
  - \#9909: HTML, prevent line-wrapping in literal text.
  - \#10061: html theme: Configuration values added by themes are not be able to override from conf.py
  - \#10073: imgconverter: Unnecessary availability check is called for "data" URIs
  - \#9925: LaTeX: prohibit also with `'xelatex'` line splitting at dashes of inline and parsed literals
  - \#9944: LaTeX: extra vertical whitespace for some nested declarations
  - \#9940: LaTeX: Multi-function declaration in Python domain has cramped vertical spacing in latexpdf output
  - \#10015: py domain: types under the "typing" module are not hyperlinked defined at info-field-list
  - \#9390: texinfo: Do not emit labels inside footnotes
  - \#9413: xml: Invalid XML was generated when cross referencing python objects
  - \#9979: Error level messages were displayed as warning messages
  - \#10057: Failed to scan documents if the project is placed onto the root directory
  - \#9636: code-block: `:dedent:` without argument did strip newlines

---

4.5.md

---

# Sphinx 4.5

## Release 4.5.0 (released Mar 28, 2022)

### Incompatible changes

  - \#10112: extlinks: Disable hardcoded links detector by default
  - \#9993, \#10177: std domain: Disallow to refer an inline target via :rst`ref` role

### Deprecated

  - `sphinx.ext.napoleon.docstring.GoogleDocstring._qualify_name()`

### Features added

  - \#10260: Enable `FORCE_COLOR` and `NO_COLOR` for terminal colouring
  - \#10234: autosummary: Add "autosummary" CSS class to summary tables
  - \#10125: extlinks: Improve suggestion message for a reference having title
  - \#10112: extlinks: Add `extlinks_detect_hardcoded_links` to enable hardcoded links detector feature
  - \#9494, \#9456: html search: Add a config variable `html_show_search_summary` to enable/disable the search summaries
  - \#9337: HTML theme, add option `enable_search_shortcuts` that enables `/` as a Quick search shortcut and `Esc` shortcut that removes search highlighting.
  - \#10107: i18n: Allow to suppress translation warnings by adding `#noqa` comment to the tail of each translation message
  - \#10252: C++, support attributes on classes, unions, and enums.
  - \#10253: :rst`pep` role now generates URLs based on [peps.python.org](https://peps.python.org)

### Bugs fixed

  - \#9876: autodoc: Failed to document an imported class that is built from native binary module
  - \#10133: autodoc: Crashed when mocked module is used for type annotation
  - \#10146: autodoc: `autodoc_default_options` does not support `no-value` option
  - \#9971: autodoc: TypeError is raised when the target object is annotated by unhashable object
  - \#10205: extlinks: Failed to compile regexp on checking hardcoded links
  - \#10277: html search: Could not search short words (ex. "use")
  - \#9529: LaTeX: named auto numbered footnote (ex. `[#named]`) that is referred multiple times was rendered to a question mark
  - \#9924: LaTeX: multi-line :rst`cpp:function` directive has big vertical spacing in Latexpdf
  - \#10158: LaTeX: excessive whitespace since v4.4.0 for undocumented variables/structure members
  - \#10175: LaTeX: named footnote reference is linked to an incorrect footnote if the name is also used in the different document
  - \#10269: manpage: Failed to resolve the title of :rst`ref` cross references
  - \#10179: i18n: suppress "rST localization" warning
  - \#10118: imgconverter: Unnecessary availability check is called for remote URIs
  - \#10181: napoleon: attributes are displayed like class attributes for google style docstrings when `napoleon_use_ivar` is enabled
  - \#10122: sphinx-build: make.bat does not check the installation of sphinx-build command before showing help

---

5.0.md

---

# Sphinx 5.0

## Release 5.0.2 (released Jun 17, 2022)

### Features added

  - \#10523: HTML Theme: Expose the Docutils's version info tuple as a template variable, `docutils_version_info`. Patch by Adam Turner.

### Bugs fixed

  - \#10538: autodoc: Inherited class attribute having docstring is documented even if `autodoc_inherit_docstring` is disabled
  - \#10509: autosummary: autosummary fails with a shared library
  - \#10497: py domain: Failed to resolve strings in Literal. Patch by Adam Turner.
  - \#10523: HTML Theme: Fix double brackets on citation references in Docutils 0.18+. Patch by Adam Turner.
  - \#10534: Missing CSS for nav.contents in Docutils 0.18+. Patch by Adam Turner.

## Release 5.0.1 (released Jun 03, 2022)

### Bugs fixed

  - \#10498: gettext: TypeError is raised when sorting warning messages if a node has no line number. Patch by Adam Turner.
  - \#10493: HTML Theme: `topic` directive is rendered incorrectly with Docutils 0.18. Patch by Adam Turner.
  - \#10495: IndexError is raised for a :rst`kbd` role having a separator. Patch by Adam Turner.

## Release 5.0.0 (released May 30, 2022)

### Dependencies

5.0.0 b1

  - \#10164: Support [Docutils 0.18](https://docutils.sourceforge.io/RELEASE-NOTES.html#release-0-18-2021-10-26). Patch by Adam Turner.

### Incompatible changes

5.0.0 b1

  - \#10031: autosummary: `sphinx.ext.autosummary.import_by_name()` now raises `ImportExceptionGroup` instead of `ImportError` when it failed to import target object. Please handle the exception if your extension uses the function to import Python object. As a workaround, you can disable the behavior via `grouped_exception=False` keyword argument until v7.0.
  - \#9962: texinfo: Customizing styles of emphasized text via `@definfoenclose` command was not supported because the command was deprecated since texinfo 6.8
  - \#2068: `intersphinx_disabled_reftypes` has changed default value from an empty list to `['std:doc']` as avoid too surprising silent intersphinx resolutions. To migrate: either add an explicit inventory name to the references intersphinx should resolve, or explicitly set the value of this configuration variable to an empty list.
  - \#10197: html theme: Reduce `body_min_width` setting in basic theme to 360px
  - \#9999: LaTeX: separate terms from their definitions by a CR (refs: \#9985)
  - \#10062: Change the default language to `'en'` if any language is not set in `conf.py`

5.0.0 final

  - \#10474: `language` does not accept `None` as it value. The default value of `language` becomes to `'en'` now. Patch by Adam Turner and Takeshi KOMIYA.

### Deprecated

5.0.0 b1

  - \#10028: jQuery and underscore.js will no longer be automatically injected into themes from Sphinx 6.0. If you develop a theme or extension that uses the `jQuery`, `$`, or `$u` global objects, you need to update your JavaScript or use the mitigation below.
    
    To re-add jQuery and underscore.js, you will need to copy `jquery.js` and `underscore.js` from [the Sphinx repository]() to your `static` directory, and add the following to your `layout.html`:
    
      - \`\`\`html+jinja
        
          - {%- block scripts %}  
            \<script src="{{ pathto('\_static/jquery.js', resource=True) }}"\>\</script\> \<script src="{{ pathto('\_static/underscore.js', resource=True) }}"\>\</script\> {{ super() }}
        
        {%- endblock %}

Patch by Adam Turner. `` ` * setuptools integration.  The ``build\_sphinx`sub-command for setup.py is   marked as deprecated to follow the policy of setuptools team. * The`locale`argument of`sphinx.util.i18n:babel\_format\_date()`becomes   required * The`language`argument of`sphinx.util.i18n:format\_date()`becomes   required *`sphinx.builders.html.html5\_ready`*`sphinx.io.read\_doc()`*`sphinx.util.docutils.\_\_version\_info\_\_`*`sphinx.util.docutils.is\_html5\_writer\_available()`*`sphinx.writers.latex.LaTeXWriter.docclasses``Features added --------------  5.0.0 b1  * #9075: autodoc: The default value of :confval:`autodoc_typehints_format` is   changed to``'smart'`.  It will suppress the leading module names of   typehints (ex.`io.StringIO`->`StringIO`). * #8417: autodoc:`:inherited-members:``option now takes multiple classes.  It   allows to suppress inherited members of several classes on the module at once   by specifying the option to :rst:dir:`automodule` directive * #9792: autodoc: Add new option for``autodoc\_typehints\_description\_target``to   include undocumented return values but not undocumented parameters. * #10285: autodoc: singledispatch functions having typehints are not documented * autodoc: :confval:`autodoc_typehints_format` now also applies to attributes,   data, properties, and type variable bounds. * #10258: autosummary: Recognize a documented attribute of a module as   non-imported * #10028: Removed internal usages of JavaScript frameworks (jQuery and   underscore.js) and modernised``doctools.js`and`searchtools.js`to   EMCAScript 2018. Patch by Adam Turner. * #10302: C++, add support for conditional expressions (`?:``). * #5157, #10251: Inline code is able to be highlighted via :dudir:`role`   directive * #10337: Make sphinx-build faster by caching Publisher object during build.   Patch by Adam Turner.  Bugs fixed ----------  5.0.0 b1  * #10200: apidoc: Duplicated submodules are shown for modules having both .pyx   and .so files. Patch by Adam Turner and Takeshi KOMIYA. * #10279: autodoc: Default values for keyword only arguments in overloaded   functions are rendered as a string literal * #10280: autodoc: :confval:`autodoc_docstring_signature` unexpectedly generates   return value typehint for constructors if docstring has multiple signatures * #10266: autodoc: :confval:`autodoc_preserve_defaults` does not work for   mixture of keyword only arguments with/without defaults * #10310: autodoc: class methods are not documented when decorated with mocked   function * #10305: autodoc: Failed to extract optional forward-ref'ed typehints correctly   via :confval:`autodoc_type_aliases` * #10421: autodoc: :confval:`autodoc_preserve_defaults` doesn't work on class   methods * #10214: html: invalid language tag was generated if :confval:`language`   contains a country code (ex. zh_CN) * #9974: html: Updated jQuery version from 3.5.1 to 3.6.0 * #10236: html search: objects are duplicated in search result * #9962: texinfo: Deprecation message for``@definfoenclose`command on   building texinfo document * #10000: LaTeX: glossary terms with common definition are rendered with   too much vertical whitespace * #10188: LaTeX: alternating multiply referred footnotes produce a`?`in   pdf output * #10363: LaTeX: make`'howto'`title page rule use`linewidth`for   compatibility with usage of a`twocolumn`class option * #10318:`:prepend:``option of :rst:dir:`literalinclude` directive does not   work with``:dedent:`option  5.0.0 final  * #9575: autodoc: The annotation of return value should not be shown when`autodoc\_typehints="description"`* #9648: autodoc:`*args\`\` and \`\`kwargs\`\` entries are duplicated when \`\`autodoc\_typehints="description"\`\`* \#8180: autodoc: Docstring metadata ignored for attributes \* \#10443: epub: EPUB builder can't detect the mimetype of .webp file \* \#10104: gettext: Duplicated locations are shown if 3rd party extension does not provide correct information \* \#10456: py domain: `:meta:` fields are displayed if docstring contains two or more meta-field \* \#9096: sphinx-build: the value of progress bar for parallel build is wrong \* \#10110: sphinx-build: exit code is not changed when error is raised on builder-finished event

---

5.1.md

---

# Sphinx 5.1

## Release 5.1.1 (released Jul 26, 2022)

### Bugs fixed

  - \#10701: Fix ValueError in the new `deque` based `sphinx.ext.napoleon` iterator implementation.
  - \#10702: Restore compatibility with third-party builders.

## Release 5.1.0 (released Jul 24, 2022)

### Dependencies

  - \#10656: Support [Docutils 0.19](https://docutils.sourceforge.io/RELEASE-NOTES.html#release-0-19-2022-07-05). Patch by Adam Turner.

### Deprecated

  - \#10467: Deprecated `sphinx.util.stemmer` in favour of `snowballstemmer`. Patch by Adam Turner.
  - \#9856: Deprecated `sphinx.ext.napoleon.iterators`.

### Features added

  - \#10444: html theme: Allow specifying multiple CSS files through the `stylesheet` setting in `theme.conf` or by setting `html_style` to an iterable of strings.
  - \#10366: std domain: Add support for emphasising placeholders in :rst`option` directives through a new `option_emphasise_placeholders` configuration option.
  - \#10439: std domain: Use the repr of some variables when displaying warnings, making whitespace issues easier to identify.
  - \#10571: quickstart: Reduce content in the generated `conf.py` file. Patch by Pradyun Gedam.
  - \#10648: LaTeX: CSS-named-alike additional \['sphinxsetup' \<latexsphinxsetup\>\](\#'sphinxsetup'-\<latexsphinxsetup\>) keys allow to configure four separate border-widths, four paddings, four corner radii, a shadow (possibly inset), colours for border, background, shadow for each of the code-block, topic, attention, caution, danger, error and warning directives.
  - \#10655: LaTeX: Explain non-standard encoding in LatinRules.xdy
  - \#10599: HTML Theme: Wrap consecutive footnotes in an `<aside>` element when using Docutils 0.18 or later, to allow for easier styling. This matches the behaviour introduced in Docutils 0.19. Patch by Adam Turner.
  - \#10518: config: Add `include_patterns` as the opposite of `exclude_patterns`. Patch by Adam Turner.

### Bugs fixed

  - \#10594: HTML Theme: field term colons are doubled if using Docutils 0.18+
  - \#10596: Build failure if Docutils version is 0.18 (not 0.18.1) due to missing `Node.findall()`
  - \#10506: LaTeX: build error if highlighting inline code role in figure caption (refs: \#10251)
  - \#10634: Make -P (pdb) option work better with exceptions triggered from events
  - \#10550: py domain: Fix spurious whitespace in unparsing various operators (`+`, `-`, `~`, and `**`). Patch by Adam Turner (refs: \#10551).
  - \#10460: logging: Always show node source locations as absolute paths.
  - HTML Search: HTML tags are displayed as a part of object name
  - HTML Search: search snippets should not be folded
  - HTML Search: Minor errors are emitted on fetching search snippets
  - HTML Search: The markers for header links are shown in the search result
  - \#10520: HTML Theme: Fix use of sidebar classes in `agogo.css_t`.
  - \#6679: HTML Theme: Fix inclusion of hidden toctrees in the agogo theme.
  - \#10566: HTML Theme: Fix enable\_search\_shortcuts does not work
  - \#8686: LaTeX: Text can fall out of code-block at end of page and leave artifact on next page
  - \#10633: LaTeX: user injected `\color` commands in topic or admonition boxes may cause color leaks in PDF due to upstream [framed.sty](https://ctan.org/pkg/framed) bug
  - \#10638: LaTeX: framed coloured boxes in highlighted code (e.g. highlighted diffs using Pygments style `'manni'`) inherit thickness of code-block frame
  - \#10647: LaTeX: Only one `\label` is generated for `desc_signature` node even if it has multiple node IDs
  - \#10579: i18n: UnboundLocalError is raised on translating raw directive
  - \#9577, \#10088: py domain: Fix warning for duplicate Python references when using `:any:` and autodoc.
  - \#10548: HTML Search: fix minor summary issues.

---

5.2.md

---

# Sphinx 5.2

## Release 5.2.3 (released Sep 30, 2022)

  - \#10878: Fix base64 image embedding in `sphinx.ext.imgmath`
  - \#10886: Add `:nocontentsentry:` flag and global domain table of contents entry control option. Patch by Adam Turner

## Release 5.2.2 (released Sep 27, 2022)

  - \#10872: Restore link targets for autodoc modules to the top of content. Patch by Dominic Davis-Foster.

## Release 5.2.1 (released Sep 25, 2022)

### Bugs fixed

  - \#10861: Always normalise the `pycon3` lexer to `pycon`.
  - Fix using `sphinx.ext.autosummary` with modules containing titles in the module-level docstring.

## Release 5.2.0.post0 (released Sep 24, 2022)

  - Recreated source tarballs for Debian maintainers.

## Release 5.2.0 (released Sep 24, 2022)

### Dependencies

  - \#10356: Sphinx now uses declarative metadata with `pyproject.toml` to create packages, using PyPA's `flit` project as a build backend. Patch by Adam Turner.

### Deprecated

  - \#10843: Support for HTML 4 output. Patch by Adam Turner.

### Features added

  - \#10738: napoleon: Add support for docstring types using 'of', like `type of type`. Example: `tuple of int`.
  - \#10286: C++, support requires clauses not just between the template parameter lists and the declaration.
  - \#10755: linkcheck: Check the source URL of raw directives that use the `url` option.
  - \#10781: Allow :rst`ref` role to be used with definitions and fields.
  - \#10717: HTML Search: Increase priority for full title and subtitle matches in search results
  - \#10718: HTML Search: Save search result score to the HTML element for debugging
  - \#10673: Make toctree accept 'genindex', 'modindex' and 'search' docnames
  - \#6316, \#10804: Add domain objects to the table of contents. Patch by Adam Turner
  - \#6692: HTML Search: Include explicit :rst`index` directive index entries in the search index and search results. Patch by Adam Turner
  - \#10816: imgmath: Allow embedding images in HTML as base64
  - \#10854: HTML Search: Use browser localstorage for highlight control, stop storing highlight parameters in URL query strings. Patch by Adam Turner.

### Bugs fixed

  - \#10723: LaTeX: 5.1.0 has made the 'sphinxsetup' `verbatimwithframe=false` become without effect.
  - \#10257: C++, ensure consistent non-specialization template argument representation.
  - \#10729: C++, fix parsing of certain non-type template parameter packs.
  - \#10715: Revert \#10520: "Fix" use of sidebar classes in `agogo.css_t`

---

5.3.md

---

# Sphinx 5.3

## Release 5.3.0 (released Oct 16, 2022)

  - \#10759: LaTeX: add `latex_table_style` and support the `'booktabs'`, `'borderless'`, and `'colorrows'` styles. (thanks to Stefan Wiehler for initial pull requests \#6666, \#6671)
  - \#10840: One can cross-reference including an option value like ``:option:`--module=foobar``<span class="title-ref">, </span><span class="title-ref">:option:</span>--module\[=foobar\]`` `, or ```--module foobar`\`\`. Patch by Martin Liska.
  - \#10881: autosectionlabel: Record the generated section label to the debug log.
  - \#10268: Correctly URI-escape image filenames.
  - \#10887: domains: Allow sections in all the content of all object description directives (e.g. :rst`py:function`). Patch by Adam Turner

---

6.0.md

---

# Sphinx 6.0

## Release 6.0.1 (released Jan 05, 2023)

### Dependencies

  - Require Pygments 2.13 or later.

### Bugs fixed

  - \#10944: imgmath: Fix resolving image paths for files in nested folders.

## Release 6.0.0 (released Dec 29, 2022)

### Dependencies

  - \#10468: Drop Python 3.6 support
  - \#10470: Drop Python 3.7, Docutils 0.14, Docutils 0.15, Docutils 0.16, and Docutils 0.17 support. Patch by Adam Turner

### Incompatible changes

  - \#7405: Removed the jQuery and underscore.js JavaScript frameworks.
    
    These frameworks are no longer be automatically injected into themes from Sphinx 6.0. If you develop a theme or extension that uses the `jQuery`, `$`, or `$u` global objects, you need to update your JavaScript to modern standards, or use the mitigation below.
    
    The first option is to use the [sphinxcontrib.jquery](https://github.com/sphinx-contrib/jquery/) extension, which has been developed by the Sphinx team and contributors. To use this, add `sphinxcontrib.jquery` to the `extensions` list in `conf.py`, or call `app.setup_extension("sphinxcontrib.jquery")` if you develop a Sphinx theme or extension.
    
    The second option is to manually ensure that the frameworks are present. To re-add jQuery and underscore.js, you will need to copy `jquery.js` and `underscore.js` from [the Sphinx repository]() to your `static` directory, and add the following to your `layout.html`:
    
      - \`\`\`html+jinja
        
          - {%- block scripts %}  
            \<script src="{{ pathto('\_static/jquery.js', resource=True) }}"\>\</script\> \<script src="{{ pathto('\_static/underscore.js', resource=True) }}"\>\</script\> {{ super() }}
        
        {%- endblock %}

Patch by Adam Turner. `` ` * #10471, #10565: Removed deprecated APIs scheduled for removal in Sphinx 6.0. See   [dev-deprecated-apis](#dev-deprecated-apis) for details. Patch by Adam Turner. * #10901: C Domain: Remove support for parsing pre-v3 style type directives and   roles. Also remove associated configuration variables ``c\_allow\_pre\_v3`and`c\_warn\_on\_allowed\_pre\_v3``. Patch by Adam Turner.  Features added --------------  * #10924: LaTeX: adopt better looking defaults for tables and code-blocks.   See :confval:`latex_table_style` and the``pre\_border-radius`and`pre\_background-TeXcolor``[additionalcss](#additionalcss) for the former defaults   and how to re-enact them if desired.  Bugs fixed ----------  * #10984: LaTeX: Document :confval:`latex_additional_files` behavior for files   with``.tex\`\` extension.

---

6.1.md

---

# Sphinx 6.1

## Release 6.1.3 (released Jan 10, 2023)

### Bugs fixed

  - \#11116: Reverted to previous Sphinx 5 node copying method
  - \#11117: Reverted changes to parallel image processing from Sphinx 6.1.0
  - \#11119: Suppress `ValueError` in the `linkcheck` builder

## Release 6.1.2 (released Jan 07, 2023)

### Bugs fixed

  - \#11101: LaTeX: `div.topic_padding` key of sphinxsetup documented at 5.1.0 was implemented with name `topic_padding`
  - \#11099: LaTeX: `shadowrule` key of sphinxsetup causes PDF build to crash since Sphinx 5.1.0
  - \#11096: LaTeX: `shadowsize` key of sphinxsetup causes PDF build to crash since Sphinx 5.1.0
  - \#11095: LaTeX: shadow of `topic` and `contents <table-of-contents>` boxes not in page margin since Sphinx 5.1.0
  - \#11100: Fix copying images when running under parallel mode.

## Release 6.1.1 (released Jan 05, 2023)

### Bugs fixed

  - \#11091: Fix `util.nodes.apply_source_workaround` for `literal_block` nodes with no source information in the node or the node's parents.

## Release 6.1.0 (released Jan 05, 2023)

### Dependencies

  - Adopted the [Ruff]() code linter.

### Incompatible changes

  - \#10979: gettext: Removed support for pluralisation in `get_translation`. This was unused and complicated other changes to `sphinx.locale`.

### Deprecated

  - `sphinx.util` functions:
    
    >   - Renamed `sphinx.util.typing.stringify()` to `sphinx.util.typing.stringify_annotation()`
    >   - Moved `sphinx.util.xmlname_checker()` to `sphinx.builders.epub3._XML_NAME_PATTERN`
    > 
    > Moved to `sphinx.util.display`:
    > 
    >   - `sphinx.util.status_iterator`
    >   - `sphinx.util.display_chunk`
    >   - `sphinx.util.SkipProgressMessage`
    >   - `sphinx.util.progress_message`
    > 
    > Moved to `sphinx.util.http_date`:
    > 
    >   - `sphinx.util.epoch_to_rfc1123`
    >   - `sphinx.util.rfc1123_to_epoch`
    > 
    > Moved to `sphinx.util.exceptions`:
    > 
    >   - `sphinx.util.save_traceback`
    >   - `sphinx.util.format_exception_cut_frames`

### Features added

  - Cache doctrees in the build environment during the writing phase.
  - Make all writing phase tasks support parallel execution.
  - \#11072: Use PEP 604 (`X | Y`) display conventions for `typing.Optional` and `typing.Optional` types within the Python domain and autodoc.
  - \#10700: autodoc: Document `typing.NewType()` types as classes rather than 'data'.
  - Cache doctrees between the reading and writing phases.

### Bugs fixed

  - \#10962: HTML: Fix the multi-word key name lookup table.
  - Fixed support for Python 3.12 alpha 3 (changes in the `enum` module).
  - \#11069: HTML Theme: Removed outdated "shortcut" link relation keyword.
  - \#10952: Properly terminate parallel processes on programme interruption.
  - \#10988: Speed up `TocTree.resolve()` through more efficient copying.
  - \#6744: LaTeX: support for seealso directive should be via an environment to allow styling.
  - \#11074: LaTeX: Can't change sphinxnote to use sphinxheavybox starting with 5.1.0

---

6.2.md

---

# Sphinx 6.2

## Release 6.2.1 (released Apr 25, 2023)

### Bugs fixed

  - \#11355: Revert the default type of `nitpick_ignore` and `nitpick_ignore_regex` to `list`.

## Release 6.2.0 (released Apr 23, 2023)

### Dependencies

  - Require Docutils 0.18.1 or greater.

### Incompatible changes

  - LaTeX: removal of some internal TeX `\dimen` registers (not previously publicly documented) as per 5.1.0 code comments in `sphinx.sty`: `\sphinxverbatimsep`, `\sphinxverbatimborder`, `\sphinxshadowsep`, `\sphinxshadowsize`, and `\sphinxshadowrule`. (refs: \#11105)
  - Remove `.egg` support from pycode `ModuleAnalyser`; Python eggs are a now-obsolete binary distribution format
  - \#11089: Remove deprecated code in `sphinx.builders.linkcheck`. Patch by Daniel Eades
  - Remove internal-only `sphinx.locale.setlocale`

### Deprecated

  - \#11247: Deprecate the legacy `intersphinx_mapping` format
  - `sphinx.util.osutil.cd` is deprecated in favour of `contextlib.chdir`.

### Features added

  - \#11277: :rst`autoproperty` allows the return type to be specified as a type comment (e.g., `# type: () -> int`). Patch by Bénédikt Tran
  - \#10811: Autosummary: extend `__all__` to imported members for template rendering when option `autosummary_ignore_module_all` is set to `False`. Patch by Clement Pinard
  - \#11147: Add a `content_offset` parameter to `nested_parse_with_titles()`, allowing for correct line numbers during nested parsing. Patch by Jeremy Maitin-Shepard
  - Update to Unicode CLDR 42
  - Add a `--jobs` synonym for `-j`. Patch by Hugo van Kemenade
  - LaTeX: a command `\sphinxbox` for styling text elements with a (possibly rounded) box, optional background color and shadow, has been added. See \[sphinxbox\](\#sphinxbox). (refs: \#11224)
  - LaTeX: add `\sphinxstylenotetitle`, ..., `\sphinxstylewarningtitle`, ..., for an extra layer of mark-up freeing up `\sphinxstrong` for other uses. See \[latex-macros\](\#latex-macros). (refs: \#11267)
  - LaTeX: `note`, `hint`, `important` and `tip` can now each be styled as the other admonitions, i.e. possibly with a background color, individual border widths and paddings, possibly rounded corners, and optional shadow. See \[additionalcss\](\#additionalcss). (refs: \#11234)
  - LaTeX: admonitions and `topic` (and `contents <table-of-contents>`) directives, and not only :rst`code-block`, support `box-decoration-break=slice`.
  - LaTeX: let rounded boxes support up to 4 distinct border-widths (refs: \#11243)
  - LaTeX: new options `noteTextColor`, `noteTeXextras` et al. See \[additionalcss\](\#additionalcss).
  - LaTeX: support elliptical corners in rounded boxes. (refs: \#11254)
  - \#11150: Include source location in highlighting warnings, when lexing fails. Patch by Jeremy Maitin-Shepard
  - \#11281: Support for `imgmath_latex` `= 'tectonic'` or `= 'xelatex'`. Patch by Dimitar Dimitrov
  - \#11109, \#9643: Add `python_display_short_literal_types` option for condensed rendering of `Literal` types.

### Bugs fixed

  - \#11079: LaTeX: figures with align attribute may disappear and strangely impact following lists
  - \#11093: LaTeX: fix "multiply-defined references" PDF build warnings when one or more reST labels directly precede an :rst`py:module` or :rst`automodule` directive. Patch by Bénédikt Tran (picnixz)
  - \#11110: LaTeX: Figures go missing from latex pdf if their files have the same base name and they use a post transform. Patch by aaron-cooper
  - LaTeX: fix potential color leak from shadow to border of rounded boxes, if shadow color is set but border color is not
  - LaTeX: fix unintended 1pt upwards vertical shift of code blocks frames respective to contents (when using rounded corners)
  - \#11235: LaTeX: added `\color` in topic (or admonition) contents may cause color leak to the shadow and border at a page break
  - \#11264: LaTeX: missing space before colon after "Voir aussi" for :rst`seealso` directive in French
  - \#11268: LaTeX: longtable with left alignment breaks out of current list indentation context in PDF. Thanks to picnixz.
  - \#11274: LaTeX: external links are not properly escaped for `\sphinxupquote` compatibility
  - \#11147: Fix source file/line number info in object description content and in other uses of `nested_parse_with_titles`. Patch by Jeremy Maitin-Shepard.
  - \#11192: Restore correct parallel search index building. Patch by Jeremy Maitin-Shepard
  - Use the new Transifex `tx` client

### Testing

  - Fail testing when any Python warnings are emitted
  - Migrate remaining `unittest.TestCase` style test functions to pytest style
  - Remove tests that rely on setuptools

---

7.0.md

---

# Sphinx 7.0

## Release 7.0.1 (released May 12, 2023)

### Dependencies

  - \#11411: Support [Docutils 0.20](https://docutils.sourceforge.io/RELEASE-NOTES.html#release-0-20-2023-05-04). Patch by Adam Turner.

### Bugs fixed

  - \#11418: Clean up remaining references to `sphinx.setup_command` following the removal of support for setuptools. Patch by Willem Mulder.

## Release 7.0.0 (released Apr 29, 2023)

### Incompatible changes

  - \#11359: Remove long-deprecated aliases for `MecabSplitter` and `DefaultSplitter` in `sphinx.search.ja`.
  - \#11360: Remove deprecated `make_old_id` functions in domain object description classes.
  - \#11363: Remove the Setuptools integration (`build_sphinx` hook in `setup.py`).
  - \#11364: Remove deprecated `sphinx.ext.napoleon.iterators` module.
  - \#11365: Remove support for the `jsdump` format in `sphinx.search`.
  - \#11366: Make `locale` a required argument to `sphinx.util.i18n.format_date()`.
  - \#11370: Remove deprecated `sphinx.util.stemmer` module.
  - \#11371: Remove deprecated `sphinx.pycode.ast.parse()` function.
  - \#11372: Remove deprecated `sphinx.io.read_doc()` function.
  - \#11373: Removed deprecated `sphinx.util.get_matching_files()` function.
  - \#11378: Remove deprecated `sphinx.util.docutils.is_html5_writer_available()` function.
  - \#11379: Make the `env` argument to `Builder` subclasses required.
  - \#11380: autosummary: Always emit grouped import exceptions.
  - \#11381: Remove deprecated `style` key for HTML templates.
  - \#11382: Remove deprecated `sphinx.writers.latex.LaTeXTranslator.docclasses` attribute.
  - \#11383: Remove deprecated `sphinx.builders.html.html5_ready` and `sphinx.builders.html.HTMLTranslator` attributes.
  - \#11385: Remove support for HTML 4 output.

---

7.1.md

---

# Sphinx 7.1

## Release 7.1.2 (released Aug 02, 2023)

### Bugs fixed

  - \#11542: linkcheck: Properly respect `linkcheck_anchors` and do not spuriously report failures to validate anchors. Patch by James Addison.

## Release 7.1.1 (released Jul 27, 2023)

### Bugs fixed

  - \#11514: Fix `SOURCE_DATE_EPOCH` in multi-line copyright footer. Patch by Bénédikt Tran.

## Release 7.1.0 (released Jul 24, 2023)

### Incompatible changes

  - Releases are no longer signed, given the [change in PyPI policy]().

### Deprecated

  - \#11412: Emit warnings on using a deprecated Python-specific index entry type (namely, `module`, `keyword`, `operator`, `object`, `exception`, `statement`, and `builtin`) in the :rst`index` directive, and set the removal version to Sphinx 9. Patch by Adam Turner.

### Features added

  - \#11415: Add a checksum to JavaScript and CSS asset URIs included within generated HTML, using the CRC32 algorithm.
  - <span class="title-ref">\~sphinx.application.Sphinx.require\_sphinx</span> now allows the version requirement to be specified as `(major, minor)`.
  - \#11011: Allow configuring a line-length limit for object signatures, via `maximum_signature_line_length` and the domain-specific variants. If the length of the signature (in characters) is greater than the configured limit, each parameter in the signature will be split to its own logical line. This behaviour may also be controlled by options on object description directives, for example :rst`py:function:single-line-parameter-list`. Patch by Thomas Louf, Adam Turner, and Jean-François B.
  - \#10983: Support for multiline copyright statements in the footer block. Patch by Stefanie Molin
  - `sphinx.util.display.status_iterator` now clears the current line with ANSI control codes, rather than overprinting with space characters.
  - \#11431: linkcheck: Treat SSL failures as broken links. Patch by James Addison.
  - \#11157: Keep the `translated` attribute on translated nodes.
  - \#11451: Improve the traceback displayed when using `sphinx-build -T` in parallel builds. Patch by Bénédikt Tran
  - \#11324: linkcheck: Use session-basd HTTP requests.
  - \#11438: Add support for the :rst`py:class` and :rst`py:function` directives for PEP 695 (generic classes and functions declarations) and PEP 696 (default type parameters). Multi-line support (\#11011) is enabled for type parameters list and can be locally controlled on object description directives, e.g., :rst`py:function:single-line-type-parameter-list`. Patch by Bénédikt Tran.
  - \#11484: linkcheck: Allow HTML anchors to be ignored on a per-URL basis via `linkcheck_anchors_ignore_for_url` while still checking the validity of the page itself. Patch by Bénédikt Tran
  - \#1246: Add translation progress statistics and inspection support, via a new substitution (`|translation progress|`) and a new configuration variable (`translation_progress_classes`). These enable determining the percentage of translated elements within a document, and the remaining translated and untranslated elements.

### Bugs fixed

  - Restored the `footnote-reference` class that has been removed in the latest (unreleased) version of Docutils.

  - \#11486: Use `8081` font file MIME types in the EPUB builder. Using the correct MIME type will prevent warnings from `epubcheck` and will generate a valid EPUB.

  - \#11435: Use microsecond-resolution timestamps for outdated file detection in `BuildEnvironment.get_outdated_files`.

  - \#11437: Top-level headings starting with a reStructuredText role now render properly when `rst_prolog` is set. Previously, a file starting with the below would have improperly rendered due to where the prologue text was inserted into the document.
    
    ``` rst
    :mod:`lobster` -- The lobster module
    ====================================
    
    ...
    ```
    
    Patch by Bénédikt Tran.

  - \#11337: Fix a `MemoryError` in `sphinx.ext.intersphinx` when using `None` or `typing.*` as inline type references. Patch by Bénédikt Tran (picnixz)

### Testing

  - \#11345: Always delete `docutils.conf` in test directories when running `SphinxTestApp.cleanup()`.

---

7.2.md

---

# Sphinx 7.2

## Release 7.2.6 (released Sep 13, 2023)

### Bugs fixed

  - \#11679: Add the `!SPHINX_AUTODOC_RELOAD_MODULES` environment variable, which if set reloads modules when using autodoc with `TYPE_CHECKING = True`. Patch by Matt Wozniski and Adam Turner.
  - \#11679: Use :py\`importlib.reload\` to reload modules in autodoc. Patch by Matt Wozniski and Adam Turner.

## Release 7.2.5 (released Aug 30, 2023)

### Bugs fixed

  - \#11645: Fix a regression preventing autodoc from importing modules within packages that make use of `if typing.TYPE_CHECKING:` to guard circular imports needed by type checkers. Patch by Matt Wozniski.
  - \#11634: Fixed inheritance diagram relative link resolution for sibling files in a subdirectory. Patch by Albert Shih.
  - \#11659: Allow `?config=...` in `mathjax_path`.
  - \#11654: autodoc: Fail with a more descriptive error message when an object claims to be an instance of `type`, but is not a class. Patch by James Braza.
  - 11620: Cease emitting `source-read` events for files read via the `include` directive.
  - 11620: Add a new `include-read` for observing and transforming the content of included files via the `include` directive.
  - \#11627: Restore support for copyright lines of the form `YYYY` when `SOURCE_DATE_EPOCH` is set.

## Release 7.2.4 (released Aug 28, 2023)

### Bugs fixed

  - \#11618: Fix a regression in the MoveModuleTargets transform, introduced in \#10478 (\#9662).
  - \#11649: linkcheck: Resolve hanging tests for timezones west of London and incorrect conversion from UTC to offsets from the UNIX epoch. Patch by Dmitry Shachnev and Adam Turner.

## Release 7.2.3 (released Aug 23, 2023)

### Dependencies

  - \#11576: Require sphinxcontrib-serializinghtml 1.1.9.

### Bugs fixed

  - Fix regression in `autodoc.Documenter.parse_name()`.
  - Fix regression in JSON serialisation.
  - \#11543: autodoc: Support positional-only parameters in `classmethod` methods when `autodoc_preserve_defaults` is `True`.
  - Restore support string methods on path objects. This is deprecated and will be removed in Sphinx 8. Use :py\`os.fspath\` to convert :py\`\~pathlib.Path\` objects to strings, or :py\`\~pathlib.Path\`'s methods to work with path objects.

## Release 7.2.2 (released Aug 17, 2023)

### Bugs fixed

  - Fix the signature of the `StateMachine.insert_input()` patch, for when calling with keyword arguments.
  - Fixed membership testing (`in`) for the :py\`str\` interface of the asset classes (`_CascadingStyleSheet` and `_JavaScript`), which several extensions relied upon.
  - Fixed a type error in `SingleFileHTMLBuilder._get_local_toctree`, `includehidden` may be passed as a string or a boolean.
  - Fix `:noindex:` for `PyModule` and `JSModule`.

## Release 7.2.1 (released Aug 17, 2023)

### Bugs fixed

  - Restored the the :py\`str\` interface of the asset classes (`_CascadingStyleSheet` and `_JavaScript`), which several extensions relied upon. This will be removed in Sphinx 9.
  - Restored calls to `Builder.add_{css,js}_file()`, which several extensions relied upon.
  - Restored the private API `TocTree.get_toctree_ancestors()`, which several extensions relied upon.

## Release 7.2.0 (released Aug 17, 2023)

### Dependencies

  - \#11511: Drop Python 3.8 support.
  - \#11576: Require Pygments 2.14 or later.

### Deprecated

  - \#11512: Deprecate `sphinx.util.md5` and `sphinx.util.sha1`. Use `hashlib` instead.
  - \#11526: Deprecate `sphinx.testing.path`. Use `os.path` or `pathlib` instead.
  - \#11528: Deprecate `sphinx.util.split_index_msg` and `sphinx.util.split_into`. Use `sphinx.util.index_entries.split_index_msg` instead.
  - Deprecate `sphinx.builders.html.Stylesheet` and `sphinx.builders.html.Javascript`. Use `sphinx.application.Sphinx.add_css_file()` and `sphinx.application.Sphinx.add_js_file()` instead.
  - \#11582: Deprecate `sphinx.builders.html.StandaloneHTMLBuilder.css_files` and `sphinx.builders.html.StandaloneHTMLBuilder.script_files`. Use `sphinx.application.Sphinx.add_css_file()` and `sphinx.application.Sphinx.add_js_file()` instead.
  - \#11459: Deprecate `sphinx.ext.autodoc.preserve_defaults.get_function_def()`. Patch by Bénédikt Tran.

### Features added

  - \#11526: Support `os.PathLike` types and `pathlib.Path` objects in many more places.
  - \#5474: coverage: Print summary statistics tables. Patch by Jorge Leitao.
  - \#6319: viewcode: Add `viewcode_line_numbers` to control whether line numbers are added to rendered source code. Patch by Ben Krikler.
  - \#9662: Add the `:no-typesetting:` option to suppress textual output and only create a linkable anchor. Patch by Latosha Maltba.
  - \#11221: C++: Support domain objects in the table of contents. Patch by Rouslan Korneychuk.
  - \#10938: doctest: Add `doctest_show_successes` option. Patch by Trey Hunner.
  - \#11533: Add `:no-index:`, `:no-index-entry:`, and `:no-contents-entry:`.
  - \#11572: Improve `debug` logging of reasons why files are detected as out of date. Patch by Eric Larson.
  - \#10678: Emit `source-read` events for files read via the `include` directive. Patch by Halldor Fannar.
  - \#11570: Use short names when using `585` built-in generics. Patch by Riccardo Mori.
  - \#11300: Improve `SigElementFallbackTransform` fallback logic and signature text elements nodes. See \[the documentation \</extdev/nodes\>\](the documentation \</extdev/nodes\>.md) for more details. Patch by Bénédikt Tran.
  - Allow running Sphinx with `python -m sphinx build ...`.

### Bugs fixed

  - \#11077: graphviz: Fix relative links from within the graph. Patch by Ralf Grubenmann.
  - \#11529: Line Block in LaTeX builder outputs spurious empty token. Patch by Adrian Vollmer.
  - \#11196: autosummary: Summary line extraction failed with "e.g."
  - \#10614: Fixed a number of bugs in inheritance diagrams that resulted in missing or broken links. Patch by Albert Shih.
  - \#9428: Exclude substitution definitions when running the `gettext` builder. Patch by Alvin Wong.
  - \#10795: Raise a descriptive error if `graphviz_dot` is falsy.
  - \#11546: Translated nodes identical to their original text are now marked with the `translated=True` attribute.
  - \#10049: html: Change "Permalink" to "Link" for title text in link anchors.
  - \#4225: Relax Pygments parsing on lexing failures.
  - \#11246: Allow inline links in the first line of a docstring and one-line type comments `#: :meta ...:` when using `sphinx.ext.napoleon`. Patch by Bénédikt Tran.
  - \#10930: Highlight all search terms on the search results page. Patch by Dmitry Shachnev.
  - \#11473: Type annotations containing :py\`\~typing.Literal\` enumeration values now render correctly. Patch by Bénédikt Tran.
  - \#11591: Fix support for C coverage in `sphinx.ext.coverage` extension. Patch by Stephen Finucane.
  - \#11594: HTML Theme: Enhancements to horizontal scrolling on smaller devices in the `agogo` theme. Patch by Lukas Engelter.
  - \#11459: Fix support for async and lambda functions in `sphinx.ext.autodoc.preserve_defaults`. Patch by Bénédikt Tran.

### Testing

  - \#11577: pytest: Fail tests on "XPASS".
  - \#11577: pytest: Use "importlib" import mode.
  - \#11577: pytest: Set PYTHONWARNINGS=error.
  - \#11577: pytest: Set strict config and strict markers.

---

7.3.md

---

# Sphinx 7.3

## Release 7.3.7 (released Apr 19, 2024)

### Bugs fixed

  - \#12299: Defer loading themes defined via entry points until their explicit use by the user or a child theme. Patch by Adam Turner.
  - \#12305: Return the default value for `theme.get_config()` with an unsupported theme configuration section. Patch by Adam Turner.

## Release 7.3.6 (released Apr 17, 2024)

### Bugs fixed

  - \#12295: Re-export all AST types in the C and C++ domains. Patch by Adam Turner.
  - \#12295: Re-export various objects from `sphinx.domains.python._annotations` in `sphinx.domains.python`. Patch by Jacob Chesslo and Adam Turner.

## Release 7.3.5 (released Apr 17, 2024)

### Bugs fixed

  - \#12295: Re-export various objects from `sphinx.domains.python._object` in `sphinx.domains.python`. Patch by Jacob Chesslo and Adam Turner.

## Release 7.3.4 (released Apr 17, 2024)

### Bugs fixed

  - Handle cases when `Any` is not an instance of `type`. Patch by Adam Turner.

## Release 7.3.3 (released Apr 17, 2024)

### Bugs fixed

  - \#12290: Fix a false-positive warning when setting a configuration value with `Any` as the valid type to a type other than the value's default. Patch by Adam Turner.

## Release 7.3.2 (released Apr 17, 2024)

### Bugs fixed

  - Preload all themes defined via entry points. Patch by Adam Turner.
  - Fix a bad interaction between the `'Furo'` theme and the new-style for configuration values. Patch by Adam Turner.

## Release 7.3.1 (released Apr 17, 2024)

### Dependencies

  - Require `tomli` on Python 3.10 and earlier. Patch by Adam Turner.

## Release 7.3.0 (released Apr 16, 2024)

### Dependencies

  - \#11858: Increase the minimum supported version of Alabaster to 0.7.14. Patch by Adam Turner.
  - \#11411: Support [Docutils 0.21](). Patch by Adam Turner.
  - \#12012: Use `types-docutils` instead of `docutils-stubs`.

### Deprecated

  - \#11693: Support for old-style `Makefile` and `make.bat` output in `sphinx-quickstart`, and the associated options `!-M`, `!-m`, `!--no-use-make-mode`, and `!--use-make-mode`.
  - \#11285: Direct access to <span class="title-ref">\!sphinx.testing.util.SphinxTestApp.\_status</span> or <span class="title-ref">\!sphinx.testing.util.SphinxTestApp.\_warning</span> is deprecated. Use the public properties <span class="title-ref">\!sphinx.testing.util.SphinxTestApp.status</span> and <span class="title-ref">\!sphinx.testing.util.SphinxTestApp.warning</span> instead. Patch by Bénédikt Tran.
  - tests: <span class="title-ref">\!sphinx.testing.util.strip\_escseq</span> is deprecated in favour of <span class="title-ref">\!sphinx.util.console.strip\_colors</span>. Patch by Bénédikt Tran.

### Features added

  - \#12265: Support theme configuration via `theme.toml`.
  - \#11701: HTML Search: Adopt the new [\\\<search\\\>]() element. Patch by Bénédikt Tran.
  - \#11776: Add long option names to `sphinx-build`. Patch by Hugo van Kemenade, Adam Turner, Bénédikt Tran, and Ezio Melotti.
  - Organise the `sphinx-build` options into groups. Patch by Adam Turner.
  - \#11855: Defer computation of configuration values. Patch by Adam Turner.
  - Add `:no-search:` as an alias of the `:nosearch:` metadata field. Patch by Adam Turner.
  - \#11803: autodoc: Use an overridden `__repr__()` function in an enum, if defined. Patch by Shengyu Zhang.
  - \#11825: Allow custom targets in the manpage role. Patch by Nicolas Peugnet.
  - \#11892: Improved performance when resolving cross references in the C++ domain. Patch by Rouslan Korneychuk.
  - \#11905: Add a :rst`versionremoved` directive. Patch by Hugo van Kemenade, Adam Turner, and C.A.M. Gerlach.
  - \#11981: Improve rendering of signatures using `slice` syntax, e.g., `def foo(arg: np.float64[:,:]) -> None: ...`.
  - The manpage builder now adds [OSC 8]() anchors to hyperlinks, using the [groff]() device control command.
  - \#11015: Change the text of the :rst`versionadded` directive from `New in [...]` to `Added in [...]`. Patch by Bénédikt Tran.
  - \#12131: Added `show_warning_types` configuration option. Patch by Chris Sewell.
  - \#12193: Improve `external` warnings for unknown roles. In particular, suggest related role names if an object type is mistakenly used. Patch by Chris Sewell.
  - Add public type alias <span class="title-ref">sphinx.util.typing.ExtensionMetadata</span>. This can be used by extension developers to annotate the return type of their `setup` function. Patch by Chris Sewell.

### Bugs fixed

  - \#11668: Raise a useful error when `theme.conf` is missing. Patch by Vinay Sajip.

  - \#11622: Ensure that the order of keys in `searchindex.js` is deterministic. Patch by Pietro Albini.

  - \#11617: ANSI control sequences are stripped from the output when writing to a warnings file with `-w <sphinx-build -w>`. Patch by Bénédikt Tran.

  - \#11666: Skip all hidden directories in `CatalogRepository.pofiles`. Patch by Aryaz Eghbali.

  - \#9686: html builder: Fix MathJax lazy loading when equations appear in titles. Patch by Bénédikt Tran.

  - \#11483: singlehtml builder: Fix MathJax lazy loading when the index does not contain any math equations. Patch by Bénédikt Tran.

  - \#11697: HTML Search: add 'noindex' meta robots tag. Patch by James Addison.

  - \#11678: Fix a possible `ZeroDivisionError` in `sphinx.ext.coverage`. Patch by Stephen Finucane.

  - \#11756: LaTeX: build error with recent TeXLive due to missing `substitutefont` package (triggered if using `fontenc` with `T2A` option and document language is not a Cyrillic one). Patch by Jean-François B.

  - \#11675: Fix rendering of progression bars in environments that do not support ANSI control sequences. Patch by Bénédikt Tran.

  - \#11861: Whitelist more types with an incorrect `__module__` attribute. Patch by Adam Turner.

  - \#11715: Apply `tls_verify` and `tls_cacerts` config to `ImageDownloader`. Patch by Nick Touran.

  - Allow hyphens in group names for :rst`productionlist` cross-references. Patch by Adam Turner.

  - \#11433: Added the `linkcheck_allow_unauthorized` configuration option. Set this option to `False` to report HTTP 401 (unauthorized) server responses as broken. Patch by James Addison.

  - \#11868: linkcheck: added a distinct `timeout` reporting status code. This can be enabled by setting `linkcheck_report_timeouts_as_broken` to `False`. Patch by James Addison.

  - \#11869: Refresh the documentation for the `linkcheck_timeout` setting. Patch by James Addison.

  - \#11874: Configure a default 30-second value for `linkcheck_timeout`. Patch by James Addison.

  - \#11886: Print the Jinja2 template path chain in `TemplateNotFound` exceptions. Patch by Colin Marquardt.

  - \#11598: Do not use query components in URLs for assets in EPUB rendering. Patch by David Runge.

  - \#11904: Support unary subtraction when parsing annotations. Patch by James Addison.

  - \#11925: Blacklist the `sphinxprettysearchresults` extension; the functionality it provides was merged into Sphinx v2.0.0. Patch by James Addison.

  - \#11917: Fix rendering of annotated inherited members for Python 3.9. Patch by Janet Carson.

  - \#11935: C Domain: Fix namespace-pop context. Patch by Frank Dana.

  - \#11923: Avoid zombie processes when parallel builds fail. Patch by Felix von Drigalski.

  - \#11353: Support enumeration classes inheriting from mixin or data types. Patch by Bénédikt Tran.

  - \#11962: Fix target resolution when using `:paramtype:` fields. Patch by Bénédikt Tran.

  - \#11944: Use anchor in search preview. Patch by Will Lachance.

  - \#12008: Fix case-sensitive lookup of `std:label` names in intersphinx inventory. Patch by Michael Goerz.

  - \#11958: HTML Search: Fix partial matches overwriting full matches. Patch by William Lachance.

  - \#11959: Fix multiple term matching when word appears in both title and document. Patch by Will Lachance.

  - \#11474: Fix doctrees caching causing files not be rebuilt in some cases, e.g., when `numfig` is `True`. Patch by Bénédikt Tran.

  - \#11278: autodoc: Fix rendering of <span class="title-ref">functools.singledispatchmethod</span> combined with <span class="title-ref">@classmethod \<classmethod\></span>. Patch by Bénédikt Tran.

  - \#11894: Do not add checksums to css files if building using the htmlhelp builder. Patch by reduerK akiM.

  - \#12052: Remove `<script>` and `<style>` tags from the content of search result summary snippets. Patch by James Addison.

  - \#11578: HTML Search: Order non-main index entries after other results. Patch by Brad King.

  - \#12147: autosummary: Fix a bug whereby the wrong file extension may be used, when multiple suffixes are specified in `source_suffix`. Patch by Sutou Kouhei.

  - \#10786: improve the error message when a file to be copied (e.g., an asset) is removed during Sphinx execution. Patch by Bénédikt Tran.

  - \#12040: HTML Search: Ensure that document titles that are partially-matched by the user search query are included in search results. Patch by James Addison.

  - \#11970: singlehtml builder: make target URIs to be same-document references in the sense of `RFC 3986, §4.4 <3986#section-4.4>`, e.g., `index.html#foo` becomes `#foo`. Patch by Eric Norige.

  - \#12271: Partially revert Docutils' r9562\_\_ to fix EPUB files. Patch by Adam Turner.
    
    \_\_ <https://sourceforge.net/p/docutils/code/9562/>

  - \#12253: Escape reserved path characters in the remote images post-transform download cache. Patch by James Addison and Adam Turner.

### Testing

  - Reorganise tests into directories. Patch by Adam Turner.
  - Clean up global state in `SphinxTestApp`. Patch by Adam Turner.
  - \#11285: <span class="title-ref">\!pytest.mark.sphinx</span> and <span class="title-ref">\!sphinx.testing.util.SphinxTestApp</span> accept *warningiserror*, *keep\_going* and *verbosity* as keyword arguments. Patch by Bénédikt Tran.
  - \#11285: <span class="title-ref">\!sphinx.testing.util.SphinxTestApp</span> *status* and *warning* arguments are checked to be <span class="title-ref">io.StringIO</span> objects (the public API incorrectly assumed this without checking it). Patch by Bénédikt Tran.
  - Report the result of `test_run_epubcheck` as `skipped` instead of `success` when either Java or `epubcheck` are not available.
  - Use dynamic allocation of unused port numbers for the test HTTP(S) servers. As a side-effect, this removes the need for test server lockfiles, meaning that any remaining `tests/test-server.lock` files can safely be deleted.

---

7.4.md

---

# Sphinx 7.4

## Release 7.4.7 (released Jul 20, 2024)

### Bugs fixed

  - \#12096: Warn when files are overwritten in the build directory. Patch by Adam Turner and Bénédikt Tran.
  - \#12620: Ensure that old-style object description options are respected. Patch by Adam Turner.
  - \#12601, \#12625: Support callable objects in :py\`\~typing.Annotated\` type metadata in the Python domain. Patch by Adam Turner.
  - \#12601, \#12622: Resolve :py\`\~typing.Annotated\` warnings with `sphinx.ext.autodoc`, especially when using `dataclasses` as type metadata. Patch by Adam Turner.
  - \#12589, \#12626: autosummary: Fix warnings with :rst`!autolink`. Patch by Adam Turner.

## Release 7.4.6 (released Jul 18, 2024)

### Bugs fixed

  - \#12589, \#9743, \#12609: autosummary: Do not add the package prefix when generating autosummary directives for modules within a package. Patch by Adam Turner.
  - \#12613: Reduce log severity for ambiguity detection during inventory loading. Patch by James Addison.

## Release 7.4.5 (released Jul 16, 2024)

### Bugs fixed

  - \#12593, \#12600: Revert coercing the type of selected `html_sidebars` values to a list. Log an error message when string values are detected. Patch by Adam Turner.
  - \#12594: LaTeX: since 7.4.0, :rst`seealso` and other "light" admonitions now break PDF builds if they contain a `figure` directive; and also if they are contained in a table cell (rendered by `tabulary`). Patch by Jean-François B.

## Release 7.4.4 (released Jul 15, 2024)

### Bugs fixed

  - \#12585, \#12586: Do not warn when an intersphinx inventory contains case-insensitively ambiguous duplicate items. Patch by James Addison.

## Release 7.4.3 (released Jul 15, 2024)

### Bugs fixed

  - \#12582: Restore support for list-styled `source_suffix` values with extensions that register parsers. Patch by Adam Turner.

## Release 7.4.2 (released Jul 15, 2024)

### Bugs fixed

  - \#12580, \#12583: Resolve failures with the C domain on incremental builds with Sphinx 7.3.7 and earlier. Patch by Adam Turner.

## Release 7.4.1 (released Jul 15, 2024)

### Bugs fixed

  - Fix invalid HTML when a rubric node with invalid `heading-level` is used. Patch by Adam Turner.
  - \#12579, \#12581: Restore support for `typing.ParamSpec` in autodoc. Patch by Adam Turner.

## Release 7.4.0 (released Jul 15, 2024)

### Dependencies

  - \#12555: Drop Docutils 0.18.1 and Docutils 0.19 support. Patch by Adam Turner.
  - LaTeX: the `xcolor` package is now required (but is for example part of Ubuntu `texlive-latex-recommended` which has always been required).

<!-- end list -->

  - \* LaTeX: the `fontawesome5` LaTeX package is needed for the default choices  
    of icons now used in admonition titles in PDF output; but if unavailable the PDF build will simply silently omit rendering such icons. Check the documentation of the `iconpackage` key of \['sphinxsetup' \<latexsphinxsetup\>\](\#'sphinxsetup'

\--\<latexsphinxsetup\>) for more.

### Deprecated

  - LaTeX: the `sphinxlightbox` environment is not used anymore, all types of admonitions use (by default) only `sphinxheavybox`.

### Features added

<div class="rst-class">

compact

</div>

  - \#11165: Support the [officially recommended]() `.jinja` suffix for template files. Patch by James Addison and Adam Turner

  - \#12325: Flatten `Union[Literal[T], Literal[U], ...]` to `Literal[T, U, ...]` when turning annotations into strings. Patch by Adam Turner.

  - \#12319: `sphinx.ext.extlinks`: Add `extlink-{name}` CSS class to links. Patch by Hugo van Kemenade.

  - \#12387: Improve CLI progress message, when copying assets. Patch by INADA Nakoi and Bénédikt Tran.

  - \#12361: Add <span class="title-ref">.BuildEnvironment.parser</span>. Patch by Chris Sewell.

  - \#12358: Add <span class="title-ref">.Sphinx.fresh\_env\_used</span>. Patch by Chris Sewell.

  - \#12329: Add detection of ambiguous `std:label` and `std:term` references during loading and resolution of Intersphinx targets. Patch by James Addison.

  - \#12422: Do not duplicate "navigation" in aria-label of built-in themes. Patch by Thomas Weißschuh

  - \#12421: Include project name in `logo_alt` of built-in themes. Patch by Thomas Weißschuh

  - \#12448: Add `sphinx-apidoc --remove-old` option. Patch by Chris Sewell.

  - \#12456: Add `sphinx-autogen --remove-old` option. Patch by Chris Sewell.

  - \#12479: Add warning subtype `toc.no_title`. Patch by Ondřej Navrátil.

  - \#12492: Add helper methods for parsing reStructuredText content into nodes from within a directive.
    
      - :py\`\~sphinx.util.docutils.SphinxDirective.parse\_content\_to\_nodes()\` parses the directive's content and returns a list of Docutils nodes.
      - :py\`\~sphinx.util.docutils.SphinxDirective.parse\_text\_to\_nodes()\` parses the provided text and returns a list of Docutils nodes.
      - :py\`\~sphinx.util.docutils.SphinxDirective.parse\_inline()\` parses the provided text into inline elements and text nodes.
    
    Patch by Adam Turner.

  - \#12258: Support `typing_extensions.Unpack` Patch by Bénédikt Tran and Adam Turner.

  - \#12524: Add a `class` option to the :rst`toctree` directive. Patch by Tim Hoffmann.

  - \#12536: Add the :rst`confval` directive. Patch by Adam Turner.

  - \#12537: `c_id_attributes`, `c_paren_attributes`, `cpp_id_attributes`, and `cpp_paren_attributes` can now be a tuple of strings. `c_extra_keywords`, `gettext_additional_targets`, `html_domain_indices`, `latex_domain_indices`, and `texinfo_domain_indices`, can now be a set of strings. Patch by Adam Turner.

  - \#12523: Added configuration option, `math_numsep`, to define the separator for math numbering. Patch by Thomas Fanning

  - \#11592: Add `coverage_modules` to the coverage builder to allow explicitly specifying which modules should be documented. Patch by Stephen Finucane.

  - \#7896, \#11989: Add a :rst`py:type` directive for documenting type aliases, and a :rst`py:type` role for linking to them. Patch by Ashley Whetter.

  - \#12549: Add optional `description` argument to <span class="title-ref">.Sphinx.add\_config\_value</span>. Patch by Chris Sewell.

  - \#6792: Prohibit module import cycles in `sphinx.ext.autosummary`. Patch by Trevor Bekolay.

  - \#12508: LaTeX: Revamped styling of all admonitions, with addition of a title row with icon. Patch by Jean-François B.

  - \#11773: Display :py\`\~typing.Annotated\` annotations with their metadata in the Python domain. Patch by Adam Turner and David Stansby.

  - \#12506: Add `heading-level` option to :rst`rubric` directive. Patch by Chris Sewell.

  - \#12567: Add the `write-started` event. Patch by Chris Sewell.

### Bugs fixed

  - \#12314: Properly format `collections.abc.Callable` in annotations. Patch by Adam Turner.
  - \#12162: Fix a performance regression in the C domain that has been present since version 3.0.0. Patch by Donald Hunter.
  - \#12320: Fix removal of anchors from search summaries (regression in 7.3.0). Patch by Will Lachance.
  - \#12251: Fix `merge_domaindata()` in `sphinx.ext.duration`. Patch by Matthias Geier.
  - \#12224: Properly detect WebP files. Patch by Benjamin Cabé.
  - \#12380: LaTeX: Avoid footnote markers `Page N` when `N` is already the current page number. Patch by Jean-François B.
  - \#12410: LaTeX: for French and `'lualatex'` as `latex_engine` use `babel` as with `'xelatex'` (and not `polyglossia`). Patch by Jean-François B.
  - \#8807, \#12520: LaTeX: let :rst`todolist` produce correct hyperlinks in PDF. Patch by Jean-François B.
  - \#12416: Ensure that configuration setting aliases are always synchronised when one value or the other is modified. Patch by Bénédikt Tran.
  - \#12220: Fix loading custom template translations for `en` locale. Patch by Nicolas Peugnet.
  - \#12459: Add valid-type arguments to the `linkcheck_rate_limit_timeout` configuration setting. Patch by James Addison.
  - \#12331: Resolve data-URI-image-extraction regression from v7.3.0 affecting builders without native support for data-URIs in their output format. Patch by James Addison.
  - \#12494: Fix invalid genindex.html file produced with translated docs (regression in 7.1.0). Patch by Nicolas Peugnet.
  - \#11961: Omit anchor references from document title entries in the search index, removing duplication of search results. Patch by James Addison.
  - \#12425: Use Docutils' SVG processing in the HTML builder and remove Sphinx's custom logic. Patch by Tunç Başar Köse.
  - \#12391: Adjust scoring of matches during HTML search so that document main titles tend to rank higher than subsection titles. In addition, boost matches on the name of programming domain objects relative to title/subtitle matches. Patch by James Addison and Will Lachance.
  - \#9634: Do not add a fallback language by stripping the country code. Patch by Alvin Wong.
  - \#12352: Add domain objects to the table of contents in the same order as defined in the document. Previously, each domain used language-specific nesting rules, which removed control from document authors. Patch by Jakob Lykke Andersen and Adam Turner.
  - \#11041: linkcheck: Ignore URLs that respond with non-Unicode content. Patch by James Addison.
  - \#12543: Fix `695` formatting for LaTeX output. Patch by Bénédikt Tran.

### Testing

  - karma: refactor HTML search tests to use fixtures generated by Sphinx. Patch by James Addison.

---

8.0.md

---

# Sphinx 8.0

## Release 8.0.2 (released Jul 30, 2024)

### Bugs fixed

  - Fix the `pygments.Formatter.__class_getitem__` patch. Patch by Adam Turner.

## Release 8.0.1 (released Jul 30, 2024)

### Bugs fixed

  - Patch `pygments.Formatter.__class_getitem__` in Pygments 2.17. Patch by Adam Turner.

## Release 8.0.0 (released Jul 29, 2024)

### Dependencies

  - \#12633: Drop Python 3.9 support.

### Incompatible changes

<div class="rst-class">

compact

</div>

  - Remove deprecated functions from `sphinx.util`:
    
      - Removed `sphinx.util.path_stabilize` (use `sphinx.util.osutil.path_stabilize`).
      - Removed `sphinx.util.display_chunk` (use `sphinx.util.display.display_chunk`).
      - Removed `sphinx.util.status_iterator` (use `sphinx.util.display.status_iterator`).
      - Removed `sphinx.util.SkipProgressMessage` (use `sphinx.util.display.SkipProgressMessage`).
      - Removed `sphinx.util.progress_message` (use `sphinx.util.display.progress_message`).
      - Removed `sphinx.util.epoch_to_rfc1123` (use `sphinx.http_date.epoch_to_rfc1123`).
      - Removed `sphinx.util.rfc1123_to_epoch` (use `sphinx.http_date.rfc1123_to_epoch`).
      - Removed `sphinx.util.save_traceback` (use `sphinx.exceptions.save_traceback`).
      - Removed `sphinx.util.format_exception_cut_frames` (use `sphinx.exceptions.format_exception_cut_frames`).
      - Removed `sphinx.util.xmlname_checker` (use `sphinx.builders.epub3._XML_NAME_PATTERN`).
    
    Patch by Adam Turner.

  - Removed :py\`\!sphinx.util.osutil.cd\` (use :py\`contextlib.chdir\`). Patch by Adam Turner.

  - Removed :py\`\!sphinx.util.typing.stringify\` (use :py\`\!sphinx.util.typing.stringify\_annotation\`). Patch by Adam Turner.

  - \#12593: Raise an error for invalid `html_sidebars` values. Patch by Adam Turner.

  - \#12593: Raise an error in :py\`\!Theme.get\_config\` for invalid sections. Patch by Adam Turner.

  - \#11693: Remove support for old-style `Makefile` and `make.bat` output in `sphinx-quickstart`.

  - \#11693: Remove the `!--no-use-make-mode`, `!-M`, `!--use-make-mode`, and `!-m` options from `sphinx-quickstart`. Patch by Adam Turner.

  - Removed the tuple interface to :py\`\!sphinx.ext.autodoc.ObjectMember\`. Patch by Adam Turner.

  - \#12630: Sphinx 8 makes two changes to the `linkcheck` configuration defaults:
    
      - `linkcheck_allow_unauthorized` is now `False` by default.
      - `linkcheck_report_timeouts_as_broken` is now `False` by default.
    
    Patch by James Addison.

  - \#12597: Change the default of `show_warning_types` from `False` to `True`. Patch by Chris Sewell.

  - \#12083: Remove support for the old (2008--2010) Sphinx 0.5 and Sphinx 0.6 `intersphinx_mapping` format. Patch by Bénédikt Tran and Adam Turner.

  - \#12096: Do not overwrite user-supplied files when copying assets unless forced with `force=True`. Patch by Adam Turner.

  - \#12646: Remove :py\`\!sphinx.util.inspect.isNewType\`. Use `isinstance(obj, typing.NewType)` instead on Python 3.10 and newer. Patch by Adam Turner.

  - Remove the long-deprecated (since Sphinx 2) alias to :py\`\!VersionChange\` in :py`!sphinx.directives.other` (Deprecated since Sphinx 2). Use :py\`\!sphinx.domains.changeset.VersionChange\` directly. Patch by Adam Turner.

### Deprecated

  - \#12643: Renamed `sphinx.ext.intersphinx.normalize_intersphinx_mapping` to `sphinx.ext.intersphinx.validate_intersphinx_mapping`. The old name will be removed in Sphinx 10. Patch by Adam Turner.
  - \#12650, \#12686, \#12690: Extend the deprecation for string methods on :py\`\~pathlib.Path\` objects to Sphinx 9. Use :py\`os.fspath\` to convert :py\`\~pathlib.Path\` objects to strings, or :py\`\~pathlib.Path\`'s methods to work with path objects. Patch by Adam Turner.

---

8.1.md

---

# Sphinx 8.1

## Release 8.1.3 (released Oct 13, 2024)

### Bugs fixed

  - \#13013: Restore support for <span class="title-ref">\!cut\_lines</span> with no object type. Patch by Adam Turner.

## Release 8.1.2 (released Oct 12, 2024)

### Bugs fixed

  - \#13012: Expose <span class="title-ref">sphinx.errors.ExtensionError</span> in `sphinx.util` for backwards compatibility. This will be removed in Sphinx 9, as exposing the exception in `sphinx.util` was never intentional. <span class="title-ref">\!ExtensionError</span> has been part of `sphinx.errors` since Sphinx 0.9. Patch by Adam Turner.

## Release 8.1.1 (released Oct 11, 2024)

### Bugs fixed

  - \#13006: Use the preferred <https://www.cve.org/> URL for the :rst`:cve: <cve>` role. Patch by Hugo van Kemenade.
  - \#13007: LaTeX: Improve resiliency when the required `fontawesome` or `fontawesome5` packages are not installed. Patch by Jean-François B.

## Release 8.1.0 (released Oct 10, 2024)

### Dependencies

  - \#12756: Add lower-bounds to the `sphinxcontrib-*` dependencies. Patch by Adam Turner.
  - \#12833: Update the LaTeX `parskip` package from 2001 to 2018. Patch by Jean-François B.

### Incompatible changes

  - \#12763: Remove unused internal class `sphinx.util.Tee`. Patch by Adam Turner.
  - \#12822: LaTeX: for Unicode engines, the \[fvset\](\#fvset) default is changed to `'\\fvset{fontsize=auto}'` from `'\\fvset{fontsize=\\small}'`. Code-blocks are unchanged as FreeMono is now loaded with `Scale=0.9`. An adjustment to existing projects is needed only if they used a custom \[fontpkg\](\#fontpkg) configuration and did not set \[fvset\](\#fvset). Patch by Jean-François B.
  - \#12875: Disable smartquotes for languages: `zh_CN` and `zh_TW` by default. Patch by A. Rafey Khan.

### Deprecated

  - \#12762: Deprecate `sphinx.util.import_object`. Use :py\`importlib.import\_module\` instead. Patch by Adam Turner.
  - \#12766: Deprecate `sphinx.util.FilenameUniqDict` and `sphinx.util.DownloadFiles`. Patch by Adam Turner.

### Features added

  - \#11328: Mention evaluation of templated content during production of static output files. Patch by James Addison.
  - \#12704: LaTeX: make `contents <table-of-contents>`, `topic`, and `sidebar` directives separately customizable for PDF output. Patch by Jean-François B. and Bénédikt Tran.
  - \#12474: Support type-dependent search result highlighting via CSS. Patch by Tim Hoffmann.
  - \#12652: LaTeX: Add `math_numsep` support to latex builder. Patch by Thomas Fanning and Jean-François B.
  - \#12743: No longer exit on the first warning when `--fail-on-warning <sphinx-build --fail-on-warning>` is used. Instead, exit with a non-zero status if any warnings were generated during the build. Patch by Adam Turner.
  - \#12743: Add `sphinx-build --exception-on-warning`, to raise an exception when warnings are emitted during the build. Patch by Adam Turner and Jeremy Maitin-Shepard.
  - \#12907: Add `html_last_updated_use_utc` to allow using universal time (GMT/UTC) instead of local time for the date-time supplied to `html_last_updated_fmt`. Patch by Adam Turner.
  - \#12910: Copyright entries now support the `'%Y'` placeholder to substitute the current year. This is helpful for reducing the reliance on Python modules such as :py`time` or :py`datetime` in `conf.py`. See \[the docs \<config-copyright\>\](\#the-docs-\<config-copyright\>) for further detail. Patch by Adam Turner.
  - \#11781: Add roles for referencing CVEs (:rst`:cve: <cve>`) and CWEs (:rst`:cwe: <cwe>`). Patch by Hugo van Kemenade.
  - \#11809: Improve the formatting for RFC section anchors. Patch by Jakub Stasiak and Adam Turner.
  - \#12852: Support a <span class="title-ref">.Builder.supported\_linkcode</span> attribute for builders to enable use of `sphinx.ext.linkcode`-generated references. Patch by James Knight.
  - \#12949: Print configuration options that differ from the pickled environment. This can be helpful in diagnosing the cause of a full rebuild. Patch by Adam Turner.

### Bugs fixed

  - \#12514: intersphinx: fix the meaning of a negative value for `intersphinx_cache_limit`. Patch by Shengyu Zhang.
  - \#12722: LaTeX: avoid TeX reporting `Overfull \hbox` from too long strings in a codeline when the problem has actually been solved thanks to \[latexsphinxsetupforcewraps\](\#latexsphinxsetupforcewraps). Patch by Jean-François B.
  - \#12730: The `UnreferencedFootnotesDetector` transform has been improved to more consistently detect unreferenced footnotes. Note, the priority of the transform has been changed from 200 to 622, so that it now runs after the docutils `Footnotes` resolution transform. Patch by Chris Sewell.
  - \#12778: LaTeX: let \['sphinxsetup' \<latexsphinxsetup\>\](\#'sphinxsetup'-\<latexsphinxsetup\>) `div.topic_box-shadow` key if used with only one dimension set both x-offset and y-offset as per documentation. Patch by Jean-François B.
  - \#12587: Do not warn when potential ambiguity detected during Intersphinx resolution occurs due to duplicate targets that differ case-insensitively. Patch by James Addison.
  - \#12639: Fix singular and plural search results text. Patch by Hugo van Kemenade.
  - \#12645: Correctly support custom gettext output templates. Patch by Jeremy Bowman.
  - \#12717: LaTeX: let `-q <sphinx-build -q>` (quiet) option for `sphinx-build -M latexpdf` or `make latexpdf` (`O=-q`) get passed to `latexmk`. Let `-Q <sphinx-build -Q>` (silent) apply as well to the PDF build phase. Patch by Jean-François B.
  - \#12744: LaTeX: Classes injected by a custom interpreted text role now give rise to nested `\DUrole`'s, rather than a single one with comma separated classes. Patch by Jean-François B.
  - \#12831: LaTeX: avoid large voids sometimes occurring at page bottoms. Patch by Jean-François B.
  - \#11970, \#12551: singlehtml builder: make target URIs to be same-document references in the sense of `RFC 3986, §4.4 <3986#section-4.4>`, e.g., `index.html#foo` becomes `#foo`. (note: continuation of a partial fix added in Sphinx 7.3.0) Patch by James Addison (with reference to prior work by Eric Norige).
  - \#12735: Fix `695` generic classes LaTeX output formatting. Patch by Jean-François B. and Bénédikt Tran.
  - \#12782: intersphinx: fix double forward slashes when generating the inventory file URL (user-defined base URL of an intersphinx project are left untouched even if they end with double forward slashes). Patch by Bénédikt Tran.
  - \#12796: Enable parallel reading if requested, even if there are fewer than 6 documents. Patch by Matthias Geier.
  - \#12844: Restore support for `:noindex:` for the :rst`js:module` and :rst`py:module` directives. Patch by Stephen Finucane.
  - \#12916: Restore support for custom templates named with the legacy `_t` suffix during `apidoc` RST rendering (regression in 7.4.0). Patch by James Addison.
  - \#12451: Only substitute copyright notice years with values from `SOURCE_DATE_EPOCH` for entries that match the current system clock year, and disallow substitution of future years. Patch by James Addison and Adam Turner.
  - \#12905: intersphinx: fix flipped use of `intersphinx_cache_limit`, which always kept the cache for positive values, and always refreshed it for negative ones. Patch by Nico Madysa.
  - \#12888: Add a warning when document is included in multiple toctrees and ensure deterministic resolution of global toctree in parallel builds by choosing the lexicographically greatest parent document. Patch by A. Rafey Khan
  - \#12995: Significantly improve performance when building the search index for Chinese languages. Patch by Adam Turner.
  - \#12767: :py\`.Builder.write\` is typed as `final`, meaning that the `write-started` event may be relied upon by extensions. A new :py\`.Builder.write\_documents\` method has been added to control how documents are written. This is intended for builders that do not output a file for each document. Patch by Adam Turner.

### Testing

  - \#12141: Migrate from the deprecated `karma` JavaScript test framework to the actively-maintained `jasmine` framework. Test coverage is unaffected. Patch by James Addison.

---

index.md

---

# Changelog

## Release 8.2.0 (in development)

### Dependencies

  - \#13000: Drop Python 3.10 support.

### Incompatible changes

### Deprecated

  - \#13037: Deprecate the `SingleHTMLBuilder.fix_refuris` method. Patch by James Addison.

### Features added

### Bugs fixed

  - \#13060: HTML Search: use `Map` to store per-file term scores. Patch by James Addison

### Testing

## Prior releases

<div class="toctree" data-maxdepth="2">

8.1 8.0 7.4 7.3 7.2 7.1 7.0 6.2 6.1 6.0 5.3 5.2 5.1 5.0 4.5 4.4 4.3 4.2 4.1 4.0 3.5 3.4 3.3 3.2 3.1 3.0 2.4 2.3 2.2 2.1 2.0 1.8 1.7 1.6 1.5 1.4 1.3 1.2 1.1 1.0 0.6 0.5 0.4 0.3 0.2 0.1

</div>

---

builders.md

---

# Configuring builders

## Discover builders by entry point

<div class="versionadded">

1.6

</div>

`builder` extensions can be discovered by means of [entry points](https://setuptools.pypa.io/en/latest/userguide/entry_point.html) so that they do not have to be listed in the `extensions` configuration value.

Builder extensions should define an entry point in the `"sphinx.builders"` group. The name of the entry point needs to match your builder's <span class="title-ref">\~.Builder.name</span> attribute, which is the name passed to the `sphinx-build --builder` option. The entry point value should equal the dotted name of the extension module. Here is an example of how an entry point for 'mybuilder' can be defined in the extension's `pyproject.toml`

`` `toml    [project.entry-points."sphinx.builders"]    mybuilder = "my.extension.module"  Note that it is still necessary to register the builder using ``<span class="title-ref"> </span>\~.Sphinx.add\_builder\` in the extension's <span class="title-ref">setup</span> function.

---

index.md

---

# How-tos

<div class="toctree" data-maxdepth="1">

setup\_extension builders

</div>

---

setup_extension.md

---

# Depend on another extension

Sometimes your extension depends on the functionality of another Sphinx extension. Most Sphinx extensions are activated in a project's `conf.py` file, but this is not available to you as an extension developer.

<div class="module" data-no-index="">

sphinx.application

</div>

To ensure that another extension is activated as a part of your own extension, use the <span class="title-ref">sphinx.application.Sphinx.setup\_extension</span> method. This will activate another extension at run-time, ensuring that you have access to its functionality.

For example, the following code activates the `sphinx.ext.autodoc` extension:

`` `python     def setup(app):         app.setup_extension('sphinx.ext.autodoc')  > **Note** >  Since your extension will depend on another, make sure to include it as a part of your extension's installation requirements. ``\`

---

index.md

---

# HTML theme development

<div class="versionadded">

0.6

</div>

\> **Note** \> This document provides information about creating your own theme. If you simply wish to use a pre-existing HTML themes, refer to \[/usage/theming\](/usage/theming.md).

Sphinx supports changing the appearance of its HTML output via *themes*. A theme is a collection of HTML templates, stylesheet(s) and other static files. Additionally, it has a configuration file which specifies from which theme to inherit, which highlighting style to use, and what options exist for customizing the theme's look and feel.

Themes are meant to be project-unaware, so they can be used for different projects without change.

\> **Note** \> See \[dev-extensions\](\#dev-extensions) for more information that may be helpful in developing themes.

## Creating themes

Themes take the form of either a directory or a zipfile (whose name is the theme name), containing the following:

  - Either a `theme.toml` file (preferred) or a `theme.conf` file.
  - HTML templates, if needed.
  - A `static/` directory containing any static files that will be copied to the output static directory on build. These can be images, styles, script files.

### Theme configuration (`theme.toml`)

The `theme.toml` file is a [TOML](https://toml.io/en/) document, containing two tables: `[theme]` and `[options]`.

The `[theme]` table defines the theme's settings:

  - **inherit** (string): The name of the base theme from which to inherit settings, options, templates, and static files. All static files from theme 'ancestors' will be used. The theme will use all options defined in inherited themes. Finally, inherited themes will be used to locate missing templates (for example, if `"basic"` is used as the base theme, most templates will already be defined).
    
    If set to `"none"`, the theme will not inherit from any other theme. Inheritance is recursive, forming a chain of inherited themes (e.g. `default` -\> `classic` -\> `basic` -\> `none`).

  - **stylesheets** (list of strings): A list of CSS filenames which will be included in generated HTML header. Setting the `html_style` config value will override this setting.
    
    Other mechanisms for including multiple stylesheets include `@import` in CSS or using a custom HTML template with appropriate `<link rel="stylesheet">` tags.

  - **sidebars** (list of strings): A list of sidebar templates. This can be overridden by the user via the `html_sidebars` config value.

  - **pygments\_style** (table): A TOML table defining the names of Pygments styles to use for highlighting syntax. The table has two recognised keys: `default` and `dark`. The style defined in the `dark` key will be used when the CSS media query `(prefers-color-scheme: dark)` evaluates to true.
    
    `[theme.pygments_style.default]` can be overridden by the user via the `pygments_style` config value.

The `[options]` table defines the options for the theme. It is structured such that each key-value pair corresponds to a variable name and the corresponding default value. These options can be overridden by the user in `html_theme_options` and are accessible from all templates as `theme_<name>`.

<div class="versionadded">

7.3 `theme.toml` support.

</div>

Exemplar `theme.toml` file:

`` `toml    [theme]    inherit = "basic"    stylesheets = [        "main-CSS-stylesheet.css",    ]    sidebars = [        "localtoc.html",        "relations.html",        "sourcelink.html",        "searchbox.html",    ]    # Style names from https://pygments.org/styles/    pygments_style = { default = "style_name", dark = "dark_style" }     [options]    variable = "default value"  Theme configuration ( ``theme.conf`)`\` \~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~

The `theme.conf` file is in INI format\[1\] (readable by the standard Python `configparser` module) and has the following structure:

`` `ini     [theme]     inherit = base theme     stylesheet = main CSS name     pygments_style = stylename     sidebars = localtoc.html, relations.html, sourcelink.html, searchbox.html      [options]     variable = default value  * The **inherit** setting gives the name of a "base theme", or ``none`.  The   base theme will be used to locate missing templates (most themes will not have   to supply most templates if they use`basic`as the base theme), its options   will be inherited, and all of its static files will be used as well. If you   want to also inherit the stylesheet, include it via CSS'`@import`in your   own.  * The **stylesheet** setting gives a list of CSS filenames separated commas which   will be referenced in the HTML header.  You can also use CSS'`@import`technique to include one from the other, or use a custom HTML template that   adds`\<link rel="stylesheet"\>``tags as necessary.  Setting the   :confval:`html_style` config value will override this setting.  * The **pygments_style** setting gives the name of a Pygments style to use for   highlighting.  This can be overridden by the user in the   :confval:`pygments_style` config value.  * The **pygments_dark_style** setting gives the name of a Pygments style to use   for highlighting when the CSS media query``(prefers-color-scheme: dark)``evaluates to true. It is injected into the page using   `~sphinx.application.Sphinx.add_css_file`.  * The **sidebars** setting gives the comma separated list of sidebar templates   for constructing sidebars.  This can be overridden by the user in the   :confval:`html_sidebars` config value.  * The **options** section contains pairs of variable names and default values.   These options can be overridden by the user in :confval:`html_theme_options`   and are accessible from all templates as``[theme]()\<name\>`.  .. versionadded:: 1.7    sidebar settings  .. versionchanged:: 5.1     The stylesheet setting accepts multiple CSS filenames  Convert`theme.conf`to`theme.toml`  `\` \~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~

INI-style theme configuration files (`theme.conf`) can be converted to TOML via a helper programme distributed with Sphinx. This is intended for one-time use, and may be removed without notice in a future version of Sphinx.

`` `console    $ python -m sphinx.theming conf_to_toml [THEME DIRECTORY PATH]  The required argument is a path to a directory containing a ``theme.conf`file.`<span class="title-ref"> The programme will write a </span><span class="title-ref">theme.toml</span><span class="title-ref"> file in the same directory, and will not modify the original </span><span class="title-ref">theme.conf</span>\` file.

<div class="versionadded">

7.3

</div>

## Distribute your theme as a Python package

As a way to distribute your theme, you can use a Python package. This makes it easier for users to set up your theme.

To distribute your theme as a Python package, please define an entry point called `sphinx.html_themes` in your `pyproject.toml` file, and write a `setup()` function to register your theme using the <span class="title-ref">\~sphinx.application.Sphinx.add\_html\_theme</span> API:

`` `toml    # pyproject.toml     [project.entry-points."sphinx.html_themes"]    name_of_theme = "your_theme_package"  .. code-block:: python      # your_theme_package.py     from pathlib import Path      def setup(app):         app.add_html_theme('name_of_theme', Path(__file__).resolve().parent)  If your theme package contains two or more themes, please call ``<span class="title-ref"> </span><span class="title-ref">add\_html\_theme()</span>\` twice or more.

<div class="versionadded">

1.2 'sphinx\_themes' entry\_points feature.

</div>

<div class="deprecated">

1.6 `sphinx_themes` entry\_points has been deprecated.

</div>

<div class="versionadded">

1.6 `sphinx.html_themes` entry\_points feature.

</div>

## Styling with CSS

The `!stylesheets` setting can be used to add custom CSS files to a theme.

\> **Caution** \> The structure of the HTML elements and their classes are currently not a well-defined public API. Please infer them from inspecting the built HTML pages. While we cannot guarantee full stability, they tend to be fairly stable.

### Styling search result entries by category

<div class="versionadded">

8.0

</div>

\> **Note** \> The CSS classes named below are generated by Sphinx's standalone search code. If you are using a third-party search provider, such as [ReadTheDocs](https://docs.readthedocs.io/), to provide search results, then the theming options available may vary.

The search result items have classes indicating the context in which the search term was found. You can use the CSS selectors:

  - `ul.search li.kind-index`: For results in an index, such as the glossary
  - `ul.search li.kind-object`: For results in source code, like Python function definitions
  - `ul.search li.kind-title`: For results found in section headings
  - `ul.search li.kind-text`: For results found anywhere else in the documentation text

As a base for inheritance by other themes, the `basic` theme is intentionally minimal and does not define CSS rules using these. Derived themes are encouraged to use these selectors as they see fit. For example, the following stylesheet adds contextual icons to the search result list:

`` `css     ul.search {         padding-left: 30px;     }     ul.search li {         padding: 5px 0 5px 10px;         list-style-type: "\25A1";  /* Unicode: White Square */     }     ul.search li.kind-index {         list-style-type: "\1F4D1";  /* Unicode: Bookmark Tabs */     }     ul.search li.kind-object {         list-style-type: "\1F4E6";  /* Unicode: Package */     }     ul.search li.kind-title {         list-style-type: "\1F4C4";  /* Unicode: Page Facing Up */     }     ul.search li.kind-text {         list-style-type: "\1F4C4";  /* Unicode: Page Facing Up */     }   Templating ``\` ----------

<div class="toctree" hidden="">

templating

</div>

The \[guide to templating \<templating\>\](guide to templating \<templating\>.md) is helpful if you want to write your own templates. What is important to keep in mind is the order in which Sphinx searches for templates:

  - First, in the user's `templates_path` directories.
  - Then, in the selected theme.
  - Then, in its base theme, its base's base theme, etc.

When extending a template in the base theme with the same name, use the theme name as an explicit directory: `{% extends "basic/layout.html" %}`. From a user `templates_path` template, you can still use the "exclamation mark" syntax as \[described in the templating document \<templating-primer\>\](\#described-in-the-templating-document-\<templating-primer\>).

### Static templates

Since theme options are meant for the user to configure a theme more easily, without having to write a custom stylesheet, it is necessary to be able to template static files as well as HTML files. Therefore, Sphinx supports so-called "static templates", like this:

If the name of a file in the `static/` directory of a theme (or in the user's static path) ends with `.jinja` or `_t`, it will be processed by the template engine. The suffix will be removed from the final file name.

For example, a theme with a `static/theme_styles.css.jinja` file could use templating to put options into the stylesheet. When a documentation project is built with that theme, the output directory will contain a `_static/theme_styles.css` file where all template tags have been processed.

<div class="versionchanged">

7.4

The preferred suffix for static templates is now `.jinja`, in line with the Jinja project's [recommended file extension]().

The `_t` file suffix for static templates is now considered 'legacy', and support may eventually be removed.

If a static template with either a `_t` suffix or a `.jinja` suffix is detected, it will be processed by the template engine, with the suffix removed from the final file name.

</div>

### Use custom page metadata in HTML templates

Any key / value pairs in \[field lists \</usage/restructuredtext/field-lists\>\](field lists \</usage/restructuredtext/field-lists\>.md) that are placed *before* the page's title will be available to the Jinja template when building the page within the <span class="title-ref">meta</span> attribute. For example, if a page had the following text before its first title:

`` `rst     :mykey: My value      My first title     --------------  Then it could be accessed within a Jinja template like so:  .. code-block:: jinja      {%- if meta is mapping %}         {{ meta.get("mykey") }}     {%- endif %}  Note the check that ``meta`is a dictionary ("mapping" in Jinja`\` terminology) to ensure that using it in this way is valid.

### Defining custom template functions

Sometimes it is useful to define your own function in Python that you wish to then use in a template. For example, if you'd like to insert a template value with logic that depends on the user's configuration in the project, or if you'd like to include non-trivial checks and provide friendly error messages for incorrect configuration in the template.

To define your own template function, you'll need to define two functions inside your module:

  - A **page context event handler** (or **registration**) function. This is connected to the <span class="title-ref">.Sphinx</span> application via an event callback.
  - A **template function** that you will use in your Jinja template.

First, define the registration function, which accepts the arguments for `html-page-context`.

Within the registration function, define the template function that you'd like to use within Jinja. The template function should return a string or Python objects (lists, dictionaries) with strings inside that Jinja uses in the templating process

\> **Note** \> The template function will have access to all of the variables that are passed to the registration function.

At the end of the registration function, add the template function to the Sphinx application's context with `context['template_func'] = template_func`.

Finally, in your extension's `setup()` function, add your registration function as a callback for `html-page-context`.

`` `python    # The registration function     def setup_my_func(app, pagename, templatename, context, doctree):         # The template function         def my_func(mystring):             return "Your string is %s" % mystring         # Add it to the page's context         context['my_func'] = my_func      # Your extension's setup function     def setup(app):         app.connect("html-page-context", setup_my_func)  Now, you will have access to this function in jinja like so:  .. code-block:: jinja     <div>    {{ my_func("some string") }}    </div>   Add your own static files to the build assets ``\` \~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~

By default, Sphinx copies static files on the `static/` directory of the template directory. However, if your package needs to place static files outside of the `static/` directory for some reasons, you need to copy them to the `_static/` directory of HTML outputs manually at the build via an event hook. Here is an example of code to accomplish this:

`` `python    import shutil     def copy_custom_files(app, exc):        if app.builder.format == 'html' and not exc:            static_dir = app.outdir / '_static'            shutil.copyfile('path/to/myextension/_static/myjsfile.js', static_dir)     def setup(app):        app.connect('build-finished', copy_custom_files)   Inject JavaScript based on user configuration ``\` \~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~\~

If your extension makes use of JavaScript, it can be useful to allow users to control its behavior using their Sphinx configuration. However, this can be difficult to do if your JavaScript comes in the form of a static library (which will not be built with Jinja).

There are two ways to inject variables into the JavaScript space based on user configuration.

First, you may append `_t` to the end of any static files included with your extension. This will cause Sphinx to process these files with the templating engine, allowing you to embed variables and control behavior.

For example, the following JavaScript structure:

`` `none    mymodule/    ├── _static    │   └── myjsfile.js_t    └── mymodule.py  Will result in the following static file placed in your HTML's build output:  .. code-block:: none     _build/    └── html        └── _static            └── myjsfile.js  See [theming-static-templates](#theming-static-templates) for more information.  Second, you may use the `.Sphinx.add_js_file` method without pointing it ``\` to a file. Normally, this method is used to insert a new JavaScript file into your site. However, if you do *not* pass a file path, but instead pass a string to the "body" argument, then this text will be inserted as JavaScript into your site's head. This allows you to insert variables into your project's JavaScript from Python.

For example, the following code will read in a user-configured value and then insert this value as a JavaScript variable, which your extension's JavaScript code may use:

`` `python     # This function reads in a variable and inserts it into JavaScript     def add_js_variable(app):         # This is a configuration that you've specified for users in `conf.py`         js_variable = app.config['my_javascript_variable']         js_text = "var my_variable = '%s';" % js_variable         app.add_js_file(None, body=js_text)     # We connect this function to the step after the builder is initialized     def setup(app):         # Tell Sphinx about this configuration variable         app.add_config_value('my_javascript_variable', 0, 'html')         # Run the function after the builder is initialized         app.connect('builder-inited', add_js_variable)  As a result, in your theme you can use code that depends on the presence of ``<span class="title-ref"> this variable. Users can control the variable's value by defining it in their :file:\`conf.py</span> file.

1.  It is not an executable Python file, as opposed to `conf.py`, because that would pose an unnecessary security risk if themes are shared.

---

templating.md

---

# Templating

Sphinx uses the [Jinja](https://jinja.palletsprojects.com/) templating engine for its HTML templates. Jinja is a text-based engine, inspired by Django templates, so anyone having used Django will already be familiar with it. It also has excellent documentation for those who need to make themselves familiar with it.

## Do I need to use Sphinx's templates to produce HTML?

No. You have several other options:

  - You can write a <span class="title-ref">\~sphinx.application.TemplateBridge</span> subclass that calls your template engine of choice, and set the `template_bridge` configuration value accordingly.
  - You can \[write a custom builder \<writing-builders\>\](\#write-a-custom-builder-\<writing-builders\>) that derives from <span class="title-ref">\~sphinx.builders.html.StandaloneHTMLBuilder</span> and calls your template engine of choice.
  - You can use the <span class="title-ref">\~sphinxcontrib.serializinghtml.PickleHTMLBuilder</span> that produces pickle files with the page contents, and postprocess them using a custom tool, or use them in your Web application.

## Jinja/Sphinx Templating Primer

The default templating language in Sphinx is Jinja. It's Django/Smarty inspired and easy to understand. The most important concept in Jinja is `template
inheritance`, which means that you can overwrite only specific blocks within a template, customizing it while also keeping the changes at a minimum.

To customize the output of your documentation you can override all the templates (both the layout templates and the child templates) by adding files with the same name as the original filename into the template directory of the structure the Sphinx quickstart generated for you.

Sphinx will look for templates in the folders of `templates_path` first, and if it can't find the template it's looking for there, it falls back to the selected theme's templates.

A template contains **variables**, which are replaced with values when the template is evaluated, **tags**, which control the logic of the template and **blocks** which are used for template inheritance.

Sphinx's *basic* theme provides base templates with a couple of blocks it will fill with data. These are located in the `themes/basic` subdirectory of the Sphinx installation directory, and used by all builtin Sphinx themes. Templates with the same name in the `templates_path` override templates supplied by the selected theme.

For example, to add a new link to the template area containing related links all you have to do is to add a new template called `layout.html` with the following contents:

``` html+jinja
{% extends "!layout.html" %}
{% block rootrellink %}
    <li><a href="https://project.invalid/">Project Homepage</a> &raquo;</li>
    {{ super() }}
{% endblock %}
```

By prefixing the name of the overridden template with an exclamation mark, Sphinx will load the layout template from the underlying HTML theme.

<div class="important">

<div class="title">

Important

</div>

If you override a block, call `{{ super() }}` somewhere to render the block's original content in the extended template -- unless you don't want that content to show up.

</div>

## Working with the builtin templates

The builtin **basic** theme supplies the templates that all builtin Sphinx themes are based on. It has the following elements you can override or use:

### Blocks

The following blocks exist in the `layout.html` template:

  - `doctype`  
    The doctype of the output format. By default this is XHTML 1.0 Transitional as this is the closest to what Sphinx and Docutils generate and it's a good idea not to change it unless you want to switch to HTML 5 or a different but compatible XHTML doctype.

  - `linktags`  
    This block adds a couple of `<link>` tags to the head section of the template.

  - `extrahead`  
    This block is empty by default and can be used to add extra contents into the `<head>` tag of the generated HTML file. This is the right place to add references to JavaScript or extra CSS files.

  - `relbar1`, `relbar2`  
    This block contains the *relation bar*, the list of related links (the parent documents on the left, and the links to index, modules etc. on the right). `relbar1` appears before the document, `relbar2` after the document. By default, both blocks are filled; to show the relbar only before the document, you would override `relbar2` like this:
    
    ``` html+jinja
    {% block relbar2 %}{% endblock %}
    ```

  - `rootrellink`, `relbaritems`  
    Inside the relbar there are three sections: The `rootrellink`, the links from the documentation and the custom `relbaritems`. The `rootrellink` is a block that by default contains a list item pointing to the root document by default, the `relbaritems` is an empty block. If you override them to add extra links into the bar make sure that they are list items and end with the <span class="title-ref">reldelim1</span>.

  - `document`  
    The contents of the document itself. It contains the block "body" where the individual content is put by subtemplates like `page.html`.
    
    <div class="note">
    
    <div class="title">
    
    Note
    
    </div>
    
    In order for the built-in JavaScript search to show a page preview on the results page, the document or body content should be wrapped in an HTML element containing the `role="main"` attribute. For example:
    
    ``` html+jinja
    <div role="main">
    ```
    
    > {% block document %}{% endblock %}
    
    \</div\>
    
    </div>

  - `sidebar1`, `sidebar2`  
    A possible location for a sidebar. `sidebar1` appears before the document and is empty by default, `sidebar2` after the document and contains the default sidebar. If you want to swap the sidebar location override this and call the `sidebar` helper:
    
    ``` html+jinja
    {% block sidebar1 %}{{ sidebar() }}{% endblock %}
    {% block sidebar2 %}{% endblock %}
    ```
    
    (The `sidebar2` location for the sidebar is needed by the `sphinxdoc.css` stylesheet, for example.)

  - `sidebarlogo`  
    The logo location within the sidebar. Override this if you want to place some content at the top of the sidebar.

  - `footer`  
    The block for the footer div. If you want a custom footer or markup before or after it, override this one.

The following four blocks are *only* used for pages that do not have assigned a list of custom sidebars in the `html_sidebars` config value. Their use is deprecated in favor of separate sidebar templates, which can be included via `html_sidebars`.

  - `sidebartoc`  
    The table of contents within the sidebar.
    
    <div class="deprecated">
    
    1.0
    
    </div>

  - `sidebarrel`  
    The relation links (previous, next document) within the sidebar.
    
    <div class="deprecated">
    
    1.0
    
    </div>

  - `sidebarsourcelink`  
    The "Show source" link within the sidebar (normally only shown if this is enabled by `html_show_sourcelink`).
    
    <div class="deprecated">
    
    1.0
    
    </div>

  - `sidebarsearch`  
    The search box within the sidebar. Override this if you want to place some content at the bottom of the sidebar.
    
    <div class="deprecated">
    
    1.0
    
    </div>

### Configuration Variables

Inside templates you can set a couple of variables used by the layout template using the `{% set %}` tag:

<div class="data">

reldelim1

The delimiter for the items on the left side of the related bar. This defaults to `' &raquo;'` Each item in the related bar ends with the value of this variable.

</div>

<div class="data">

reldelim2

The delimiter for the items on the right side of the related bar. This defaults to `' |'`. Each item except of the last one in the related bar ends with the value of this variable.

</div>

Overriding works like this:

``` html+jinja
{% extends "!layout.html" %}
{% set reldelim1 = ' &gt;' %}
```

<div class="data">

script\_files

Add additional script files here, like this:

``` html+jinja
{% set script_files = script_files + ["_static/myscript.js"] %}
```

<div class="deprecated">

1.8.0

Please use `.Sphinx.add_js_file()` instead.

</div>

</div>

### Helper Functions

Sphinx provides various Jinja functions as helpers in the template. You can use them to generate links or output multiply used elements.

<div class="function">

pathto(document)

Return the path to a Sphinx document as a URL. Use this to refer to built documents.

</div>

<div class="function" data-no-index="">

pathto(file, 1)

Return the path to a *file* which is a filename relative to the root of the generated output. Use this to refer to static files.

</div>

<div class="function">

hasdoc(document)

Check if a document with the name *document* exists.

</div>

<div class="function">

sidebar()

Return the rendered sidebar.

</div>

<div class="function">

relbar()

Return the rendered relation bar.

</div>

<div class="function">

warning(message)

Emit a warning message.

</div>

### Global Variables

These global variables are available in every template and are safe to use. There are more, but most of them are an implementation detail and might change in the future.

<div class="data">

builder

The name of the builder (e.g. `html` or `htmlhelp`).

</div>

<div class="data">

copyright

The value of `copyright`.

</div>

<div class="data">

docstitle

The title of the documentation (the value of `html_title`), except when the "single-file" builder is used, when it is set to `None`.

</div>

<div class="data">

embedded

True if the built HTML is meant to be embedded in some viewing application that handles navigation, not the web browser, such as for HTML help or Qt help formats. In this case, the sidebar is not included.

</div>

<div class="data">

favicon\_url

The relative path to the HTML favicon image from the current document, or URL to the favicon, or `''`.

<div class="versionadded">

4.0

</div>

</div>

<div class="data">

file\_suffix

The value of the builder's <span class="title-ref">\~.SerializingHTMLBuilder.out\_suffix</span> attribute, i.e. the file name extension that the output files will get. For a standard HTML builder, this is usually `.html`.

</div>

<div class="data">

has\_source

True if the reStructuredText document sources are copied (if `html_copy_source` is `True`).

</div>

<div class="data">

language

The value of `language`.

</div>

<div class="data">

last\_updated

The build date.

</div>

<div class="data">

logo\_url

The relative path to the HTML logo image from the current document, or URL to the logo, or `''`.

<div class="versionadded">

4.0

</div>

</div>

<div class="data">

master\_doc root\_doc

The value of `master_doc` or `root_doc` (aliases), for usage with <span class="title-ref">pathto</span>.

<div class="versionadded">

4.0 The <span class="title-ref">\!root\_doc</span> template variable.

</div>

</div>

<div class="data">

pagename

The "page name" of the current file, i.e. either the document name if the file is generated from a reStructuredText source, or the equivalent hierarchical name relative to the output directory (`[directory/]filename_without_extension`).

</div>

<div class="data">

project

The value of `project`.

</div>

<div class="data">

release

The value of `release`.

</div>

<div class="data">

rellinks

A list of links to put at the left side of the relbar, next to "next" and "prev". This usually contains links to the general index and other indices, such as the Python module index. If you add something yourself, it must be a tuple `(pagename, link title, accesskey, link text)`.

</div>

<div class="data">

shorttitle

The value of `html_short_title`.

</div>

<div class="data">

show\_source

True if `html_show_sourcelink` is `True`.

</div>

<div class="data">

sphinx\_version

The version of Sphinx used to build represented as a string for example "3.5.1".

</div>

<div class="data">

sphinx\_version\_tuple

The version of Sphinx used to build represented as a tuple of five elements. For Sphinx version 3.5.1 beta 3 this would be `(3, 5, 1, 'beta', 3)`. The fourth element can be one of: `alpha`, `beta`, `rc`, `final`. `final` always has 0 as the last element.

<div class="versionadded">

4.2

</div>

</div>

<div class="data">

docutils\_version\_info

The version of Docutils used to build represented as a tuple of five elements. For Docutils version 0.16.1 beta 2 this would be `(0, 16, 1, 'beta', 2)`. The fourth element can be one of: `alpha`, `beta`, `candidate`, `final`. `final` always has 0 as the last element.

<div class="versionadded">

5.0.2

</div>

</div>

<div class="data">

styles

A list of the names of the main stylesheets as given by the theme or `html_style`.

<div class="versionadded">

5.1

</div>

</div>

<div class="data">

title

The title of the current document, as used in the `<title>` tag.

</div>

<div class="data">

use\_opensearch

The value of `html_use_opensearch`.

</div>

<div class="data">

version

The value of `version`.

</div>

In addition to these values, there are also all **theme options** available (prefixed by `theme_`), as well as the values given by the user in `html_context`.

In documents that are created from source files (as opposed to automatically-generated files like the module index, or documents that already are in HTML form), these variables are also available:

<div class="data">

body

A string containing the content of the page in HTML form as produced by the HTML builder, before the theme is applied.

</div>

<div class="data">

display\_toc

A boolean that is True if the toc contains more than one entry.

</div>

<div class="data">

meta

Document metadata (a dictionary), see \[metadata\](\#metadata).

</div>

<div class="data">

metatags

A string containing the page's HTML `meta` tags.

</div>

<div class="data">

next

The next document for the navigation. This variable is either false or has two attributes `link` and `title`. The title contains HTML markup. For example, to generate a link to the next page, you can use this snippet:

``` html+jinja
{% if next %}
<a href="{{ next.link|e }}">{{ next.title }}</a>
{% endif %}
```

</div>

<div class="data">

page\_source\_suffix

The suffix of the file that was rendered. Since we support a list of `source_suffix`, this will allow you to properly link to the original source file.

</div>

<div class="data">

parents

A list of parent documents for navigation, structured like the <span class="title-ref">next</span> item.

</div>

<div class="data">

prev

Like <span class="title-ref">next</span>, but for the previous page.

</div>

<div class="data">

sourcename

The name of the copied source file for the current document. This is only nonempty if the `html_copy_source` value is `True`. This has empty value on creating automatically-generated files.

</div>

<div class="data">

toc

The local table of contents for the current page, rendered as HTML bullet lists.

</div>

<div class="data">

toctree

A callable yielding the global TOC tree containing the current page, rendered as HTML bullet lists. Optional keyword arguments:

  - `collapse`  
    If true, all TOC entries that are not ancestors of the current page are collapsed. `True` by default.

  - `maxdepth`  
    The maximum depth of the tree. Set it to `-1` to allow unlimited depth. Defaults to the max depth selected in the toctree directive.

  - `titles_only`  
    If true, put only top-level document titles in the tree. `False` by default.

  - `includehidden`  
    If true, the ToC tree will also contain hidden entries. `False` by default.

</div>

---

index.md

---

# Extending Sphinx

This guide is aimed at giving a quick introduction for those wishing to develop their own extensions for Sphinx. Sphinx possesses significant extensibility capabilities including the ability to hook into almost every point of the build process. If you simply wish to use Sphinx with existing extensions, refer to \[/usage/index\](/usage/index.md). For a more detailed discussion of the extension interface see \[/extdev/index\](/extdev/index.md).

<div class="toctree" data-maxdepth="2">

tutorials/index howtos/index html\_themes/index

</div>

---

adding_domain.md

---

# Adding a reference domain

The objective of this tutorial is to illustrate roles, directives and domains. Once complete, we will be able to use this extension to describe a recipe and reference that recipe from elsewhere in our documentation.

\> **Note** \> This tutorial is based on a guide first published on [opensource.com]() and is provided here with the original author's permission.

> 

## Overview

We want the extension to add the following to Sphinx:

  - A `recipe` `directive`, containing some content describing the recipe steps, along with a `:contains:` option highlighting the main ingredients of the recipe.
  - A `ref` `role`, which provides a cross-reference to the recipe itself.
  - A `recipe` `domain`, which allows us to tie together the above role and domain, along with things like indices.

For that, we will need to add the following elements to Sphinx:

  - A new directive called `recipe`
  - New indexes to allow us to reference ingredient and recipes
  - A new domain called `recipe`, which will contain the `recipe` directive and `ref` role

## Prerequisites

We need the same setup as in \[the previous extensions \<tutorial-extend-build\>\](\#the-previous-extensions-\<tutorial-extend-build\>). This time, we will be putting out extension in a file called `recipe.py`.

Here is an example of the folder structure you might obtain:

`` `text       └── source           ├── _ext           │   └── recipe.py           ├── conf.py           └── index.rst   Writing the extension ``\` ---------------------

Open `recipe.py` and paste the following code in it, all of which we will explain in detail shortly:

<div class="literalinclude" data-language="python" data-linenos="">

examples/recipe.py

</div>

Let's look at each piece of this extension step-by-step to explain what's going on.

**The directive class**

The first thing to examine is the `RecipeDirective` directive:

<div class="literalinclude" data-language="python" data-linenos="" data-pyobject="RecipeDirective">

examples/recipe.py

</div>

Unlike \[tutorial-extending-syntax\](\#tutorial-extending-syntax) and \[tutorial-extend-build\](\#tutorial-extend-build), this directive doesn't derive from <span class="title-ref">docutils.parsers.rst.Directive</span> and doesn't define a `run` method. Instead, it derives from <span class="title-ref">sphinx.directives.ObjectDescription</span> and defines `handle_signature` and `add_target_and_index` methods. This is because `ObjectDescription` is a special-purpose directive that's intended for describing things like classes, functions, or, in our case, recipes. More specifically, `handle_signature` implements parsing the signature of the directive and passes on the object's name and type to its superclass, while `add_target_and_index` adds a target (to link to) and an entry to the index for this node.

We also see that this directive defines `has_content`, `required_arguments` and `option_spec`. Unlike the `TodoDirective` directive added in the \[previous tutorial \<tutorial-extend-build\>\](\#previous-tutorial-\<tutorial-extend-build\>), this directive takes a single argument, the recipe name, and an option, `contains`, in addition to the nested reStructuredText in the body.

**The index classes**

<div class="currentmodule">

sphinx.domains

</div>

<div class="todo">

Add brief overview of indices

</div>

<div class="literalinclude" data-language="python" data-linenos="" data-pyobject="IngredientIndex">

examples/recipe.py

</div>

<div class="literalinclude" data-language="python" data-linenos="" data-pyobject="RecipeIndex">

examples/recipe.py

</div>

Both `IngredientIndex` and `RecipeIndex` are derived from <span class="title-ref">Index</span>. They implement custom logic to generate a tuple of values that define the index. Note that `RecipeIndex` is a simple index that has only one entry. Extending it to cover more object types is not yet part of the code.

Both indices use the method <span class="title-ref">Index.generate</span> to do their work. This method combines the information from our domain, sorts it, and returns it in a list structure that will be accepted by Sphinx. This might look complicated but all it really is is a list of tuples like `('tomato', 'TomatoSoup', 'test', 'rec-TomatoSoup',...)`. Refer to the \[domain API guide \</extdev/domainapi\>\](domain API guide \</extdev/domainapi\>.md) for more information on this API.

These index pages can be referenced with the :rst`ref` role by combining the domain name and the index `name` value. For example, `RecipeIndex` can be referenced with `[recipe-recipe](#recipe-recipe)` and `IngredientIndex` can be referenced with `[recipe-ingredient](#recipe-ingredient)`.

**The domain**

A Sphinx domain is a specialized container that ties together roles, directives, and indices, among other things. Let's look at the domain we're creating here.

<div class="literalinclude" data-language="python" data-linenos="" data-pyobject="RecipeDomain">

examples/recipe.py

</div>

There are some interesting things to note about this `recipe` domain and domains in general. Firstly, we actually register our directives, roles and indices here, via the `directives`, `roles` and `indices` attributes, rather than via calls later on in `setup`. We can also note that we aren't actually defining a custom role and are instead reusing the <span class="title-ref">sphinx.roles.XRefRole</span> role and defining the <span class="title-ref">sphinx.domains.Domain.resolve\_xref</span> method. This method takes two arguments, `typ` and `target`, which refer to the cross-reference type and its target name. We'll use `target` to resolve our destination from our domain's `recipes` because we currently have only one type of node.

Moving on, we can see that we've defined `initial_data`. The values defined in `initial_data` will be copied to `env.domaindata[domain_name]` as the initial data of the domain, and domain instances can access it via `self.data`. We see that we have defined two items in `initial_data`: `recipes` and `recipe_ingredients`. Each contains a list of all objects defined (i.e. all recipes) and a hash that maps a canonical ingredient name to the list of objects. The way we name objects is common across our extension and is defined in the `get_full_qualified_name` method. For each object created, the canonical name is `recipe.<recipename>`, where `<recipename>` is the name the documentation writer gives the object (a recipe). This enables the extension to use different object types that share the same name. Having a canonical name and central place for our objects is a huge advantage. Both our indices and our cross-referencing code use this feature.

**The `setup` function**

<div class="currentmodule">

sphinx.application

</div>

\[As always \<tutorial-extend-build\>\](\#as-always-\<tutorial-extend-build\>), the `setup` function is a requirement and is used to hook the various parts of our extension into Sphinx. Let's look at the `setup` function for this extension.

<div class="literalinclude" data-language="python" data-linenos="" data-pyobject="setup">

examples/recipe.py

</div>

This looks a little different to what we're used to seeing. There are no calls to <span class="title-ref">\~Sphinx.add\_directive</span> or even <span class="title-ref">\~Sphinx.add\_role</span>. Instead, we have a single call to <span class="title-ref">\~Sphinx.add\_domain</span> followed by some initialization of the \[standard domain \</usage/domains/standard\>\](standard domain \</usage/domains/standard\>.md). This is because we had already registered our directives, roles and indexes as part of the directive itself.

## Using the extension

You can now use the extension throughout your project. For example:

``` rst
Joe's Recipes
=============

Below are a collection of my favourite recipes. I highly recommend the
:recipe[TomatoSoup](#tomatosoup) recipe in particular!

.. toctree::

   tomato-soup
```

``` rst
The recipe contains `tomato` and `cilantro`.

.. recipe:recipe:: TomatoSoup
   :contains: tomato, cilantro, salt, pepper

   This recipe is a tasty tomato soup, combine all ingredients
   and cook.
```

The important things to note are the use of the `:recipe:ref:` role to cross-reference the recipe actually defined elsewhere (using the `:recipe:recipe:` directive).

## Further reading

For more information, refer to the [docutils](https://docutils.sourceforge.io/docs/) documentation and \[/extdev/index\](/extdev/index.md).

If you wish to share your extension across multiple projects or with others, check out the \[third-party-extensions\](\#third-party-extensions) section.

---

autodoc_ext.md

---

# Developing autodoc extensions

The objective of this tutorial is to create an extension that adds support for new type for autodoc. This autodoc extension will format the `IntEnum` class from Python standard library. (module `enum`)

## Overview

We want the extension that will create auto-documentation for IntEnum. `IntEnum` is the integer enum class from standard library `enum` module.

Currently this class has no special auto documentation behavior.

We want to add following to autodoc:

  - A new `autointenum` directive that will document the `IntEnum` class.
  - The generated documentation will have all the enum possible values with names.
  - The `autointenum` directive will have an option `:hex:` which will cause the integers be printed in hexadecimal form.

## Prerequisites

We need the same setup as in \[the previous extensions \<tutorial-extend-build\>\](\#the-previous-extensions-\<tutorial-extend-build\>). This time, we will be putting out extension in a file called `autodoc_intenum.py`. The `my_enums.py` will contain the sample enums we will document.

Here is an example of the folder structure you might obtain:

`` `text       └── source           ├── _ext           │   └── autodoc_intenum.py           ├── conf.py           ├── index.rst           └── my_enums.py   Writing the extension ``\` ---------------------

Start with `setup` function for the extension.

<div class="literalinclude" data-language="python" data-linenos="" data-pyobject="setup">

examples/autodoc\_intenum.py

</div>

The <span class="title-ref">\~sphinx.application.Sphinx.setup\_extension</span> method will pull the autodoc extension because our new extension depends on autodoc. <span class="title-ref">\~sphinx.application.Sphinx.add\_autodocumenter</span> is the method that registers our new auto documenter class.

We want to import certain objects from the autodoc extension:

<div class="literalinclude" data-language="python" data-linenos="" data-lines="1-7">

examples/autodoc\_intenum.py

</div>

There are several different documenter classes such as `MethodDocumenter` or `AttributeDocumenter` available in the autodoc extension but our new class is the subclass of `ClassDocumenter` which a documenter class used by autodoc to document classes.

This is the definition of our new the auto-documenter class:

<div class="literalinclude" data-language="python" data-linenos="" data-pyobject="IntEnumDocumenter">

examples/autodoc\_intenum.py

</div>

Important attributes of the new class:

  - **objtype**  
    This attribute determines the `auto` directive name. In this case the auto directive will be `autointenum`.

  - **directivetype**  
    This attribute sets the generated directive name. In this example the generated directive will be `.. :py:class::`.

  - **priority**  
    the larger the number the higher is the priority. We want our documenter be higher priority than the parent.

  - **option\_spec**  
    option specifications. We copy the parent class options and add a new option *hex*.

Overridden members:

  - **can\_document\_member**  
    This member is important to override. It should return *True* when the passed object can be documented by this class.

  - **add\_directive\_header**  
    This method generates the directive header. We add **:final:** directive option. Remember to call **super** or no directive will be generated.

  - **add\_content**  
    This method generates the body of the class documentation. After calling the super method we generate lines for enum description.

## Using the extension

You can now use the new autodoc directive to document any `IntEnum`.

For example, you have the following `IntEnum`:

``` python
class Colors(IntEnum):
    """Colors enumerator"""
    NONE = 0
    RED = 1
    GREEN = 2
    BLUE = 3
```

This will be the documentation file with auto-documentation directive:

``` rst
.. autointenum:: my_enums.Colors
```

## Further reading

If you wish to share your extension across multiple projects or with others, check out the \[third-party-extensions\](\#third-party-extensions) section.

---

README.md

---

- orphan

# Tutorial examples

This directory contains a number of examples used in the tutorials. These are intended to be increasingly complex to demonstrate the various features of Sphinx, but should aim to be as complicated as necessary but no more. Individual sections are referenced by line numbers, meaning if you make changes to the source files, you should update the references in the documentation accordingly.

---

extending_build.md

---

# Extending the build process

The objective of this tutorial is to create a more comprehensive extension than that created in \[tutorial-extending-syntax\](\#tutorial-extending-syntax). Whereas that guide just covered writing a custom `role` and `directive`, this guide covers a more complex extension to the Sphinx build process; adding multiple directives, along with custom nodes, additional config values and custom event handlers.

To this end, we will cover a `todo` extension that adds capabilities to include todo entries in the documentation, and to collect these in a central place. This is similar to the `sphinx.ext.todo` extension distributed with Sphinx.

## Overview

<div class="note">

<div class="title">

Note

</div>

To understand the design of this extension, refer to \[important-objects\](\#important-objects) and \[build-phases\](\#build-phases).

</div>

We want the extension to add the following to Sphinx:

  - A `todo` directive, containing some content that is marked with "TODO" and only shown in the output if a new config value is set. Todo entries should not be in the output by default.
  - A `todolist` directive that creates a list of all todo entries throughout the documentation.

For that, we will need to add the following elements to Sphinx:

  - New directives, called `todo` and `todolist`.
  - New document tree nodes to represent these directives, conventionally also called `todo` and `todolist`. We wouldn't need new nodes if the new directives only produced some content representable by existing nodes.
  - A new config value `todo_include_todos` (config value names should start with the extension name, in order to stay unique) that controls whether todo entries make it into the output.
  - New event handlers: one for the `doctree-resolved` event, to replace the todo and todolist nodes, one for `env-merge-info` to merge intermediate results from parallel builds, and one for `env-purge-doc` (the reason for that will be covered later).

## Prerequisites

As with \[tutorial-extending-syntax\](\#tutorial-extending-syntax), we will not be distributing this plugin via PyPI so once again we need a Sphinx project to call this from. You can use an existing project or create a new one using `sphinx-quickstart`.

We assume you are using separate source (`source`) and build (`build`) folders. Your extension file could be in any folder of your project. In our case, let's do the following:

1.  Create an `_ext` folder in `source`
2.  Create a new Python file in the `_ext` folder called `todo.py`

Here is an example of the folder structure you might obtain:

`` `text       └── source           ├── _ext           │   └── todo.py           ├── _static           ├── conf.py           ├── somefolder           ├── index.rst           ├── somefile.rst           └── someotherfile.rst   Writing the extension ``\` ---------------------

Open `todo.py` and paste the following code in it, all of which we will explain in detail shortly:

<div class="literalinclude" data-language="python" data-linenos="">

examples/todo.py

</div>

This is far more extensive extension than the one detailed in \[tutorial-extending-syntax\](\#tutorial-extending-syntax), however, we will will look at each piece step-by-step to explain what's happening.

**The node classes**

Let's start with the node classes:

<div class="literalinclude" data-language="python" data-linenos="" data-lines="8-21">

examples/todo.py

</div>

Node classes usually don't have to do anything except inherit from the standard docutils classes defined in `docutils.nodes`. `todo` inherits from `Admonition` because it should be handled like a note or warning, `todolist` is just a "general" node.

\> **Note** \> Many extensions will not have to create their own node classes and work fine with the nodes already provided by [docutils](https://docutils.sourceforge.io/docs/ref/doctree.html) and \[Sphinx \<nodes\>\](\#sphinx ---\<nodes\>).

<div class="attention">

<div class="title">

Attention

</div>

It is important to know that while you can extend Sphinx without leaving your `conf.py`, if you declare an inherited node right there, you'll hit an unobvious :py\`\~pickle.PickleError\`. So if something goes wrong, please make sure that you put inherited nodes into a separate Python module.

For more details, see:

  - <https://github.com/sphinx-doc/sphinx/issues/6751>
  - <https://github.com/sphinx-doc/sphinx/issues/1493>
  - <https://github.com/sphinx-doc/sphinx/issues/1424>

</div>

**The directive classes**

A directive class is a class deriving usually from <span class="title-ref">docutils.parsers.rst.Directive</span>. The directive interface is also covered in detail in the [docutils documentation](https://docutils.sourceforge.io/docs/ref/rst/directives.html); the important thing is that the class should have attributes that configure the allowed markup, and a `run` method that returns a list of nodes.

Looking first at the `TodolistDirective` directive:

<div class="literalinclude" data-language="python" data-linenos="" data-lines="24-27">

examples/todo.py

</div>

It's very simple, creating and returning an instance of our `todolist` node class. The `TodolistDirective` directive itself has neither content nor arguments that need to be handled. That brings us to the `TodoDirective` directive:

<div class="literalinclude" data-language="python" data-linenos="" data-lines="30-53">

examples/todo.py

</div>

Several important things are covered here. First, as you can see, we're now subclassing the <span class="title-ref">\~sphinx.util.docutils.SphinxDirective</span> helper class instead of the usual <span class="title-ref">\~docutils.parsers.rst.Directive</span> class. This gives us access to the \[build environment instance \<important-objects\>\](\#build-environment-instance-\<important-objects\>) using the `self.env` property. Without this, we'd have to use the rather convoluted `self.state.document.settings.env`. Then, to act as a link target (from `TodolistDirective`), the `TodoDirective` directive needs to return a target node in addition to the `todo` node. The target ID (in HTML, this will be the anchor name) is generated by using `env.new_serialno` which returns a new unique integer on each call and therefore leads to unique target names. The target node is instantiated without any text (the first two arguments).

On creating admonition node, the content body of the directive are parsed using `self.state.nested_parse`. The first argument gives the content body, and the second one gives content offset. The third argument gives the parent node of parsed result, in our case the `todo` node. Following this, the `todo` node is added to the environment. This is needed to be able to create a list of all todo entries throughout the documentation, in the place where the author puts a `todolist` directive. For this case, the environment attribute `todo_all_todos` is used (again, the name should be unique, so it is prefixed by the extension name). It does not exist when a new environment is created, so the directive must check and create it if necessary. Various information about the todo entry's location are stored along with a copy of the node.

In the last line, the nodes that should be put into the doctree are returned: the target node and the admonition node.

The node structure that the directive returns looks like this:

    +--------------------+
    | target node        |
    +--------------------+
    +--------------------+
    | todo node          |
    +--------------------+
      \__+--------------------+
         | admonition title   |
         +--------------------+
         | paragraph          |
         +--------------------+
         | ...                |
         +--------------------+

**The event handlers**

Event handlers are one of Sphinx's most powerful features, providing a way to do hook into any part of the documentation process. There are many events provided by Sphinx itself, as detailed in \[the API guide \<events\>\](\#the-api-guide-\<events\>), and we're going to use a subset of them here.

Let's look at the event handlers used in the above example. First, the one for the `env-purge-doc` event:

<div class="literalinclude" data-language="python" data-linenos="" data-lines="56-61">

examples/todo.py

</div>

Since we store information from source files in the environment, which is persistent, it may become out of date when the source file changes. Therefore, before each source file is read, the environment's records of it are cleared, and the `env-purge-doc` event gives extensions a chance to do the same. Here we clear out all todos whose docname matches the given one from the `todo_all_todos` list. If there are todos left in the document, they will be added again during parsing.

The next handler, for the `env-merge-info` event, is used during parallel builds. As during parallel builds all threads have their own `env`, there's multiple `todo_all_todos` lists that need to be merged:

<div class="literalinclude" data-language="python" data-linenos="" data-lines="64-68">

examples/todo.py

</div>

The other handler belongs to the `doctree-resolved` event:

<div class="literalinclude" data-language="python" data-linenos="" data-lines="71-113">

examples/todo.py

</div>

The `doctree-resolved` event is emitted at the end of \[phase 3 (resolving) \<build-phases\>\](\#phase-3 (resolving)-\<build-phases\>) and allows custom resolving to be done. The handler we have written for this event is a bit more involved. If the `todo_include_todos` config value (which we'll describe shortly) is false, all `todo` and `todolist` nodes are removed from the documents. If not, `todo` nodes just stay where and how they are. `todolist` nodes are replaced by a list of todo entries, complete with backlinks to the location where they come from. The list items are composed of the nodes from the `todo` entry and docutils nodes created on the fly: a paragraph for each entry, containing text that gives the location, and a link (reference node containing an italic node) with the backreference. The reference URI is built by <span class="title-ref">sphinx.builders.Builder.get\_relative\_uri</span> which creates a suitable URI depending on the used builder, and appending the todo node's (the target's) ID as the anchor name.

**The `setup` function**

<div class="currentmodule">

sphinx.application

</div>

As noted \[previously \<tutorial-extending-syntax\>\](\#previously-\<tutorial-extending-syntax\>), the `setup` function is a requirement and is used to plug directives into Sphinx. However, we also use it to hook up the other parts of our extension. Let's look at our `setup` function:

<div class="literalinclude" data-language="python" data-linenos="" data-lines="116-">

examples/todo.py

</div>

The calls in this function refer to the classes and functions we added earlier. What the individual calls do is the following:

  - <span class="title-ref">\~Sphinx.add\_config\_value</span> lets Sphinx know that it should recognize the new *config value* `todo_include_todos`, whose default value should be `False` (this also tells Sphinx that it is a boolean value).
    
    If the third argument was `'html'`, HTML documents would be full rebuild if the config value changed its value. This is needed for config values that influence reading (build \[phase 1 (reading) \<build-phases\>\](\#phase-1-(reading)-\<build-phases\>)).

<!-- end list -->

  - \* <span class="title-ref">\~Sphinx.add\_node</span> adds a new *node class* to the build system. It also  
    can specify visitor functions for each supported output format. These visitor functions are needed when the new nodes stay until \[phase 4 (writing) \<build-phases\>\](\#phase-4-(writing)

  - \--\<build-phases\>). Since the `todolist` node is always replaced in  
    \[phase 3 (resolving) \<build-phases\>\](\#phase-3-(resolving)-\<build-phases\>), it doesn't need any.

<!-- end list -->

  - <span class="title-ref">\~Sphinx.add\_directive</span> adds a new *directive*, given by name and class.
  - Finally, <span class="title-ref">\~Sphinx.connect</span> adds an *event handler* to the event whose name is given by the first argument. The event handler function is called with several arguments which are documented with the event.

With this, our extension is complete.

## Using the extension

As before, we need to enable the extension by declaring it in our `conf.py` file. There are two steps necessary here:

1.  Add the `_ext` directory to the [Python path](https://docs.python.org/3/using/cmdline.html#envvar-PYTHONPATH) using `sys.path.append`. This should be placed at the top of the file.
2.  Update or create the `extensions` list and add the extension file name to the list

In addition, we may wish to set the `todo_include_todos` config value. As noted above, this defaults to `False` but we can set it explicitly.

For example:

`` `python    import sys    from pathlib import Path     sys.path.append(str(Path('_ext').resolve()))     extensions = ['todo']     todo_include_todos = False  You can now use the extension throughout your project. For example:  .. code-block:: rst    :caption: index.rst     Hello, world    ============     .. toctree::       somefile.rst       someotherfile.rst     Hello world. Below is the list of TODOs.     .. todolist::  .. code-block:: rst    :caption: somefile.rst     foo    ===     Some intro text here...     .. todo:: Fix this  .. code-block:: rst    :caption: someotherfile.rst     bar    ===     Some more text here...     .. todo:: Fix that  Because we have configured ``todo\_include\_todos`to`False`, we won't`<span class="title-ref"> actually see anything rendered for the </span><span class="title-ref">todo</span><span class="title-ref"> and </span><span class="title-ref">todolist</span>\` directives. However, if we toggle this to true, we will see the output described previously.

## Further reading

For more information, refer to the [docutils](https://docutils.sourceforge.io/docs/) documentation and \[/extdev/index\](/extdev/index.md).

If you wish to share your extension across multiple projects or with others, check out the \[third-party-extensions\](\#third-party-extensions) section.

---

extending_syntax.md

---

# Extending syntax with roles and directives

## Overview

The syntax of both reStructuredText and MyST can be extended by creating new **directives** - for block-level elements -and **roles** - for inline elements.

In this tutorial we shall extend Sphinx to add:

  - A `hello` role, that will simply output the text `Hello {text}!`.
  - A `hello` directive, that will simply output the text `Hello {text}!`, as a paragraph.

For this extension, you will need some basic understanding of Python, and we shall also introduce aspects of the [docutils](https://docutils.sourceforge.io/) API.

## Setting up the project

You can either use an existing Sphinx project or create a new one using `sphinx-quickstart`.

With this we will add the extension to the project, within the `source` folder:

1.  Create an `_ext` folder in `source`
2.  Create a new Python file in the `_ext` folder called `helloworld.py`

Here is an example of the folder structure you might obtain:

`` `text       └── source           ├── _ext           │   └── helloworld.py           ├── conf.py           ├── index.rst   Writing the extension ``\` ---------------------

Open `helloworld.py` and paste the following code in it:

<div class="literalinclude" data-language="python" data-linenos="">

examples/helloworld.py

</div>

Some essential things are happening in this example:

### The role class

Our new role is declared in the `HelloRole` class.

<div class="literalinclude" data-language="python" data-linenos="" data-pyobject="HelloRole">

examples/helloworld.py

</div>

This class extends the <span class="title-ref">.SphinxRole</span> class. The class contains a `run` method, which is a requirement for every role. It contains the main logic of the role and it returns a tuple containing:

  - a list of inline-level docutils nodes to be processed by Sphinx.
  - an (optional) list of system message nodes

### The directive class

Our new directive is declared in the `HelloDirective` class.

<div class="literalinclude" data-language="python" data-linenos="" data-pyobject="HelloDirective">

examples/helloworld.py

</div>

This class extends the <span class="title-ref">.SphinxDirective</span> class. The class contains a `run` method, which is a requirement for every directive. It contains the main logic of the directive and it returns a list of block-level docutils nodes to be processed by Sphinx. It also contains a `required_arguments` attribute, which tells Sphinx how many arguments are required for the directive.

### What are docutils nodes?

When Sphinx parses a document, it creates an "Abstract Syntax Tree" (AST) of nodes that represent the content of the document in a structured way, that is generally independent of any one input (rST, MyST, etc) or output (HTML, LaTeX, etc) format. It is a tree because each node can have children nodes, and so on:

`` `xml       <document>          <paragraph>             <text>                Hello world!  The docutils_ package provides many `built-in nodes <docutils nodes_>`_, ``\` to represent different types of content such as text, paragraphs, references, tables, etc.

Each node type generally only accepts a specific set of direct child nodes, for example the `document` node should only contain "block-level" nodes, such as `paragraph`, `section`, `table`, etc, whilst the `paragraph` node should only contain "inline-level" nodes, such as `text`, `emphasis`, `strong`, etc.

<div class="seealso">

The docutils documentation on [creating directives](https://docutils.sourceforge.io/docs/howto/rst-directives.html), and [creating roles](https://docutils.sourceforge.io/docs/howto/rst-roles.html).

</div>

### The `setup` function

This function is a requirement. We use it to plug our new directive into Sphinx.

<div class="literalinclude" data-language="python" data-pyobject="setup">

examples/helloworld.py

</div>

The simplest thing you can do is to call the <span class="title-ref">.Sphinx.add\_role</span> and <span class="title-ref">.Sphinx.add\_directive</span> methods, which is what we've done here. For this particular call, the first argument is the name of the role/directive itself as used in a reStructuredText file. In this case, we would use `hello`. For example:

`` `rst    Some intro text here...     .. hello:: world     Some text with a :hello:`world` role.  We also return the [extension metadata <ext-metadata>](#extension-metadata-<ext-metadata>) that indicates the ``\` version of our extension, along with the fact that it is safe to use the extension for both parallel reading and writing.

## Using the extension

The extension has to be declared in your `conf.py` file to make Sphinx aware of it. There are two steps necessary here:

1.  Add the `_ext` directory to the [Python path](https://docs.python.org/3/using/cmdline.html#envvar-PYTHONPATH) using `sys.path.append`. This should be placed at the top of the file.
2.  Update or create the `extensions` list and add the extension file name to the list

For example:

`` `python    import sys    from pathlib import Path     sys.path.append(str(Path('_ext').resolve()))     extensions = ['helloworld']  > **Tip** >     Because we haven't installed our extension as a `Python package`_, we need to    modify the `Python path`_ so Sphinx can find our extension. This is why we    need the call to ``sys.path.append``.  You can now use the extension in a file. For example:  .. code-block:: rst     Some intro text here...     .. hello:: world     Some text with a :hello:`world` role.  The sample above would generate:  .. code-block:: text     Some intro text here...     Hello world!     Some text with a hello world! role.   Further reading``\` ---------------

This is the very basic principle of an extension that creates a new role and directive.

For a more advanced example, refer to \[tutorial-extend-build\](\#tutorial-extend-build).

If you wish to share your extension across multiple projects or with others, check out the \[third-party-extensions\](\#third-party-extensions) section.

---

index.md

---

# Tutorials

<div class="toctree" data-maxdepth="2">

extending\_syntax extending\_build adding\_domain autodoc\_ext

</div>

---

examples.md

---

- tocdepth  
    2

# Projects using Sphinx

This is an incomplete list of projects that use Sphinx for their documentation. If you would like to add a project, please [create an issue or pull request on GitHub](https://github.com/sphinx-doc/sphinx/).

I've grouped the list into sections to make it easier to find interesting examples.

## Documentation using the alabaster theme

  - [Alabaster](https://alabaster.readthedocs.io/)
  - [Blinker](https://blinker.readthedocs.io/)
  - [Calibre](https://manual.calibre-ebook.com/)
  - [CherryPy](https://cherrypy.readthedocs.io/)
  - [Click](https://click.palletsprojects.com/) (customized)
  - [coala](https://docs.coala.io/) (customized)
  - [CodePy](https://documen.tician.de/codepy/)
  - [Django Q](https://django-q.readthedocs.io/)
  - [Eve](https://docs.python-eve.org/) (Python REST API framework)
  - [Fabric](https://docs.fabfile.org/)
  - [Fityk](https://fityk.nieto.pl/)
  - [Flask](https://flask.palletsprojects.com/)
  - [Flask-OpenID](https://pythonhosted.org/Flask-OpenID/)
  - [Invoke](https://docs.pyinvoke.org/)
  - [Jinja](https://jinja.palletsprojects.com/)
  - [Lino](https://www.lino-framework.org/) (customized)
  - [Linux kernel](https://www.kernel.org/doc/html/latest/index.html) (customized)
  - [marbl](https://getmarbl.readthedocs.io/)
  - [MeshPy](https://documen.tician.de/meshpy/)
  - [Molecule](https://molecule.readthedocs.io/)
  - [Momotor LTI](https://momotor.org/doc/lti/canvas/)
  - [Podman](https://docs.podman.io/)
  - [PyCUDA](https://documen.tician.de/pycuda/)
  - [PyOpenCL](https://documen.tician.de/pyopencl/)
  - [PyLangAcq](https://pylangacq.org/)
  - [python-apt](https://apt-team.pages.debian.net/python-apt/)
  - [PyVisfile](https://documen.tician.de/pyvisfile/)
  - [Requests](https://requests.readthedocs.io/)
  - [searx](https://asciimoo.github.io/searx/)
  - [Spyder](https://docs.spyder-ide.org/) (customized)
  - [Tablib](http://docs.python-tablib.org/)
  - [urllib3](https://urllib3.readthedocs.io/) (customized)
  - [Werkzeug](https://werkzeug.palletsprojects.com/)
  - [Write the Docs](https://www.writethedocs.org/)

## Documentation using the classic theme

  - [Advanced Generic Widgets](https://xoomer.virgilio.it/infinity77/AGW_Docs/) (customized)
  - [Apache CouchDB](https://docs.couchdb.org/) (customized)
  - [APSW](https://rogerbinns.github.io/apsw/)
  - [Arb](https://arblib.org/)
  - [Beautiful Soup](https://www.crummy.com/software/BeautifulSoup/bs4/doc/)
  - [Blender API](https://docs.blender.org/api/current/)
  - [Bugzilla](https://bugzilla.readthedocs.io/)
  - [Buildbot](https://docs.buildbot.net/latest/)
  - [CMake](https://cmake.org/documentation/) (customized)
  - [Chaco](https://docs.enthought.com/chaco/) (customized)
  - [DEAP](https://deap.readthedocs.io/) (customized)
  - [Director](https://pythonhosted.org/director/)
  - [EZ-Draw](https://pageperso.lis-lab.fr/~edouard.thiel/ez-draw/doc/en/html/ez-manual.html) (customized)
  - [Generic Mapping Tools (GMT)](https://docs.generic-mapping-tools.org/latest/) (customized)
  - [Genomedata](https://noble.gs.washington.edu/proj/genomedata/doc/1.3.3/)
  - [GetFEM](https://getfem.org/) (customized)
  - [Glasgow Haskell Compiler](https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/) (customized)
  - [Grok](https://web.archive.org/web/20230708190705/http://grok.zope.org/doc/current/) (customized)
  - [GROMACS](https://manual.gromacs.org/documentation/)
  - [GSL Shell](https://www.nongnu.org/gsl-shell/)
  - [Hands-on Python Tutorial](http://anh.cs.luc.edu:80/python/hands-on/3.1/handsonHtml/)
  - [Kaa](https://freevo.github.io/kaa-base/) (customized)
  - [Leo](https://leo-editor.github.io/leo-editor/) (customized)
  - [Mayavi](https://docs.enthought.com/mayavi/mayavi/) (customized)
  - [MediaGoblin](https://mediagoblin.readthedocs.io/) (customized)
  - [mpmath](https://mpmath.org/doc/current/)
  - [OpenCV](https://docs.opencv.org/) (customized)
  - [OpenEXR](https://excamera.com/articles/26/doc/index.html)
  - [OpenGDA](https://alfred.diamond.ac.uk/documentation/)
  - [phpDocumentor](https://docs.phpdoc.org/) (customized)
  - [Plone](https://docs.plone.org/) (customized)
  - [PyEMD](https://pyemd.readthedocs.io/)
  - [Pyevolve](https://pyevolve.sourceforge.net/)
  - [Pygame](https://www.pygame.org/docs/) (customized)
  - [PyMQI](https://dsuch.github.io/pymqi/)
  - [PyQt4](https://pyqt.sourceforge.net/Docs/PyQt4/) (customized)
  - [PyQt5](https://pyqt.sourceforge.net/Docs/PyQt5/) (customized)
  - [Python 2](https://docs.python.org/2/)
  - [Python 3](https://docs.python.org/3/) (customized)
  - [Python Packaging Authority](https://www.pypa.io/) (customized)
  - [Ring programming language](https://ring-lang.github.io/doc1.20/) (customized)
  - [SageMath](https://doc.sagemath.org/) (customized)
  - [Segway](https://noble.gs.washington.edu/proj/segway/doc/1.1.0/segway.html)
  - [simuPOP](https://bopeng.github.io/simuPOP/) (customized)
  - [SymPy](https://docs.sympy.org/)
  - [TurboGears](https://turbogears.readthedocs.io/) (customized)
  - [tvtk](https://docs.enthought.com/mayavi/tvtk/)
  - [Varnish](https://www.varnish-cache.org/docs/) (customized, alabaster for index)
  - [Waf](https://waf.io/apidocs/)
  - [wxPython Phoenix](https://wxpython.org/Phoenix/docs/html/main.html) (customized)
  - [z3c](https://www.ibiblio.org/paulcarduner/z3ctutorial/)
  - [zc.async](https://pythonhosted.org/zc.async/) (customized)
  - [Zope](https://www.zope.dev/) (customized)

## Documentation using the sphinxdoc theme

  - [ABRT](https://abrt.readthedocs.io/)
  - [cartopy](https://scitools.org.uk/cartopy/docs/latest/)
  - [Jython](https://jython.readthedocs.io/)
  - [LLVM](https://llvm.org/docs/)
  - [PyCantonese](https://pycantonese.org/)
  - [Pyre](https://pyre.readthedocs.io/)
  - [pySPACE](https://pyspace.github.io/pyspace/)
  - [Pysparse](https://pysparse.sourceforge.net/)
  - [PyTango](https://pytango.readthedocs.io)
  - [Python Wild Magic](https://vmlaker.github.io/pythonwildmagic/) (customized)
  - [RDKit](https://www.rdkit.org/docs/)
  - [Reteisi](https://www.reteisi.org/contents.html) (customized)
  - [Turbulenz](http://docs.turbulenz.com/)

## Documentation using the nature theme

  - [Alembic](https://alembic.sqlalchemy.org/)
  - [Cython](https://docs.cython.org/)
  - [easybuild](https://easybuild.readthedocs.io/)
  - [libLAS](https://liblas.org/) (customized)
  - [Lmod](https://lmod.readthedocs.io/)
  - [MapServer](https://mapserver.org/) (customized)
  - [PyWavelets](https://pywavelets.readthedocs.io/)
  - [Setuptools](https://setuptools.readthedocs.io/)
  - [Spring Python](https://docs.spring.io/spring-python/1.2.x/sphinx/html/)
  - [StatsModels](https://www.statsmodels.org/) (customized)
  - [Sylli](https://sylli.sourceforge.net/)

## Documentation using another builtin theme

  - [Breathe](https://breathe.readthedocs.io/) (haiku)
  - [Breezy (fork of Bazaar)](https://www.breezy-vcs.org/doc/en/) (agogo)
  - [MPipe](https://vmlaker.github.io/mpipe/) (sphinx13)
  - [NLTK](https://www.nltk.org/) (agogo)
  - [PyPubSub](https://pypubsub.readthedocs.io/) (bizstyle)
  - [Pylons](https://docs.pylonsproject.org/projects/pylons-webframework/) (pyramid)
  - [Pyramid web framework](https://docs.pylonsproject.org/projects/pyramid/) (pyramid)
  - [RxDock](https://rxdock.gitlab.io/documentation/devel/html/) (bizstyle)
  - [Sphinx](https://www.sphinx-doc.org/) (sphinx13) :-)
  - [Valence](https://docs.valence.desire2learn.com/) (haiku, customized)

## Documentation using Read the Docs Sphinx Theme

[Read the Docs Sphinx Theme documentation](https://sphinx-rtd-theme.readthedocs.io/)

  - [Aesara (fork of Theano)](https://aesara.readthedocs.io/)
  - [Annotator](https://docs.annotatorjs.org/)
  - [Ansible](https://docs.ansible.com/) (customized)
  - [Arcade](https://arcade.academy/)
  - [aria2](https://aria2.github.io/manual/en/html/)
  - [ASE](https://wiki.fysik.dtu.dk/ase/)
  - [asvin](https://asvin.readthedocs.io/)
  - [Autofac](https://docs.autofac.org/)
  - [BigchainDB](https://docs.bigchaindb.com/)
  - [Blender Reference Manual](https://docs.blender.org/manual/)
  - [Blocks](https://blocks.readthedocs.io/)
  - [bootstrap-datepicker](https://bootstrap-datepicker.readthedocs.io/)
  - [Certbot](https://certbot.eff.org/docs/)
  - [CKAN](https://docs.ckan.org/)
  - [Copr Buildsystem](https://docs.pagure.org/copr.copr/) (customized)
  - [Coreboot](https://doc.coreboot.org/)
  - [Chainer](https://docs.chainer.org/) (customized)
  - [citeproc-js](https://citeproc-js.readthedocs.io/)
  - [cloud-init](https://cloudinit.readthedocs.io/)
  - [CodeIgniter](https://www.codeigniter.com/user_guide/)
  - [Conda](https://conda.io/docs/)
  - [Corda](https://docs.corda.net/)
  - [Dask](https://dask.pydata.org/)
  - [Databricks](https://docs.databricks.com/) (customized)
  - [Dataiku DSS](https://doc.dataiku.com/)
  - [DNF](https://dnf.readthedocs.io/)
  - [Distro Tracker](https://qa.pages.debian.net/distro-tracker/)
  - [Django-cas-ng](https://djangocas.dev/docs/)
  - [dj-stripe](https://dj-stripe.github.io/dj-stripe/)
  - [edX](https://docs.edx.org/)
  - [Electrum](https://docs.electrum.org/)
  - [ESWP3](https://eswp3.readthedocs.io/)
  - [Ethereum Homestead](https://www.ethdocs.org/)
  - [Exhale](https://exhale.readthedocs.io/)
  - [Faker](https://faker.readthedocs.io/)
  - [Fidimag](https://fidimag.readthedocs.io/)
  - [Flake8](https://flake8.pycqa.org/)
  - [Flatpak](https://docs.flatpak.org/)
  - [FluidDyn](https://fluiddyn.readthedocs.io/)
  - [Fluidsim](https://fluidsim.readthedocs.io/)
  - [Gallium](https://gallium.readthedocs.io/)
  - [GeoNode](https://docs.geonode.org/)
  - [Glances](https://glances.readthedocs.io/)
  - [Godot](https://godot.readthedocs.io/)
  - [Graylog](https://docs.graylog.org/)
  - [GPAW](https://wiki.fysik.dtu.dk/gpaw/) (customized)
  - [HDF5 for Python (h5py)](https://docs.h5py.org/)
  - [HyperKitty](https://hyperkitty.readthedocs.io/)
  - [Hyperledger Fabric](https://hyperledger-fabric.readthedocs.io/)
  - [IdentityServer](https://docs.identityserver.io/)
  - [Idris](https://docs.idris-lang.org/)
  - [Inkscape](https://inkscape-manuals.readthedocs.io/) (customized)
  - [javasphinx](https://bronto-javasphinx.readthedocs.io/)
  - [Jupyter Notebook](https://jupyter-notebook.readthedocs.io/)
  - [Kanboard](https://docs.kanboard.org/)
  - [Lasagne](https://lasagne.readthedocs.io/)
  - [latexindent.pl](https://latexindentpl.readthedocs.io/)
  - [Learning Apache Spark with Python](https://runawayhorse001.github.io/LearningApacheSpark)
  - [LibCEED](https://libceed.readthedocs.io/)
  - [Linguistica](https://linguistica-uchicago.github.io/lxa5/)
  - [Mailman](https://docs.list.org/)
  - [MathJax](https://docs.mathjax.org/)
  - [MDTraj](https://mdtraj.org/) (customized)
  - [Mesa 3D](https://docs.mesa3d.org/)
  - [micca - MICrobial Community Analysis](https://micca.readthedocs.io/)
  - [MicroPython](https://docs.micropython.org/)
  - [Mink](https://mink.behat.org/)
  - [Mockery](https://docs.mockery.io/)
  - [mod\_wsgi](https://modwsgi.readthedocs.io/)
  - [MoinMoin](https://moin-20.readthedocs.io/)
  - [Mopidy](https://docs.mopidy.com/)
  - [mpi4py](https://mpi4py.readthedocs.io/)
  - [MyHDL](https://docs.myhdl.org/)
  - [Mypy](https://mypy.readthedocs.io/)
  - [Netgate Docs](https://docs.netgate.com/)
  - [Nextcloud Server](https://docs.nextcloud.com/#server)
  - [Nextflow](https://www.nextflow.io/docs/latest/index.html)
  - [nghttp2](https://nghttp2.org/documentation/)
  - [NICOS](https://forge.frm2.tum.de/nicos/doc/nicos-master/) (customized)
  - [OpenFAST](https://openfast.readthedocs.io/)
  - [Panda3D](https://docs.panda3d.org/) (customized)
  - [Pelican](https://docs.getpelican.com/)
  - [picamera](https://picamera.readthedocs.io/)
  - [Pillow](https://pillow.readthedocs.io/)
  - [pip](https://pip.pypa.io/)
  - [Paver](https://paver.readthedocs.io/)
  - [peewee](https://docs.peewee-orm.com/)
  - [Phinx](https://docs.phinx.org/)
  - [phpMyAdmin](https://docs.phpmyadmin.net/)
  - [PHPUnit](https://phpunit.readthedocs.io/)
  - [PHPWord](https://phpword.readthedocs.io/)
  - [PROS](https://pros.cs.purdue.edu/v5/) (customized)
  - [Pweave](https://mpastell.com/pweave/)
  - [pyca/cryptograhpy](https://cryptography.io/)
  - [pyglet](https://pyglet.readthedocs.io/)
  - [PyNaCl](https://pynacl.readthedocs.io/)
  - [pyOpenSSL](https://www.pyopenssl.org/)
  - [PyPy](https://doc.pypy.org/)
  - [python-sqlparse](https://sqlparse.readthedocs.io/)
  - [PyVISA](https://pyvisa.readthedocs.io/)
  - [Read The Docs](https://docs.readthedocs.io/)
  - [RenderDoc](https://renderdoc.org/docs/)
  - [ROCm Platform](https://rocmdocs.amd.com/)
  - [Free your information from their silos (French)](https://redaction-technique.org/) (customized)
  - [Releases Sphinx extension](https://releases.readthedocs.io/)
  - [Qtile](https://docs.qtile.org/)
  - [Quex](https://quex.sourceforge.net/doc/html/main.html)
  - [QuTiP](https://qutip.readthedocs.io/en/latest/)
  - [Sawtooth](https://sawtooth.splinter.dev/docs)
  - [Scapy](https://scapy.readthedocs.io/)
  - [SimGrid](https://simgrid.org/doc/latest/)
  - [SimPy](https://simpy.readthedocs.io/)
  - [six](https://six.readthedocs.io/)
  - [Solidity](https://solidity.readthedocs.io/)
  - [Sonos Controller (SoCo)](https://docs.python-soco.com/)
  - [Sphinx AutoAPI](https://sphinx-autoapi.readthedocs.io/)
  - [sphinx-argparse](https://sphinx-argparse.readthedocs.io/)
  - [sphinx-tabs](https://sphinx-tabs.readthedocs.io/)
  - [Sphinx-Gallery](https://sphinx-gallery.readthedocs.io/) (customized)
  - [Sphinx with Github Webpages](https://runawayhorse001.github.io/SphinxGithub)
  - [SpotBugs](https://spotbugs.readthedocs.io/)
  - [StarUML](https://docs.staruml.io/)
  - [Sublime Text Unofficial Documentation](https://docs.sublimetext.info/)
  - [SunPy](https://docs.sunpy.org/)
  - [Sylius](https://docs.sylius.com/)
  - [Syncthing](https://docs.syncthing.net/)
  - [Tango Controls](https://tango-controls.readthedocs.io/) (customized)
  - [ThreatConnect](https://docs.threatconnect.com/)
  - [TrueNAS](https://www.ixsystems.com/documentation/truenas/) (customized)
  - [Tuleap](https://tuleap.net/doc/en/)
  - [TYPO3](https://docs.typo3.org/) (customized)
  - [Veyon](https://docs.veyon.io/)
  - [Ubiquity](https://micro-framework.readthedocs.io/)
  - [uWSGI](https://uwsgi-docs.readthedocs.io/)
  - [virtualenv](https://virtualenv.readthedocs.io/)
  - [Wagtail](https://docs.wagtail.io/)
  - [Web Application Attack and Audit Framework (w3af)](https://docs.w3af.org/)
  - [Weblate](https://docs.weblate.org/)
  - [x265](https://x265.readthedocs.io/)
  - [Zeek](https://docs.zeek.org/)
  - [Zulip](https://zulip.readthedocs.io/)

## Documentation using Sphinx Bootstrap Theme

[Sphinx Bootstrap Theme documentation](https://ryan-roemer.github.io/sphinx-bootstrap-theme/)

  - [Bootstrap Theme](https://ryan-roemer.github.io/sphinx-bootstrap-theme/)
  - [C/C++ Software Development with Eclipse](https://eclipsebook.in/)
  - [Dataverse](https://guides.dataverse.org/)
  - [e-cidadania](https://e-cidadania.readthedocs.io/)
  - [Hangfire](https://docs.hangfire.io/)
  - [Hedge](https://documen.tician.de/hedge/)
  - [ObsPy](https://docs.obspy.org/)
  - [OPNFV](https://docs.opnfv.org/)
  - [Pootle](https://docs.translatehouse.org/projects/pootle/)
  - [PyUblas](https://documen.tician.de/pyublas/)
  - [seaborn](https://seaborn.pydata.org/)

## Documentation using PyData Sphinx Theme

[Pydata Sphinx Theme documentation](https://pydata-sphinx-theme.readthedocs.io/)

  - [Arviz](https://python.arviz.org/en/stable/)
  - [Astropy](https://docs.astropy.org/)
  - [Binder](https://mybinder.readthedocs.io/en/latest/)
  - [Bokeh](https://docs.bokeh.org/en/latest/)
  - [CuPy](https://docs.cupy.dev/en/stable/)
  - [EnOSlib](https://discovery.gitlabpages.inria.fr/enoslib/)
  - [Fairlearn](https://fairlearn.org/main/)
  - [Feature-engine](https://feature-engine.readthedocs.io/en/latest/)
  - [Jupyter](https://docs.jupyter.org/en/latest/)
  - [Jupyter Book](https://jupyterbook.org/en/stable/intro.html)
  - [Matplotlib](https://matplotlib.org/stable/index.html)
  - [MegEngine](https://megengine.org.cn/doc/stable/en/)
  - [MNE-Python](https://mne.tools/stable/)
  - [NetworkX](https://networkx.org/documentation/stable/)
  - [Numpy](https://numpy.org/doc/stable/)
  - [Pandas](https://pandas.pydata.org/docs/)
  - [PhaseFieldX](https://phasefieldx.readthedocs.io/)
  - [Pystra (continuation of PyRe)](https://pystra.github.io/pystra/)
  - [PyVista](https://docs.pyvista.org/)
  - [SciPy](https://docs.scipy.org/doc/scipy/)
  - [Seaborn](https://seaborn.pydata.org/)
  - [SEPAL](https://docs.sepal.io/en/latest/index.html)

## Documentation using Furo theme

[Furo theme documentation](https://pradyunsg.me/furo/)

  - [Furo theme](https://pradyunsg.me/furo/)
  - [pytest](https://docs.pytest.org/)
  - [Python Packaging User Guide](https://packaging.python.org/)
  - [Python Developer's Guide](https://devguide.python.org/)

## Documentation using a custom theme or integrated in a website

  - [AIOHTTP](https://docs.aiohttp.org/)
  - [Apache Cassandra](https://cassandra.apache.org/doc/)
  - [Boto 3](https://boto3.readthedocs.io/)
  - [CakePHP](https://book.cakephp.org/)
  - [Ceph](https://docs.ceph.com/docs/master/)
  - [Chef](https://docs.chef.io/)
  - [CKAN](https://docs.ckan.org/)
  - [Confluent Platform](https://docs.confluent.io/)
  - [Django](https://docs.djangoproject.com/)
  - [django CMS](https://docs.django-cms.org/)
  - [Doctrine](https://www.doctrine-project.org/)
  - [Enterprise Toolkit for Acrobat products](https://www.adobe.com/devnet-docs/acrobatetk/)
  - [FreeFEM](https://doc.freefem.org/introduction/)
  - [fmt](https://fmt.dev/)
  - [Gameduino](https://excamera.com/sphinx/gameduino/)
  - [gensim](https://radimrehurek.com/gensim/)
  - [GeoServer](https://docs.geoserver.org/)
  - [gevent](https://www.gevent.org/)
  - [GHC - Glasgow Haskell Compiler](https://downloads.haskell.org/~ghc/master/users-guide/)
  - [Guzzle](https://docs.guzzlephp.org/)
  - [H2O.ai](https://docs.h2o.ai/)
  - [Heka](https://hekad.readthedocs.io/)
  - [Istihza (Turkish Python documentation project)](https://python-istihza.yazbel.com/)
  - [JupyterHub](https://jupyterhub.readthedocs.io/)
  - [Kombu](https://kombu.readthedocs.io/)
  - [Lasso](http://www.lassoguide.com/)
  - [Mako](https://docs.makotemplates.org/)
  - [MirrorBrain](https://mirrorbrain-docs.readthedocs.io/)
  - [Mitiq](https://mitiq.readthedocs.io/)
  - [MongoDB](https://docs.mongodb.com/)
  - [Music21](https://web.mit.edu/music21/doc/)
  - [MyHDL](https://docs.myhdl.org/)
  - [ndnSIM](https://ndnsim.net/current/)
  - [nose](https://nose.readthedocs.io/)
  - [ns-3](https://www.nsnam.org/documentation/)
  - [ObjectListView](https://objectlistview.sourceforge.net/python/)
  - [OpenERP](https://doc.odoo.com/)
  - [OpenCV](https://docs.opencv.org/)
  - [Open Dylan](https://opendylan.org/)
  - [OpenTURNS](https://openturns.github.io/openturns/latest/)
  - [Open vSwitch](https://docs.openvswitch.org/)
  - [PlatformIO](https://docs.platformio.org/)
  - [Psycopg](https://www.psycopg.org/docs/)
  - [PyEphem](https://rhodesmill.org/pyephem/)
  - [Pygments](https://pygments.org/docs/)
  - [Plone User Manual (German)](https://www.hasecke.com/plone-benutzerhandbuch/4.0/)
  - [PSI4](https://www.psicode.org/psi4manual/master/index.html)
  - [PyMOTW](https://pymotw.com/2/)
  - [python-aspectlib](https://python-aspectlib.readthedocs.io/) ([sphinx\_py3doc\_enhanced\_theme](https://pypi.org/project/sphinx_py3doc_enhanced_theme/))
  - [QGIS](https://qgis.org/en/docs/index.html)
  - [Roundup](https://www.roundup-tracker.org/)
  - [SaltStack](https://docs.saltstack.com/)
  - [scikit-learn](https://scikit-learn.org/stable/)
  - [Scrapy](https://doc.scrapy.org/)
  - [Selenium](https://docs.seleniumhq.org/docs/)
  - [Self](https://www.selflanguage.org/)
  - [Substance D](https://docs.pylonsproject.org/projects/substanced/)
  - [Sulu](https://docs.sulu.io/)
  - [SQLAlchemy](https://docs.sqlalchemy.org/)
  - [tinyTiM](https://tinytim.sourceforge.net/docs/2.0/)
  - [Twisted](https://twistedmatrix.com/documents/current/)
  - [Ubuntu Packaging Guide](https://packaging.ubuntu.com/html/)
  - [WTForms](https://wtforms.readthedocs.io/)

## Homepages and other non-documentation sites

  - [Alan Crosswell's Using the Django REST Framework and DRF-JSONAPI](https://www.columbia.edu/~alan/django-jsonapi-training/)
  - [Arizona State University PHY494/PHY598/CHM598 Simulation approaches to Bio-and Nanophysics](https://becksteinlab.physics.asu.edu/pages/courses/2013/SimBioNano/) (classic)
  - [Benoit Boissinot](https://bboissin.appspot.com/) (classic, customized)
  - [EBI Cloud Consultancy Team](https://tsi-ccdoc.readthedocs.io/) (sphinx\_rtd\_theme)
  - [Eric Holscher](https://ericholscher.com/) (alabaster)
  - [Florian Diesch](https://www.florian-diesch.de/)
  - [Institute for the Design of Advanced Energy Systems (IDAES)](https://idaes-pse.readthedocs.io/) (sphinx\_rtd\_theme)
  - [IDAES Examples](https://idaes.github.io/examples-pse/) (sphinx\_rtd\_theme)
  - [Lei Ma's Statistical Mechanics lecture notes](https://statisticalphysics.leima.is/) (sphinx\_bootstrap\_theme)
  - [PyXLL](https://www.pyxll.com/) (sphinx\_bootstrap\_theme, customized)
  - [SciPy Cookbook](https://scipy-cookbook.readthedocs.io/) (sphinx\_rtd\_theme)
  - [Tech writer at work blog](https://documatt.com/blog/) (custom theme)
  - [UC Berkeley ME233 Advanced Control Systems II course](https://berkeley-me233.github.io/) (sphinxdoc)
  - [Željko Svedružić's Biomolecular Structure and Function Laboratory (BioSFLab)](https://svedruziclab.github.io/) (sphinx\_bootstrap\_theme)

## Books produced using Sphinx

  - ["The Art of Community" (Japanese translation)](https://www.oreilly.co.jp/books/9784873114958/)
  - ["Die Wahrheit des Sehens. Der DEKALOG von Krzysztof Kieślowski"](https://literatur.hasecke.com/post/die-wahrheit-des-sehens-dekalog-kieslowski/)
  - ["Expert Python Programming"](https://www.packtpub.com/application-development/expert-python-programming)
  - ["Expert Python Programming" (Japanese translation)](https://www.amazon.co.jp/dp/4048686291/)
  - ["Expert Python Programming 2nd Edition" (Japanese translation)](https://www.amazon.co.jp/dp/4048930613/)
  - ["The Hitchhiker's Guide to Python"](https://docs.python-guide.org/)
  - ["LassoGuide"](http://www.lassoguide.com/)
  - ["Learning Sphinx" (in Japanese)](https://www.oreilly.co.jp/books/9784873116488/)
  - ["Learning System Programming with Go (Japanese)"](https://www.lambdanote.com/products/go)
  - ["Mercurial: the definitive guide (Second edition)"](https://book.mercurial-scm.org/)
  - ["Mithril -- The fastest clientside MVC (Japanese)"](https://www.oreilly.co.jp/books/9784873117447/)
  - "Pioneers and Prominent Men of Utah"
  - ["Pomodoro Technique Illustrated" (Japanese translation)](https://www.amazon.co.jp/dp/4048689525/)
  - ["Professional Software Development"](https://mixmastamyk.bitbucket.io/pro_soft_dev/)
  - ["Python Professional Programming" (in Japanese)](https://www.amazon.co.jp/dp/4798032948/)
  - ["Python Professional Programming 2nd Edition" (in Japanese)](https://www.amazon.co.jp/dp/479804315X/)
  - ["Python Professional Programming 3rd Edition" (in Japanese)](https://www.amazon.co.jp/dp/4798053821/)
  - [Python Course by Yuri Petrov (Russian)](https://www.yuripetrov.ru/edu/python)
  - ["Real World HTTP -- Learning The Internet and Web Technology via its history and code (Japanese)"](https://www.oreilly.co.jp/books/9784873118048/)
  - ["Redmine Primer 5th Edition (in Japanese)"](https://www.shuwasystem.co.jp/products/7980html/4825.html)
  - ["The repoze.bfg Web Application Framework"](https://www.amazon.com/repoze-bfg-Web-Application-Framework-Version/dp/0615345379)
  - ["The Self-Taught Programmer" (Japanese translation)](https://www.amazon.co.jp/dp/4822292274/)
  - ["Simple and Steady Way of Learning for Software Engineering" (in Japanese)](https://www.amazon.co.jp/dp/477414259X/)
  - ["Software-Dokumentation mit Sphinx"](https://www.amazon.de/dp/1497448689/)
  - ["Theoretical Physics Reference"](https://www.theoretical-physics.net/)
  - ["The Varnish Book"](https://info.varnish-software.com/the-varnish-book)

## Theses produced using Sphinx

  - ["Content Conditioning and Distribution for Dynamic Virtual Worlds"](https://www.cs.princeton.edu/research/techreps/TR-941-12)
  - ["The Sphinx Thesis Resource"](https://jterrace.github.io/sphinxtr/)

## Projects integrating Sphinx functionality

  - [Read the Docs](https://readthedocs.org/), a software-as-a-service documentation hosting platform, uses Sphinx to automatically build documentation updates that are pushed to GitHub.
  - [Spyder](https://docs.spyder-ide.org/current/panes/help.html), the Scientific Python Development Environment, uses Sphinx in its help pane to render rich documentation for functions, classes and methods automatically or on-demand.

---

appapi.md

---

# Application API

<div class="module" data-synopsis="Application class and extensibility interface.">

sphinx.application

</div>

Each Sphinx extension is a Python module with at least a <span class="title-ref">setup</span> function. This function is called at initialization time with one argument, the application object representing the Sphinx process.

<div class="Sphinx">

This application object has the public API described in the following.

</div>

## Extension setup

These methods are usually called in an extension's `setup()` function.

Examples of using the Sphinx extension API can be seen in the `sphinx.ext` package.

<div class="currentmodule">

sphinx.application

</div>

<div class="automethod">

Sphinx.setup\_extension

</div>

<div class="automethod">

Sphinx.require\_sphinx

</div>

<div class="automethod">

Sphinx.connect

</div>

<div class="automethod">

Sphinx.disconnect

</div>

<div class="automethod">

Sphinx.add\_builder

</div>

<div class="automethod">

Sphinx.add\_config\_value

</div>

<div class="automethod">

Sphinx.add\_event

</div>

<div class="automethod">

Sphinx.set\_translator

</div>

<div class="automethod">

Sphinx.add\_node

</div>

<div class="automethod">

Sphinx.add\_enumerable\_node

</div>

<div class="automethod">

Sphinx.add\_directive

</div>

<div class="automethod">

Sphinx.add\_role

</div>

<div class="automethod">

Sphinx.add\_generic\_role

</div>

<div class="automethod">

Sphinx.add\_domain

</div>

<div class="automethod">

Sphinx.add\_directive\_to\_domain

</div>

<div class="automethod">

Sphinx.add\_role\_to\_domain

</div>

<div class="automethod">

Sphinx.add\_index\_to\_domain

</div>

<div class="automethod">

Sphinx.add\_object\_type

</div>

<div class="automethod">

Sphinx.add\_crossref\_type

</div>

<div class="automethod">

Sphinx.add\_transform

</div>

<div class="automethod">

Sphinx.add\_post\_transform

</div>

<div class="automethod">

Sphinx.add\_js\_file

</div>

<div class="automethod">

Sphinx.add\_css\_file

</div>

<div class="automethod">

Sphinx.add\_latex\_package

</div>

<div class="automethod">

Sphinx.add\_lexer

</div>

<div class="automethod">

Sphinx.add\_autodocumenter

</div>

<div class="automethod">

Sphinx.add\_autodoc\_attrgetter

</div>

<div class="automethod">

Sphinx.add\_search\_language

</div>

<div class="automethod">

Sphinx.add\_source\_suffix

</div>

<div class="automethod">

Sphinx.add\_source\_parser

</div>

<div class="automethod">

Sphinx.add\_env\_collector

</div>

<div class="automethod">

Sphinx.add\_html\_theme

</div>

<div class="automethod">

Sphinx.add\_html\_math\_renderer

</div>

<div class="automethod">

Sphinx.add\_message\_catalog

</div>

<div class="automethod">

Sphinx.is\_parallel\_allowed

</div>

<div class="automethod">

Sphinx.set\_html\_assets\_policy

</div>

<div class="exception">

ExtensionError

All these methods raise this exception if something went wrong with the extension API.

</div>

## Emitting events

<div class="Sphinx" data-no-index="">

<div class="automethod">

emit

</div>

<div class="automethod">

emit\_firstresult

</div>

</div>

## Sphinx runtime information

The application object also provides runtime information as attributes.

<div class="attribute">

Sphinx.project

Target project. See <span class="title-ref">.Project</span>.

</div>

<div class="attribute">

Sphinx.srcdir

Source directory.

</div>

<div class="attribute">

Sphinx.confdir

Directory containing `conf.py`.

</div>

<div class="attribute">

Sphinx.doctreedir

Directory for storing pickled doctrees.

</div>

<div class="attribute">

Sphinx.outdir

Directory for storing built document.

</div>

<div class="autoattribute">

Sphinx.fresh\_env\_used

</div>

## Sphinx core events

<div class="note">

<div class="title">

Note

</div>

Moved to \[events\](\#events).

</div>

## Checking the Sphinx version

<div class="currentmodule">

sphinx

</div>

Use this to adapt your extension to API changes in Sphinx.

<div class="autodata">

version\_info

</div>

## The Config object

<div class="currentmodule">

sphinx.config

</div>

<div class="autoclass">

Config

</div>

## The template bridge

<div class="currentmodule">

sphinx.application

</div>

<div class="autoclass" data-members="">

TemplateBridge

</div>

## Exceptions

<div class="module">

sphinx.errors

</div>

<div class="autoexception">

SphinxError

</div>

<div class="autoexception">

ConfigError

</div>

<div class="autoexception">

ExtensionError

</div>

<div class="autoexception">

ThemeError

</div>

<div class="autoexception">

VersionRequirementError

</div>

---

builderapi.md

---

# Builder API

<div class="currentmodule">

sphinx.builders

</div>

<div class="Builder">

This is the base class for all builders.

It follows this basic workflow:

<div class="graphviz" data-caption="Call graph for the standard Sphinx build workflow">

/\_static/diagrams/sphinx\_build\_flow.dot

</div>

**Overridable Attributes**

These class attributes should be set on builder sub-classes:

<div class="autoattribute">

name

</div>

<div class="autoattribute">

format

</div>

<div class="autoattribute">

epilog

</div>

<div class="autoattribute">

allow\_parallel

</div>

<div class="autoattribute">

supported\_image\_types

</div>

<div class="autoattribute">

supported\_remote\_images

</div>

<div class="autoattribute">

supported\_data\_uri\_images

</div>

<div class="autoattribute">

default\_translator\_class

</div>

**Core Methods**

These methods define the core build workflow and must not be overridden:

<div class="automethod">

build\_all

</div>

<div class="automethod">

build\_specific

</div>

<div class="automethod">

build\_update

</div>

<div class="automethod">

build

</div>

<div class="automethod">

read

</div>

<div class="automethod">

read\_doc

</div>

<div class="automethod">

write\_doctree

</div>

<div class="automethod">

write

</div>

**Abstract Methods**

These must be implemented in builder sub-classes:

<div class="automethod">

get\_outdated\_docs

</div>

<div class="automethod">

write\_doc

</div>

<div class="automethod">

get\_target\_uri

</div>

**Overridable Methods**

These methods can be overridden in builder sub-classes:

<div class="automethod">

init

</div>

<div class="automethod">

write\_documents

</div>

<div class="automethod">

prepare\_writing

</div>

<div class="automethod">

copy\_assets

</div>

<div class="automethod">

get\_relative\_uri

</div>

<div class="automethod">

finish

</div>

**Attributes**

Attributes that are callable from the builder instance:

<div class="attribute">

events

An <span class="title-ref">.EventManager</span> object.

</div>

**Overridable Attributes (extensions)**

Builder sub-classes can set these attributes to support built-in extensions:

<div class="attribute" type="str">

supported\_linkcode

By default, the `linkcode <sphinx.ext.linkcode>` extension will only inject references for an `html` builder. The `supported_linkcode` class attribute can be defined in a non-HTML builder to support managing references generated by linkcode. The expected value for this attribute is an expression which is compatible with :rst`only`.

For example, if a builder was named `custom-builder`, the following can be used:

\`\`\`python

</div>

</div>

  - class CustomBuilder(Builder):  
    supported\_linkcode = 'custom-builder' ...

\`\`\`

---

collectorapi.md

---

# Environment Collector API

<div class="module">

sphinx.environment.collectors

</div>

<div class="autoclass" data-members="">

EnvironmentCollector

</div>

---

deprecated.md

---

# Deprecated APIs

On developing Sphinx, we are always careful to the compatibility of our APIs. But, sometimes, the change of interface are needed for some reasons. In such cases, we've marked them as deprecated. And they are kept during the two major versions (for more details, please see \[deprecation-policy\](\#deprecation-policy)).

The following is a list of deprecated interfaces.

<div class="tabularcolumns">

\>{raggedright}Y{.4}\>{centering}Y{.1}\>{sphinxcolorblend{\!95\!red}centeringnoindentbfseriescolor{red}}Y{.12}\>{raggedrightarraybackslash}Y{.38}

</div>

<table>
<caption>deprecated APIs</caption>
<colgroup>
<col style="width: 40%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="header">
<th>Target</th>
<th>Deprecated</th>
<th>Removed</th>
<th>Alternatives</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>sphinx.builders.singlehtml.SingleFileHTMLBuilder.fix_refuris</code></td>
<td>8.2</td>
<td>10.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.util.FilenameUniqDict</code></td>
<td>8.1</td>
<td>10.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.util.DownloadFiles</code></td>
<td>8.1</td>
<td>10.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.util.import_object</code></td>
<td>8.1</td>
<td>10.0</td>
<td><code>importlib.import_module</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.intersphinx.normalize_intersphinx_mapping</code></td>
<td>8.0</td>
<td>10.0</td>
<td><code>sphinx.ext.intersphinx.validate_intersphinx_mapping</code></td>
</tr>
<tr class="even">
<td><code>sphinx.testing.util.strip_escseq</code></td>
<td>7.3</td>
<td>9.0</td>
<td><code>sphinx.util.console.strip_colors</code></td>
</tr>
<tr class="odd">
<td><p>Old-style Makefiles in <code>sphinx-quickstart</code> and the <code class="interpreted-text" role="option">!-M</code>, <code class="interpreted-text" role="option">!-m</code>, <code class="interpreted-text" role="option">!--no-use-make-mode</code>, and <code class="interpreted-text" role="option">!--use-make-mode</code> options</p></td>
<td><p>7.3</p></td>
<td><p>9.0</p></td>
<td><p>Vendoring the <span class="title-ref">old style Makefile templates</span>__</p>
<p>__ <a href="https://github.com/sphinx-doc/sphinx/blob/v7.0.0/sphinx/templates/quickstart/Makefile_t">https://github.com/sphinx-doc/sphinx/blob/v7.0.0/sphinx/templates/quickstart/Makefile_t</a></p></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.autodoc.preserve_defaults.get_function_def()</code></td>
<td>7.2</td>
<td>9.0</td>
<td>N/A (replacement is private)</td>
</tr>
<tr class="odd">
<td><code>sphinx.builders.html.StandaloneHTMLBuilder.css_files</code></td>
<td>7.2</td>
<td>9.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.builders.html.StandaloneHTMLBuilder.script_files</code></td>
<td>7.2</td>
<td>9.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.builders.html.Stylesheet</code></td>
<td>7.2</td>
<td>9.0</td>
<td><code>sphinx.application.Sphinx.add_css_file()</code></td>
</tr>
<tr class="even">
<td><code>sphinx.builders.html.JavaScript</code></td>
<td>7.2</td>
<td>9.0</td>
<td><code>sphinx.application.Sphinx.add_js_file()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.util.split_into</code></td>
<td>7.2</td>
<td>9.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.util.split_index_msg</code></td>
<td>7.2</td>
<td>9.0</td>
<td><code>sphinx.util.index_entries.split_index_msg</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.testing.path</code></td>
<td>7.2</td>
<td>9.0</td>
<td><code>os.path</code> or <code>pathlib</code></td>
</tr>
<tr class="even">
<td><code>sphinx.util.md5</code></td>
<td>7.2</td>
<td>9.0</td>
<td><code>hashlib.md5</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.util.sha1</code></td>
<td>7.2</td>
<td>9.0</td>
<td><code>hashlib.sha1</code></td>
</tr>
<tr class="even">
<td><code>sphinx.util.osutil.cd</code></td>
<td>6.2</td>
<td>8.0</td>
<td><code>contextlib.chdir</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.util.save_traceback</code></td>
<td>6.1</td>
<td>8.0</td>
<td><code>sphinx.util.exceptions.save_traceback</code></td>
</tr>
<tr class="even">
<td><code>sphinx.util.format_exception_cut_frames</code></td>
<td>6.1</td>
<td>8.0</td>
<td><code>sphinx.util.exceptions.format_exception_cut_frames</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.util.epoch_to_rfc1123</code></td>
<td>6.1</td>
<td>8.0</td>
<td><code>sphinx.util.http_date.epoch_to_rfc1123</code></td>
</tr>
<tr class="even">
<td><code>sphinx.util.rfc1123_to_epoch</code></td>
<td>6.1</td>
<td>8.0</td>
<td><code>sphinx.util.http_date.rfc1123_to_epoch</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.util.status_iterator</code></td>
<td>6.1</td>
<td>8.0</td>
<td><code>sphinx.util.display.status_iterator</code></td>
</tr>
<tr class="even">
<td><code>sphinx.util.display_chunk</code></td>
<td>6.1</td>
<td>8.0</td>
<td><code>sphinx.util.display.display_chunk</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.util.SkipProgressMessage</code></td>
<td>6.1</td>
<td>8.0</td>
<td><code>sphinx.util.display.SkipProgressMessage</code></td>
</tr>
<tr class="even">
<td><code>sphinx.util.progress_message</code></td>
<td>6.1</td>
<td>8.0</td>
<td><code>sphinx.util.display.progress_message</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.util.typing.stringify</code></td>
<td>6.1</td>
<td>8.0</td>
<td><code>sphinx.util.typing.stringify_annotation</code></td>
</tr>
<tr class="even">
<td>HTML 4 support</td>
<td>5.2</td>
<td>7.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.util.path_stabilize</code></td>
<td>5.1</td>
<td>7.0</td>
<td><code>sphinx.util.osutil.path_stabilize</code></td>
</tr>
<tr class="even">
<td><code>sphinx.util.get_matching_files</code></td>
<td>5.1</td>
<td>7.0</td>
<td><code>sphinx.util.matching.get_matching_files</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.napoleon.iterators</code></td>
<td>5.1</td>
<td>7.0</td>
<td><code>pockets.iterators</code></td>
</tr>
<tr class="even">
<td><code>sphinx.util.stemmer</code></td>
<td>5.1</td>
<td>7.0</td>
<td><code>snowballstemmer</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.util.jsdump</code></td>
<td>5.0</td>
<td>7.0</td>
<td>The standard library <code>json</code> module.</td>
</tr>
<tr class="even">
<td>The Setuptools integration (<code>setup.py build_sphinx</code>)</td>
<td>5.0</td>
<td>7.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td>The <code>locale</code> argument of <code>sphinx.util.i18n:babel_format_date()</code></td>
<td>5.0</td>
<td>7.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td>The <code>language</code> argument of <code>sphinx.util.i18n:format_date()</code></td>
<td>5.0</td>
<td>7.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.builders.html.html5_ready</code></td>
<td>5.0</td>
<td>7.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.io.read_doc()</code></td>
<td>5.0</td>
<td>7.0</td>
<td><code>sphinx.builders.Builder.read_doc()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.util.docutils.__version_info__</code></td>
<td>5.0</td>
<td>7.0</td>
<td><code>docutils.__version_info__</code></td>
</tr>
<tr class="even">
<td><code>sphinx.util.docutils.is_html5_writer_available()</code></td>
<td>5.0</td>
<td>7.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.latex.LaTeXWriter.docclasses</code></td>
<td>5.0</td>
<td>7.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.ext.napoleon.docstring.GoogleDocstring._qualify_name()</code></td>
<td>4.5</td>
<td>6.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.autodoc.AttributeDocumenter._datadescriptor</code></td>
<td>4.3</td>
<td>6.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.writers.html.HTMLTranslator._fieldlist_row_index</code></td>
<td>4.3</td>
<td>6.0</td>
<td><code>sphinx.writers.html.HTMLTranslator._fieldlist_row_indices</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.html.HTMLTranslator._table_row_index</code></td>
<td>4.3</td>
<td>6.0</td>
<td><code>sphinx.writers.html.HTMLTranslator._table_row_indices</code></td>
</tr>
<tr class="even">
<td><code>sphinx.writers.html5.HTML5Translator._fieldlist_row_index</code></td>
<td>4.3</td>
<td>6.0</td>
<td><code>sphinx.writers.html5.HTML5Translator._fieldlist_row_indices</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.html5.HTML5Translator._table_row_index</code></td>
<td>4.3</td>
<td>6.0</td>
<td><code>sphinx.writers.html5.HTML5Translator._table_row_indices</code></td>
</tr>
<tr class="even">
<td>The optional argument <code>app</code> for <code>sphinx.environment.BuildEnvironment</code></td>
<td>4.1</td>
<td>6.0</td>
<td>The required argument</td>
</tr>
<tr class="odd">
<td><code>sphinx.application.Sphinx.html_theme</code></td>
<td>4.1</td>
<td>6.0</td>
<td><code>sphinx.registry.SphinxComponentRegistry.html_themes</code></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.autosummary._app</code></td>
<td>4.1</td>
<td>6.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.util.docstrings.extract_metadata()</code></td>
<td>4.1</td>
<td>6.0</td>
<td><code>sphinx.util.docstrings.separate_metadata()</code></td>
</tr>
<tr class="even">
<td><code>favicon</code> variable in HTML templates</td>
<td>4.0</td>
<td>6.0</td>
<td><code>favicon_url</code></td>
</tr>
<tr class="odd">
<td><code>logo</code> variable in HTML templates</td>
<td>4.0</td>
<td>6.0</td>
<td><code>logo_url</code></td>
</tr>
<tr class="even">
<td><code>sphinx.directives.patches.ListTable</code></td>
<td>4.0</td>
<td>6.0</td>
<td><code>docutils.parsers.rst.directives.tables.ListSVTable</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.directives.patches.RSTTable</code></td>
<td>4.0</td>
<td>6.0</td>
<td><code>docutils.parsers.rst.directives.tables.RSTTable</code></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.autodoc.directive.DocumenterBridge.filename_set</code></td>
<td>4.0</td>
<td>6.0</td>
<td><code>sphinx.ext.autodoc.directive.DocumenterBridge.record_dependencies</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.autodoc.directive.DocumenterBridge.warn()</code></td>
<td>4.0</td>
<td>6.0</td>
<td>[logging-api](#logging-api)</td>
</tr>
<tr class="even">
<td><code>sphinx.registry.SphinxComponentRegistry.get_source_input()</code></td>
<td>4.0</td>
<td>6.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.registry.SphinxComponentRegistry.source_inputs</code></td>
<td>4.0</td>
<td>6.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.transforms.FigureAligner</code></td>
<td>4.0</td>
<td>6.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.util.pycompat.convert_with_2to3()</code></td>
<td>4.0</td>
<td>6.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.util.pycompat.execfile_()</code></td>
<td>4.0</td>
<td>6.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.util.smartypants</code></td>
<td>4.0</td>
<td>6.0</td>
<td><code>docutils.utils.smartquotes</code></td>
</tr>
<tr class="even">
<td><code>sphinx.util.typing.DirectiveOption</code></td>
<td>4.0</td>
<td>6.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td>pending_xref node for viewcode extension</td>
<td>3.5</td>
<td>5.0</td>
<td><code>sphinx.ext.viewcode.viewcode_anchor</code></td>
</tr>
<tr class="even">
<td><code>sphinx.builders.linkcheck.CheckExternalLinksBuilder.anchors_ignore</code></td>
<td>3.5</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.builders.linkcheck.CheckExternalLinksBuilder.auth</code></td>
<td>3.5</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.builders.linkcheck.CheckExternalLinksBuilder.broken</code></td>
<td>3.5</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.builders.linkcheck.CheckExternalLinksBuilder.good</code></td>
<td>3.5</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.builders.linkcheck.CheckExternalLinksBuilder.redirected</code></td>
<td>3.5</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.builders.linkcheck.CheckExternalLinksBuilder.rqueue</code></td>
<td>3.5</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.builders.linkcheck.CheckExternalLinksBuilder.to_ignore</code></td>
<td>3.5</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.builders.linkcheck.CheckExternalLinksBuilder.workers</code></td>
<td>3.5</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.builders.linkcheck.CheckExternalLinksBuilder.wqueue</code></td>
<td>3.5</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.builders.linkcheck.node_line_or_0()</code></td>
<td>3.5</td>
<td>5.0</td>
<td><code>sphinx.util.nodes.get_node_line()</code></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.autodoc.AttributeDocumenter.isinstanceattribute()</code></td>
<td>3.5</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.autodoc.importer.get_module_members()</code></td>
<td>3.5</td>
<td>5.0</td>
<td><code>sphinx.ext.autodoc.ModuleDocumenter.get_module_members()</code></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.autosummary.generate._simple_info()</code></td>
<td>3.5</td>
<td>5.0</td>
<td>[logging-api](#logging-api)</td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.autosummary.generate._simple_warn()</code></td>
<td>3.5</td>
<td>5.0</td>
<td>[logging-api](#logging-api)</td>
</tr>
<tr class="even">
<td><code>sphinx.writers.html.HTMLTranslator.permalink_text</code></td>
<td>3.5</td>
<td>5.0</td>
<td><code class="interpreted-text" role="confval">html_permalinks_icon</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.html5.HTML5Translator.permalink_text</code></td>
<td>3.5</td>
<td>5.0</td>
<td><code class="interpreted-text" role="confval">html_permalinks_icon</code></td>
</tr>
<tr class="even">
<td>The <code>follow_wrapped</code> argument of <code>sphinx.util.inspect.signature()</code></td>
<td>3.4</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td>The <code>no_docstring</code> argument of <code>sphinx.ext.autodoc.Documenter.add_content()</code></td>
<td>3.4</td>
<td>5.0</td>
<td><code>sphinx.ext.autodoc.Documenter.get_doc()</code></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.autodoc.Documenter.get_object_members()</code></td>
<td>3.4</td>
<td>6.0</td>
<td><code>sphinx.ext.autodoc.ClassDocumenter.get_object_members()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.autodoc.DataDeclarationDocumenter</code></td>
<td>3.4</td>
<td>5.0</td>
<td><code>sphinx.ext.autodoc.DataDocumenter</code></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.autodoc.GenericAliasDocumenter</code></td>
<td>3.4</td>
<td>5.0</td>
<td><code>sphinx.ext.autodoc.DataDocumenter</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.autodoc.InstanceAttributeDocumenter</code></td>
<td>3.4</td>
<td>5.0</td>
<td><code>sphinx.ext.autodoc.AttributeDocumenter</code></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.autodoc.SlotsAttributeDocumenter</code></td>
<td>3.4</td>
<td>5.0</td>
<td><code>sphinx.ext.autodoc.AttributeDocumenter</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.autodoc.TypeVarDocumenter</code></td>
<td>3.4</td>
<td>5.0</td>
<td><code>sphinx.ext.autodoc.DataDocumenter</code></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.autodoc.directive.DocumenterBridge.reporter</code></td>
<td>3.5</td>
<td>5.0</td>
<td><code>sphinx.util.logging</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.autodoc.importer._getannotations()</code></td>
<td>3.4</td>
<td>4.0</td>
<td><code>sphinx.util.inspect.getannotations()</code></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.autodoc.importer._getmro()</code></td>
<td>3.4</td>
<td>4.0</td>
<td><code>sphinx.util.inspect.getmro()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.pycode.ModuleAnalyzer.parse()</code></td>
<td>3.4</td>
<td>5.0</td>
<td><code>sphinx.pycode.ModuleAnalyzer.analyze()</code></td>
</tr>
<tr class="even">
<td><code>sphinx.util.osutil.movefile()</code></td>
<td>3.4</td>
<td>5.0</td>
<td><code>os.replace()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.util.requests.is_ssl_error()</code></td>
<td>3.4</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.builders.latex.LaTeXBuilder.usepackages</code></td>
<td>3.3</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.builders.latex.LaTeXBuilder.usepackages_afger_hyperref</code></td>
<td>3.3</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.ext.autodoc.SingledispatchFunctionDocumenter</code></td>
<td>3.3</td>
<td>5.0</td>
<td><code>sphinx.ext.autodoc.FunctionDocumenter</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.autodoc.SingledispatchMethodDocumenter</code></td>
<td>3.3</td>
<td>5.0</td>
<td><code>sphinx.ext.autodoc.MethodDocumenter</code></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.autodoc.members_set_option()</code></td>
<td>3.2</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.autodoc.merge_special_members_option()</code></td>
<td>3.2</td>
<td>5.0</td>
<td><code>sphinx.ext.autodoc.merge_members_option()</code></td>
</tr>
<tr class="even">
<td><code>sphinx.writers.texinfo.TexinfoWriter.desc</code></td>
<td>3.2</td>
<td>5.0</td>
<td><code>sphinx.writers.texinfo.TexinfoWriter.descs</code></td>
</tr>
<tr class="odd">
<td>The first argument for <code>sphinx.ext.autosummary.generate.AutosummaryRenderer</code> has been changed to Sphinx object</td>
<td>3.1</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.ext.autosummary.generate.AutosummaryRenderer</code> takes an object type as an argument</td>
<td>3.1</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td>The <code>ignore</code> argument of <code>sphinx.ext.autodoc.Documenter.get_doc()</code></td>
<td>3.1</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td>The <code>template_dir</code> argument of <code>sphinx.ext.autosummary.generate.AutosummaryRenderer</code></td>
<td>3.1</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td>The <code>module</code> argument of <code>sphinx.ext.autosummary.generate.find_autosummary_in_docstring()</code></td>
<td>3.0</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td>The <code>builder</code> argument of <code>sphinx.ext.autosummary.generate.generate_autosummary_docs()</code></td>
<td>3.1</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td>The <code>template_dir</code> argument of <code>sphinx.ext.autosummary.generate.generate_autosummary_docs()</code></td>
<td>3.1</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.ext.autosummary.generate.AutosummaryRenderer.exists()</code></td>
<td>3.1</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td>The <code>ignore</code> argument of <code>sphinx.util.docstring.prepare_docstring()</code></td>
<td>3.1</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.util.rpartition()</code></td>
<td>3.1</td>
<td>5.0</td>
<td><code>str.rpartition()</code></td>
</tr>
<tr class="odd">
<td><code>desc_signature['first']</code></td>
<td></td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.directives.DescDirective</code></td>
<td>3.0</td>
<td>5.0</td>
<td><code>sphinx.directives.ObjectDescription</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.domains.std.StandardDomain.add_object()</code></td>
<td>3.0</td>
<td>5.0</td>
<td><code>sphinx.domains.std.StandardDomain.note_object()</code></td>
</tr>
<tr class="even">
<td><code>sphinx.domains.python.PyDecoratorMixin</code></td>
<td>3.0</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.autodoc.get_documenters()</code></td>
<td>3.0</td>
<td>5.0</td>
<td><code>sphinx.registry.documenters</code></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.autosummary.process_autosummary_toc()</code></td>
<td>3.0</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.parsers.Parser.app</code></td>
<td>3.0</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.testing.path.Path.text()</code></td>
<td>3.0</td>
<td>5.0</td>
<td><code>sphinx.testing.path.Path.read_text()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.testing.path.Path.bytes()</code></td>
<td>3.0</td>
<td>5.0</td>
<td><code>sphinx.testing.path.Path.read_bytes()</code></td>
</tr>
<tr class="even">
<td><code>sphinx.util.inspect.getargspec()</code></td>
<td>3.0</td>
<td>5.0</td>
<td><code>inspect.getargspec()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.latex.LaTeXWriter.format_docclass()</code></td>
<td>3.0</td>
<td>5.0</td>
<td>LaTeX Themes</td>
</tr>
<tr class="even">
<td><code>decode</code> argument of <code>sphinx.pycode.ModuleAnalyzer()</code></td>
<td>2.4</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.directives.other.Index</code></td>
<td>2.4</td>
<td>4.0</td>
<td><code>sphinx.domains.index.IndexDirective</code></td>
</tr>
<tr class="even">
<td><code>sphinx.environment.temp_data['gloss_entries']</code></td>
<td>2.4</td>
<td>4.0</td>
<td><code>documents.nameids</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.environment.BuildEnvironment.indexentries</code></td>
<td>2.4</td>
<td>4.0</td>
<td><code>sphinx.domains.index.IndexDomain</code></td>
</tr>
<tr class="even">
<td><code>sphinx.environment.collectors.indexentries.IndexEntriesCollector</code></td>
<td>2.4</td>
<td>4.0</td>
<td><code>sphinx.domains.index.IndexDomain</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.io.FiletypeNotFoundError</code></td>
<td>2.4</td>
<td>4.0</td>
<td><code>sphinx.errors.FiletypeNotFoundError</code></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.apidoc.INITPY</code></td>
<td>2.4</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.apidoc.shall_skip()</code></td>
<td>2.4</td>
<td>4.0</td>
<td><code>sphinx.ext.apidoc.is_skipped_package</code></td>
</tr>
<tr class="even">
<td><code>sphinx.io.get_filetype()</code></td>
<td>2.4</td>
<td>4.0</td>
<td><code>sphinx.util.get_filetype()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.pycode.ModuleAnalyzer.encoding</code></td>
<td>2.4</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.roles.Index</code></td>
<td>2.4</td>
<td>4.0</td>
<td><code>sphinx.domains.index.IndexRole</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.util.detect_encoding()</code></td>
<td>2.4</td>
<td>4.0</td>
<td><code>tokenize.detect_encoding()</code></td>
</tr>
<tr class="even">
<td><code>sphinx.util.get_module_source()</code></td>
<td>2.4</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.util.inspect.Signature</code></td>
<td>2.4</td>
<td>4.0</td>
<td><code>sphinx.util.inspect.signature</code> and <code>sphinx.util.inspect.stringify_signature()</code></td>
</tr>
<tr class="even">
<td><code>sphinx.util.inspect.safe_getmembers()</code></td>
<td>2.4</td>
<td>4.0</td>
<td><code>inspect.getmembers()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.latex.LaTeXTranslator.settings.author</code></td>
<td>2.4</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.writers.latex.LaTeXTranslator.settings.contentsname</code></td>
<td>2.4</td>
<td>4.0</td>
<td><code>document['contentsname']</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.latex.LaTeXTranslator.settings.docclass</code></td>
<td>2.4</td>
<td>4.0</td>
<td><code>document['docclass']</code></td>
</tr>
<tr class="even">
<td><code>sphinx.writers.latex.LaTeXTranslator.settings.docname</code></td>
<td>2.4</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.latex.LaTeXTranslator.settings.title</code></td>
<td>2.4</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.writers.latex.ADDITIONAL_SETTINGS</code></td>
<td>2.4</td>
<td>4.0</td>
<td><code>sphinx.builders.latex.constants.ADDITIONAL_SETTINGS</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.latex.DEFAULT_SETTINGS</code></td>
<td>2.4</td>
<td>4.0</td>
<td><code>sphinx.builders.latex.constants.DEFAULT_SETTINGS</code></td>
</tr>
<tr class="even">
<td><code>sphinx.writers.latex.LUALATEX_DEFAULT_FONTPKG</code></td>
<td>2.4</td>
<td>4.0</td>
<td><code>sphinx.builders.latex.constants.LUALATEX_DEFAULT_FONTPKG</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.latex.PDFLATEX_DEFAULT_FONTPKG</code></td>
<td>2.4</td>
<td>4.0</td>
<td><code>sphinx.builders.latex.constants.PDFLATEX_DEFAULT_FONTPKG</code></td>
</tr>
<tr class="even">
<td><code>sphinx.writers.latex.XELATEX_DEFAULT_FONTPKG</code></td>
<td>2.4</td>
<td>4.0</td>
<td><code>sphinx.builders.latex.constants.XELATEX_DEFAULT_FONTPKG</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.latex.XELATEX_GREEK_DEFAULT_FONTPKG</code></td>
<td>2.4</td>
<td>4.0</td>
<td><code>sphinx.builders.latex.constants.XELATEX_GREEK_DEFAULT_FONTPKG</code></td>
</tr>
<tr class="even">
<td><code>sphinx.builders.gettext.POHEADER</code></td>
<td>2.3</td>
<td>4.0</td>
<td><code>sphinx/templates/gettext/message.pot_t</code> (template file)</td>
</tr>
<tr class="odd">
<td><code>sphinx.io.SphinxStandaloneReader.app</code></td>
<td>2.3</td>
<td>4.0</td>
<td><code>sphinx.io.SphinxStandaloneReader.setup()</code></td>
</tr>
<tr class="even">
<td><code>sphinx.io.SphinxStandaloneReader.env</code></td>
<td>2.3</td>
<td>4.0</td>
<td><code>sphinx.io.SphinxStandaloneReader.setup()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.util.texescape.tex_escape_map</code></td>
<td>2.3</td>
<td>4.0</td>
<td><code>sphinx.util.texescape.escape()</code></td>
</tr>
<tr class="even">
<td><code>sphinx.util.texescape.tex_hl_escape_map_new</code></td>
<td>2.3</td>
<td>4.0</td>
<td><code>sphinx.util.texescape.hlescape()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.latex.LaTeXTranslator.no_contractions</code></td>
<td>2.3</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.domains.math.MathDomain.add_equation()</code></td>
<td>2.2</td>
<td>4.0</td>
<td><code>sphinx.domains.math.MathDomain.note_equation()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.domains.math.MathDomain.get_next_equation_number()</code></td>
<td>2.2</td>
<td>4.0</td>
<td><code>sphinx.domains.math.MathDomain.note_equation()</code></td>
</tr>
<tr class="even">
<td>The <code>info</code> and <code>warn</code> arguments of <code>sphinx.ext.autosummary.generate.generate_autosummary_docs()</code></td>
<td>2.2</td>
<td>4.0</td>
<td><code>logging.info()</code> and <code>logging.warning()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.autosummary.generate._simple_info()</code></td>
<td>2.2</td>
<td>4.0</td>
<td><code>logging.info()</code></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.autosummary.generate._simple_warn()</code></td>
<td>2.2</td>
<td>4.0</td>
<td><code>logging.warning()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.todo.merge_info()</code></td>
<td>2.2</td>
<td>4.0</td>
<td><code>sphinx.ext.todo.TodoDomain</code></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.todo.process_todo_nodes()</code></td>
<td>2.2</td>
<td>4.0</td>
<td><code>sphinx.ext.todo.TodoDomain</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.todo.process_todos()</code></td>
<td>2.2</td>
<td>4.0</td>
<td><code>sphinx.ext.todo.TodoDomain</code></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.todo.purge_todos()</code></td>
<td>2.2</td>
<td>4.0</td>
<td><code>sphinx.ext.todo.TodoDomain</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.builders.latex.LaTeXBuilder.apply_transforms()</code></td>
<td>2.1</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.builders._epub_base.EpubBuilder.esc()</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>html.escape()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.directives.Acks</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.directives.other.Acks</code></td>
</tr>
<tr class="even">
<td><code>sphinx.directives.Author</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.directives.other.Author</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.directives.Centered</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.directives.other.Centered</code></td>
</tr>
<tr class="even">
<td><code>sphinx.directives.Class</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.directives.other.Class</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.directives.CodeBlock</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.directives.code.CodeBlock</code></td>
</tr>
<tr class="even">
<td><code>sphinx.directives.Figure</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.directives.patches.Figure</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.directives.HList</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.directives.other.HList</code></td>
</tr>
<tr class="even">
<td><code>sphinx.directives.Highlight</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.directives.code.Highlight</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.directives.Include</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.directives.other.Include</code></td>
</tr>
<tr class="even">
<td><code>sphinx.directives.Index</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.directives.other.Index</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.directives.LiteralInclude</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.directives.code.LiteralInclude</code></td>
</tr>
<tr class="even">
<td><code>sphinx.directives.Meta</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.directives.patches.Meta</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.directives.Only</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.directives.other.Only</code></td>
</tr>
<tr class="even">
<td><code>sphinx.directives.SeeAlso</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.directives.other.SeeAlso</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.directives.TabularColumns</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.directives.other.TabularColumns</code></td>
</tr>
<tr class="even">
<td><code>sphinx.directives.TocTree</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.directives.other.TocTree</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.directives.VersionChange</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.domains.changeset.VersionChange</code></td>
</tr>
<tr class="even">
<td><code>sphinx.domains.python.PyClassmember</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.domains.python.PyAttribute</code>, <code>sphinx.domains.python.PyMethod</code>, <code>sphinx.domains.python.PyClassMethod</code>, <code>sphinx.domains.python.PyObject</code> and <code>sphinx.domains.python.PyStaticMethod</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.domains.python.PyModulelevel</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.domains.python.PyFunction</code>, <code>sphinx.domains.python.PyObject</code> and <code>sphinx.domains.python.PyVariable</code></td>
</tr>
<tr class="even">
<td><code>sphinx.domains.std.StandardDomain._resolve_citation_xref()</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.domains.citation.CitationDomain.resolve_xref()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.domains.std.StandardDomain.note_citations()</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.domains.citation.CitationDomain.note_citation()</code></td>
</tr>
<tr class="even">
<td><code>sphinx.domains.std.StandardDomain.note_citation_refs()</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.domains.citation.CitationDomain.note_citation_reference()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.domains.std.StandardDomain.note_labels()</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.domains.std.StandardDomain.process_doc()</code></td>
</tr>
<tr class="even">
<td><code>sphinx.domains.js.JSObject.display_prefix</code></td>
<td></td>
<td>4.3</td>
<td><code>sphinx.domains.js.JSObject.get_display_prefix()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.environment.NoUri</code></td>
<td>2.1</td>
<td>3.0</td>
<td><code>sphinx.errors.NoUri</code></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.apidoc.format_directive()</code></td>
<td>2.1</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.apidoc.format_heading()</code></td>
<td>2.1</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.ext.apidoc.makename()</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.ext.apidoc.module_join()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.autodoc.importer.MockFinder</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.ext.autodoc.mock.MockFinder</code></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.autodoc.importer.MockLoader</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.ext.autodoc.mock.MockLoader</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.autodoc.importer.mock()</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.ext.autodoc.mock.mock()</code></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.autosummary.autolink_role()</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.ext.autosummary.AutoLink</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.imgmath.DOC_BODY</code></td>
<td>2.1</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.ext.imgmath.DOC_BODY_PREVIEW</code></td>
<td>2.1</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.imgmath.DOC_HEAD</code></td>
<td>2.1</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.transforms.CitationReferences</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.domains.citation.CitationReferenceTransform</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.transforms.SmartQuotesSkipper</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.domains.citation.CitationDefinitionTransform</code></td>
</tr>
<tr class="even">
<td><code>sphinx.util.docfields.DocFieldTransformer.preprocess_fieldtypes()</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.directives.ObjectDescription.get_field_type_map()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.util.node.find_source_node()</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.util.node.get_node_source()</code></td>
</tr>
<tr class="even">
<td><code>sphinx.util.i18n.find_catalog()</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.util.i18n.docname_to_domain()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.util.i18n.find_catalog_files()</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.util.i18n.CatalogRepository</code></td>
</tr>
<tr class="even">
<td><code>sphinx.util.i18n.find_catalog_source_files()</code></td>
<td>2.1</td>
<td>4.0</td>
<td><code>sphinx.util.i18n.CatalogRepository</code></td>
</tr>
<tr class="odd">
<td><code>encoding</code> argument of <code>autodoc.Documenter.get_doc()</code>, <code>autodoc.DocstringSignatureMixin.get_doc()</code>, <code>autodoc.DocstringSignatureMixin._find_signature()</code>, and <code>autodoc.ClassDocumenter.get_doc()</code></td>
<td>2.0</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td>arguments of <code>EpubBuilder.build_mimetype()</code>, <code>EpubBuilder.build_container()</code>, <code>EpubBuilder.build_content()</code>, <code>EpubBuilder.build_toc()</code> and <code>EpubBuilder.build_epub()</code></td>
<td>2.0</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td>arguments of <code>Epub3Builder.build_navigation_doc()</code></td>
<td>2.0</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>nodetype</code> argument of <code>sphinx.search.WordCollector.is_meta_keywords()</code></td>
<td>2.0</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>suffix</code> argument of <code>BuildEnvironment.doc2path()</code></td>
<td>2.0</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td>string style <code>base</code> argument of <code>BuildEnvironment.doc2path()</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>os.path.join()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.addnodes.abbreviation</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>docutils.nodes.abbreviation</code></td>
</tr>
<tr class="even">
<td><code>sphinx.builders.applehelp</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>sphinxcontrib.applehelp</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.builders.devhelp</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>sphinxcontrib.devhelp</code></td>
</tr>
<tr class="even">
<td><code>sphinx.builders.epub3.Epub3Builder.validate_config_value()</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>sphinx.builders.epub3.validate_config_values()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.builders.html.JSONHTMLBuilder</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>sphinx.builders.serializinghtml.JSONHTMLBuilder</code></td>
</tr>
<tr class="even">
<td><code>sphinx.builders.html.PickleHTMLBuilder</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>sphinx.builders.serializinghtml.PickleHTMLBuilder</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.builders.html.SerializingHTMLBuilder</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>sphinx.builders.serializinghtml.SerializingHTMLBuilder</code></td>
</tr>
<tr class="even">
<td><code>sphinx.builders.html.SingleFileHTMLBuilder</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>sphinx.builders.singlehtml.SingleFileHTMLBuilder</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.builders.html.WebHTMLBuilder</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>sphinx.builders.serializinghtml.PickleHTMLBuilder</code></td>
</tr>
<tr class="even">
<td><code>sphinx.builders.htmlhelp</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>sphinxcontrib.htmlhelp</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.builders.htmlhelp.HTMLHelpBuilder.open_file()</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>open()</code></td>
</tr>
<tr class="even">
<td><code>sphinx.builders.qthelp</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>sphinxcontrib.qthelp</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.cmd.quickstart.term_decode()</code></td>
<td>2.0</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.cmd.quickstart.TERM_ENCODING</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>sys.stdin.encoding</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.config.check_unicode()</code></td>
<td>2.0</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.config.string_classes</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>[str]</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.domains.cpp.DefinitionError.description</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>str(exc)</code></td>
</tr>
<tr class="even">
<td><code>sphinx.domains.cpp.NoOldIdError.description</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>str(exc)</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.domains.cpp.UnsupportedMultiCharacterCharLiteral.decoded</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>str(exc)</code></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.autosummary.Autosummary.warn()</code></td>
<td>2.0</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.autosummary.Autosummary.genopt</code></td>
<td>2.0</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.ext.autosummary.Autosummary.warnings</code></td>
<td>2.0</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.autosummary.Autosummary.result</code></td>
<td>2.0</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.ext.doctest.doctest_encode()</code></td>
<td>2.0</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.jsmath</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>sphinxcontrib.jsmath</code></td>
</tr>
<tr class="even">
<td><code>sphinx.roles.abbr_role()</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>sphinx.roles.Abbreviation</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.roles.emph_literal_role()</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>sphinx.roles.EmphasizedLiteral</code></td>
</tr>
<tr class="even">
<td><code>sphinx.roles.menusel_role()</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>sphinx.roles.GUILabel</code> or <code>sphinx.roles.MenuSelection</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.roles.index_role()</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>sphinx.roles.Index</code></td>
</tr>
<tr class="even">
<td><code>sphinx.roles.indexmarkup_role()</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>sphinx.roles.PEP</code> or <code>sphinx.roles.RFC</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.testing.util.remove_unicode_literal()</code></td>
<td>2.0</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.util.attrdict</code></td>
<td>2.0</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.util.force_decode()</code></td>
<td>2.0</td>
<td>5.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.util.get_matching_docs()</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>sphinx.util.get_matching_files()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.util.inspect.Parameter</code></td>
<td>2.0</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.util.jsonimpl</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>sphinxcontrib.serializinghtml.jsonimpl</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.util.osutil.EEXIST</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>errno.EEXIST</code> or <code>FileExistsError</code></td>
</tr>
<tr class="even">
<td><code>sphinx.util.osutil.EINVAL</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>errno.EINVAL</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.util.osutil.ENOENT</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>errno.ENOENT</code> or <code>FileNotFoundError</code></td>
</tr>
<tr class="even">
<td><code>sphinx.util.osutil.EPIPE</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>errno.ENOENT</code> or <code>BrokenPipeError</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.util.osutil.walk()</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>os.walk()</code></td>
</tr>
<tr class="even">
<td><code>sphinx.util.pycompat.NoneType</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>sphinx.util.typing.NoneType</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.util.pycompat.TextIOWrapper</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>io.TextIOWrapper</code></td>
</tr>
<tr class="even">
<td><code>sphinx.util.pycompat.UnicodeMixin</code></td>
<td>2.0</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.util.pycompat.htmlescape()</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>html.escape()</code></td>
</tr>
<tr class="even">
<td><code>sphinx.util.pycompat.indent()</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>textwrap.indent()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.util.pycompat.sys_encoding</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>sys.getdefaultencoding()</code></td>
</tr>
<tr class="even">
<td><code>sphinx.util.pycompat.terminal_safe()</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>sphinx.util.console.terminal_safe()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.util.pycompat.u</code></td>
<td>2.0</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.util.PeekableIterator</code></td>
<td>2.0</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td>Omitting the <code>filename</code> argument in an overriddent <code>IndexBuilder.feed()</code> method.</td>
<td>2.0</td>
<td>4.0</td>
<td><code>IndexBuilder.feed(docname, filename, title, doctree)</code></td>
</tr>
<tr class="even">
<td><code>sphinx.writers.latex.ExtBabel</code></td>
<td>2.0</td>
<td>4.0</td>
<td><code>sphinx.builders.latex.util.ExtBabel</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.latex.LaTeXTranslator.babel_defmacro()</code></td>
<td>2.0</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.application.Sphinx._setting_up_extension</code></td>
<td>2.0</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td>The <code>importer</code> argument of <code>sphinx.ext.autodoc.importer._MockModule</code></td>
<td>2.0</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.ext.autodoc.importer._MockImporter</code></td>
<td>2.0</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.io.SphinxBaseFileInput</code></td>
<td>2.0</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.io.SphinxFileInput.supported</code></td>
<td>2.0</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.io.SphinxRSTFileInput</code></td>
<td>2.0</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.registry.SphinxComponentRegistry.add_source_input()</code></td>
<td>2.0</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.latex.LaTeXTranslator._make_visit_admonition()</code></td>
<td>2.0</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.writers.latex.LaTeXTranslator.collect_footnotes()</code></td>
<td>2.0</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.texinfo.TexinfoTranslator._make_visit_admonition()</code></td>
<td>2.0</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.writers.text.TextTranslator._make_depart_admonition()</code></td>
<td>2.0</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.latex.LaTeXTranslator.generate_numfig_format()</code></td>
<td>2.0</td>
<td>4.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td>:rst<code class="interpreted-text" role="dir">!highlightlang</code></td>
<td>1.8</td>
<td>4.0</td>
<td>:rst<code class="interpreted-text" role="dir">highlight</code></td>
</tr>
<tr class="odd">
<td><span class="title-ref">!add_stylesheet</span></td>
<td>1.8</td>
<td>6.0</td>
<td><span class="title-ref">~sphinx.application.Sphinx.add_css_file</span></td>
</tr>
<tr class="even">
<td><span class="title-ref">!add_javascript</span></td>
<td>1.8</td>
<td>4.0</td>
<td><span class="title-ref">~sphinx.application.Sphinx.add_js_file</span></td>
</tr>
<tr class="odd">
<td><code class="interpreted-text" role="confval">!autodoc_default_flags</code></td>
<td>1.8</td>
<td>4.0</td>
<td><code class="interpreted-text" role="confval">autodoc_default_options</code></td>
</tr>
<tr class="even">
<td><code>content</code> arguments of <code>sphinx.util.image.guess_mimetype()</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>gettext_compact</code> arguments of <code>sphinx.util.i18n.find_catalog_source_files()</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.io.SphinxI18nReader.set_lineno_for_reporter()</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.io.SphinxI18nReader.line</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.directives.other.VersionChange</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>sphinx.domains.changeset.VersionChange</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.highlighting.PygmentsBridge.unhighlight()</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>trim_doctest_flags</code> arguments of <code>sphinx.highlighting.PygmentsBridge</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.mathbase</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.ext.mathbase.MathDomain</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>sphinx.domains.math.MathDomain</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.mathbase.MathDirective</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>sphinx.directives.patches.MathDirective</code></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.mathbase.math_role()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>docutils.parsers.rst.roles.math_role()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.mathbase.setup_math()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><span class="title-ref">~sphinx.application.Sphinx.add_html_math_renderer</span></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.mathbase.is_in_section_title()</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.mathbase.get_node_equation_number()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>sphinx.util.math.get_node_equation_number()</code></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.mathbase.wrap_displaymath()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>sphinx.util.math.wrap_displaymath()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.mathbase.math</code> (node)</td>
<td>1.8</td>
<td>3.0</td>
<td><code>docutils.nodes.math</code></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.mathbase.displaymath</code> (node)</td>
<td>1.8</td>
<td>3.0</td>
<td><code>docutils.nodes.math_block</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.mathbase.eqref</code> (node)</td>
<td>1.8</td>
<td>3.0</td>
<td><code>sphinx.builders.latex.nodes.math_reference</code></td>
</tr>
<tr class="even">
<td><code class="interpreted-text" role="confval">!viewcode_import</code> (config value)</td>
<td>1.8</td>
<td>3.0</td>
<td><code class="interpreted-text" role="confval">viewcode_follow_imported_members</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.latex.Table.caption_footnotetexts</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.writers.latex.Table.header_footnotetexts</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.latex.LaTeXTranslator.footnotestack</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.writers.latex.LaTeXTranslator.in_container_literal_block</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.latex.LaTeXTranslator.next_section_ids</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.writers.latex.LaTeXTranslator.next_hyperlink_ids</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.latex.LaTeXTranslator.restrict_footnote()</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.writers.latex.LaTeXTranslator.unrestrict_footnote()</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.latex.LaTeXTranslator.push_hyperlink_ids()</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.writers.latex.LaTeXTranslator.pop_hyperlink_ids()</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.latex.LaTeXTranslator.bibitems</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.writers.latex.LaTeXTranslator.hlsettingstack</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.latex.ExtBabel.get_shorthandoff()</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.writers.html.HTMLTranslator.highlightlang()</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.html.HTMLTranslator.highlightlang_base()</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.writers.html.HTMLTranslator.highlightlangopts()</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.html.HTMLTranslator.highlightlinenothreshold()</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.writers.html5.HTMLTranslator.highlightlang()</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.html5.HTMLTranslator.highlightlang_base()</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.writers.html5.HTMLTranslator.highlightlangopts()</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><code>sphinx.writers.html5.HTMLTranslator.highlightlinenothreshold()</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>sphinx.writers.latex.LaTeXTranslator.check_latex_elements()</code></td>
<td>1.8</td>
<td>3.0</td>
<td>Nothing</td>
</tr>
<tr class="odd">
<td><code>sphinx.application.CONFIG_FILENAME</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>sphinx.config.CONFIG_FILENAME</code></td>
</tr>
<tr class="even">
<td><code>Config.check_unicode()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>sphinx.config.check_unicode()</code></td>
</tr>
<tr class="odd">
<td><code>Config.check_types()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>sphinx.config.check_confval_types()</code></td>
</tr>
<tr class="even">
<td><code>dirname</code>, <code>filename</code> and <code>tags</code> arguments of <code>Config.__init__()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>Config.read()</code></td>
</tr>
<tr class="odd">
<td>The value of <code class="interpreted-text" role="confval">html_search_options</code></td>
<td>1.8</td>
<td>3.0</td>
<td>see <code class="interpreted-text" role="confval">html_search_options</code></td>
</tr>
<tr class="even">
<td><code>sphinx.versioning.prepare()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>sphinx.versioning.UIDTransform</code></td>
</tr>
<tr class="odd">
<td><code>Sphinx.override_domain()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><span class="title-ref">~sphinx.application.Sphinx.add_domain</span></td>
</tr>
<tr class="even">
<td><code>Sphinx.import_object()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>sphinx.util.import_object()</code></td>
</tr>
<tr class="odd">
<td><code>suffix</code> argument of <span class="title-ref">~sphinx.application.Sphinx.add_source_parser</span></td>
<td>1.8</td>
<td>3.0</td>
<td><span class="title-ref">~sphinx.application.Sphinx.add_source_suffix</span></td>
</tr>
<tr class="even">
<td><code>BuildEnvironment.load()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>pickle.load()</code></td>
</tr>
<tr class="odd">
<td><code>BuildEnvironment.loads()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>pickle.loads()</code></td>
</tr>
<tr class="even">
<td><code>BuildEnvironment.frompickle()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>pickle.load()</code></td>
</tr>
<tr class="odd">
<td><code>BuildEnvironment.dump()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>pickle.dump()</code></td>
</tr>
<tr class="even">
<td><code>BuildEnvironment.dumps()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>pickle.dumps()</code></td>
</tr>
<tr class="odd">
<td><code>BuildEnvironment.topickle()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>pickle.dump()</code></td>
</tr>
<tr class="even">
<td><code>BuildEnvironment._nitpick_ignore</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code class="interpreted-text" role="confval">nitpick_ignore</code></td>
</tr>
<tr class="odd">
<td><code>BuildEnvironment.versionchanges</code></td>
<td>1.8</td>
<td>3.0</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><code>BuildEnvironment.update()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>Builder.read()</code></td>
</tr>
<tr class="odd">
<td><code>BuildEnvironment.read_doc()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>Builder.read_doc()</code></td>
</tr>
<tr class="even">
<td><code>BuildEnvironment._read_serial()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>Builder.read()</code></td>
</tr>
<tr class="odd">
<td><code>BuildEnvironment._read_parallel()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>Builder.read()</code></td>
</tr>
<tr class="even">
<td><code>BuildEnvironment.write_doctree()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>Builder.write_doctree()</code></td>
</tr>
<tr class="odd">
<td><code>BuildEnvironment.note_versionchange()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>ChangesDomain.note_changeset()</code></td>
</tr>
<tr class="even">
<td><code>warn()</code> (template helper function)</td>
<td>1.8</td>
<td>3.0</td>
<td><code>warning()</code></td>
</tr>
<tr class="odd">
<td><code class="interpreted-text" role="confval">!source_parsers</code></td>
<td>1.8</td>
<td>3.0</td>
<td><span class="title-ref">~sphinx.application.Sphinx.add_source_parser</span></td>
</tr>
<tr class="even">
<td><code>sphinx.util.docutils.directive_helper()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>Directive</code> class of docutils</td>
</tr>
<tr class="odd">
<td><code>sphinx.cmdline</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>sphinx.cmd.build</code></td>
</tr>
<tr class="even">
<td><code>sphinx.make_mode</code></td>
<td>1.8</td>
<td>3.0</td>
<td><code>sphinx.cmd.make_mode</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.locale.l_()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><span class="title-ref">sphinx.locale._</span></td>
</tr>
<tr class="even">
<td><code>sphinx.locale.lazy_gettext()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><span class="title-ref">sphinx.locale._</span></td>
</tr>
<tr class="odd">
<td><code>sphinx.locale.mygettext()</code></td>
<td>1.8</td>
<td>3.0</td>
<td><span class="title-ref">sphinx.locale._</span></td>
</tr>
<tr class="even">
<td><code>sphinx.util.copy_static_entry()</code></td>
<td>1.5</td>
<td>3.0</td>
<td><code>sphinx.util.fileutil.copy_asset()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.build_main()</code></td>
<td>1.7</td>
<td>2.0</td>
<td><code>sphinx.cmd.build.build_main()</code></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.intersphinx.debug()</code></td>
<td>1.7</td>
<td>2.0</td>
<td><code>sphinx.ext.intersphinx.inspect_main()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.autodoc.format_annotation()</code></td>
<td>1.7</td>
<td>2.0</td>
<td><code>sphinx.util.inspect.Signature</code></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.autodoc.formatargspec()</code></td>
<td>1.7</td>
<td>2.0</td>
<td><code>sphinx.util.inspect.Signature</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.autodoc.AutodocReporter</code></td>
<td>1.7</td>
<td>2.0</td>
<td><code>sphinx.util.docutils.switch_source_input()</code></td>
</tr>
<tr class="even">
<td><code>sphinx.ext.autodoc.add_documenter()</code></td>
<td>1.7</td>
<td>2.0</td>
<td><span class="title-ref">~sphinx.application.Sphinx.add_autodocumenter</span></td>
</tr>
<tr class="odd">
<td><code>sphinx.ext.autodoc.AutoDirective._register</code></td>
<td>1.7</td>
<td>2.0</td>
<td><span class="title-ref">~sphinx.application.Sphinx.add_autodocumenter</span></td>
</tr>
<tr class="even">
<td><code>AutoDirective._special_attrgetters</code></td>
<td>1.7</td>
<td>2.0</td>
<td><span class="title-ref">~sphinx.application.Sphinx.add_autodoc_attrgetter</span></td>
</tr>
<tr class="odd">
<td><code>Sphinx.warn()</code>, <code>Sphinx.info()</code></td>
<td>1.6</td>
<td>2.0</td>
<td>[logging-api](#logging-api)</td>
</tr>
<tr class="even">
<td><code>BuildEnvironment.set_warnfunc()</code></td>
<td>1.6</td>
<td>2.0</td>
<td>[logging-api](#logging-api)</td>
</tr>
<tr class="odd">
<td><code>BuildEnvironment.note_toctree()</code></td>
<td>1.6</td>
<td>2.0</td>
<td><code>Toctree.note()</code> (in <code>sphinx.environment.adapters.toctree</code>)</td>
</tr>
<tr class="even">
<td><code>BuildEnvironment.get_toc_for()</code></td>
<td>1.6</td>
<td>2.0</td>
<td><code>Toctree.get_toc_for()</code> (in <code>sphinx.environment.adapters.toctree</code>)</td>
</tr>
<tr class="odd">
<td><code>BuildEnvironment.get_toctree_for()</code></td>
<td>1.6</td>
<td>2.0</td>
<td><code>Toctree.get_toctree_for()</code> (in <code>sphinx.environment.adapters.toctree</code>)</td>
</tr>
<tr class="even">
<td><code>BuildEnvironment.create_index()</code></td>
<td>1.6</td>
<td>2.0</td>
<td><code>IndexEntries.create_index()</code> (in <code>sphinx.environment.adapters.indexentries</code>)</td>
</tr>
<tr class="odd">
<td><code>sphinx.websupport</code></td>
<td>1.6</td>
<td>2.0</td>
<td><a href="">sphinxcontrib-websupport</a></td>
</tr>
<tr class="even">
<td><code>StandaloneHTMLBuilder.css_files</code></td>
<td>1.6</td>
<td>2.0</td>
<td><span class="title-ref">!add_stylesheet</span></td>
</tr>
<tr class="odd">
<td><code>document.settings.gettext_compact</code></td>
<td>1.8</td>
<td>1.8</td>
<td><code class="interpreted-text" role="confval">gettext_compact</code></td>
</tr>
<tr class="even">
<td><code>Sphinx.status_iterator()</code></td>
<td>1.6</td>
<td>1.7</td>
<td><code>sphinx.util.status_iterator()</code></td>
</tr>
<tr class="odd">
<td><code>Sphinx.old_status_iterator()</code></td>
<td>1.6</td>
<td>1.7</td>
<td><code>sphinx.util.old_status_iterator()</code></td>
</tr>
<tr class="even">
<td><code>Sphinx._directive_helper()</code></td>
<td>1.6</td>
<td>1.7</td>
<td><code>sphinx.util.docutils.directive_helper()</code></td>
</tr>
<tr class="odd">
<td><code>sphinx.util.compat.Directive</code></td>
<td>1.6</td>
<td>1.7</td>
<td><code>docutils.parsers.rst.Directive</code></td>
</tr>
<tr class="even">
<td><code>sphinx.util.compat.docutils_version</code></td>
<td>1.6</td>
<td>1.7</td>
<td><code>sphinx.util.docutils.__version_info__</code></td>
</tr>
</tbody>
</table>

<div class="note">

<div class="title">

Note

</div>

On deprecating on public APIs (internal functions and classes), we also follow the policy as much as possible.

</div>

---

domainapi.md

---

# Domain API

<div class="module">

sphinx.domains

</div>

<div class="autoclass" data-members="">

Domain

</div>

<div class="autoclass">

ObjType

</div>

<div class="autoclass" data-members="">

Index

</div>

<div class="autoclass" data-members="" data-member-order="bysource">

IndexEntry

</div>

<div class="module">

sphinx.directives

</div>

<div class="autoclass" data-members="" data-private-members="_toc_entry_name, _object_hierarchy_parts">

ObjectDescription

</div>

## Python Domain

<div class="module">

sphinx.domains.python

</div>

<div class="autoclass">

PythonDomain

<div class="autoattribute">

objects

</div>

<div class="autoattribute">

modules

</div>

<div class="automethod">

note\_object

</div>

<div class="automethod">

note\_module

</div>

</div>

---

envapi.md

---

# Build environment API

<div class="module">

sphinx.environment

</div>

<div class="BuildEnvironment">

**Attributes**

<div class="attribute">

app

Reference to the <span class="title-ref">.Sphinx</span> (application) object.

</div>

<div class="attribute">

config

Reference to the <span class="title-ref">.Config</span> object.

</div>

<div class="attribute">

project

Target project. See <span class="title-ref">.Project</span>.

</div>

<div class="attribute">

srcdir

Source directory.

</div>

<div class="attribute">

doctreedir

Directory for storing pickled doctrees.

</div>

<div class="attribute">

events

An <span class="title-ref">.EventManager</span> object.

</div>

<div class="attribute">

found\_docs

A set of all existing docnames.

</div>

<div class="attribute">

metadata

Dictionary mapping docnames to "metadata" (see \[metadata\](\#metadata)).

</div>

<div class="attribute">

titles

Dictionary mapping docnames to the docutils node for their main title.

</div>

<div class="autoattribute">

docname

</div>

<div class="autoattribute">

parser

</div>

**Utility methods**

<div class="automethod">

doc2path

</div>

<div class="automethod">

relfn2path

</div>

<div class="automethod">

note\_dependency

</div>

<div class="automethod">

new\_serialno

</div>

<div class="automethod">

note\_reread

</div>

</div>

---

event_callbacks.md

---

# Event callbacks API

Connecting callback functions to events is a simple way to extend Sphinx, by hooking into the build process at various points.

Use <span class="title-ref">.Sphinx.connect</span> in an extension's `setup` function, or a `setup` function in your projects `conf.py`, to connect functions to the events:

`` `python    def source_read_handler(app, docname, source):        print('do something here...')     def setup(app):        app.connect('source-read', source_read_handler)  .. seealso::     Extensions can add their own events by using `.Sphinx.add_event`,    and calling them them with    `.Sphinx.emit` or `.Sphinx.emit_firstresult`.  Core events overview ``\` --------------------

Below is an overview of the core event that happens during a build.

`` `none    1. event.config-inited(app,config)    2. event.builder-inited(app)    3. event.env-get-outdated(app, env, added, changed, removed)    4. event.env-before-read-docs(app, env, docnames)     for docname in docnames:       5. event.env-purge-doc(app, env, docname)        if doc changed and not removed:          6. source-read(app, docname, source)          7. run source parsers: text -> docutils.document             - parsers can be added with the app.add_source_parser() API             - event.include-read(app, relative_path, parent_docname, content)               is called for each include directive          8. apply transforms based on priority: docutils.document -> docutils.document             - event.doctree-read(app, doctree) is called in the middle of transforms,               transforms come before/after this event depending on their priority.     9. event.env-merge-info(app, env, docnames, other)       - if running in parallel mode, this event will be emitted for each process     10. event.env-updated(app, env)    11. event.env-get-updated(app, env)     if environment is written to disk:       12. event.env-check-consistency(app, env)     13. event.write-started(app, builder)        - This is called after ``app.parallel\_ok``has been set,          which must not be altered by any event handler.     # The updated-docs list can be builder dependent, but generally includes all new/changed documents,    # plus any output from `env-get-updated`, and then all "parent" documents in the ToC tree    # For builders that output a single page, they are first joined into a single doctree before post-transforms    # or the doctree-resolved event is emitted    for docname in updated-docs:       14. apply post-transforms (by priority): docutils.document -> docutils.document       15. event.doctree-resolved(app, doctree, docname)           - In the event that any reference nodes fail to resolve, the following may emit:           - event.missing-reference(env, node, contnode)           - event.warn-missing-reference(domain, node)     16. Generate output files    17. event.build-finished(app, exception)  Here is also a flow diagram of the events,``\` within the context of the Sphinx build process:

<div class="graphviz" data-caption="Sphinx core events flow">

/\_static/diagrams/sphinx\_core\_events\_flow.dot

</div>

## Core event details

Here is a more detailed list of these events.

<div class="event">

config-inited (app, config)

  - param app  
    <span class="title-ref">.Sphinx</span>

  - param config  
    <span class="title-ref">.Config</span>

Emitted when the config object has been initialized.

<div class="versionadded">

1.8

</div>

</div>

<div class="event">

builder-inited (app)

  - param app  
    <span class="title-ref">.Sphinx</span>

Emitted when the builder object has been created (available as `app.builder`).

</div>

<div class="event">

env-get-outdated (app, env, added, changed, removed)

  - param app  
    <span class="title-ref">.Sphinx</span>

  - param env  
    <span class="title-ref">.BuildEnvironment</span>

  - param added  
    `Set[str]`

  - param changed  
    `Set[str]`

  - param removed  
    `Set[str]`

  - returns  
    `Sequence[str]` of additional docnames to re-read

Emitted when the environment determines which source files have changed and should be re-read. *added*, *changed* and *removed* are sets of docnames that the environment has determined. You can return a list of docnames to re-read in addition to these.

<div class="versionadded">

1.1

</div>

</div>

<div class="event">

env-purge-doc (app, env, docname)

  - param app  
    <span class="title-ref">.Sphinx</span>

  - param env  
    <span class="title-ref">.BuildEnvironment</span>

  - param docname  
    `str`

Emitted when all traces of a source file should be cleaned from the environment, that is, if the source file is removed or before it is freshly read. This is for extensions that keep their own caches in attributes of the environment.

For example, there is a cache of all modules on the environment. When a source file has been changed, the cache's entries for the file are cleared, since the module declarations could have been removed from the file.

<div class="versionadded">

0.5

</div>

</div>

<div class="event">

env-before-read-docs (app, env, docnames)

  - param app  
    <span class="title-ref">.Sphinx</span>

  - param env  
    <span class="title-ref">.BuildEnvironment</span>

  - param docnames  
    `list[str]`

Emitted after the environment has determined the list of all added and changed files and just before it reads them. It allows extension authors to reorder the list of docnames (*inplace*) before processing, or add more docnames that Sphinx did not consider changed (but never add any docnames that are not in <span class="title-ref">.found\_docs</span>).

You can also remove document names; do this with caution since it will make Sphinx treat changed files as unchanged.

<div class="versionadded">

1.3

</div>

</div>

<div class="event">

source-read (app, docname, content)

  - param app  
    <span class="title-ref">.Sphinx</span>

  - param docname  
    `str`

  - param content  
    `list[str]` with a single element, representing the content of the included file.

Emitted when a source file has been read.

You can process the `content` and replace this item to implement source-level transformations.

For example, if you want to use `$` signs to delimit inline math, like in LaTeX, you can use a regular expression to replace `$...$` by ``:math:`...``\`.

<div class="versionadded">

0.5

</div>

</div>

<div class="event">

include-read (app, relative\_path, parent\_docname, content)

  - param app  
    <span class="title-ref">.Sphinx</span>

  - param relative\_path  
    <span class="title-ref">\~pathlib.Path</span> representing the included file relative to the `source directory`.

  - param parent\_docname  
    `str` of the document name that contains the `include` directive.

  - param content  
    `list[str]` with a single element, representing the content of the included file.

Emitted when a file has been read with the `include` directive.

You can process the `content` and replace this item to transform the included content, as with the `source-read` event.

<div class="versionadded">

7.2.5

</div>

<div class="seealso">

The `include` directive and the `source-read` event.

</div>

</div>

<div class="event">

object-description-transform (app, domain, objtype, contentnode)

  - param app  
    <span class="title-ref">.Sphinx</span>

  - param domain  
    `str`

  - param objtype  
    `str`

  - param contentnode  
    <span class="title-ref">.desc\_content</span>

Emitted when an object description directive has run. The *domain* and *objtype* arguments are strings indicating object description of the object. And *contentnode* is a content for the object. It can be modified in-place.

<div class="versionadded">

2.4

</div>

</div>

<div class="event">

doctree-read (app, doctree)

  - param app  
    <span class="title-ref">.Sphinx</span>

  - param doctree  
    <span class="title-ref">docutils.nodes.document</span>

Emitted when a doctree has been parsed and read by the environment, and is about to be pickled. The `doctree` can be modified in-place.

</div>

<div class="event">

missing-reference (app, env, node, contnode)

  - param app  
    <span class="title-ref">.Sphinx</span>

  - param env  
    <span class="title-ref">.BuildEnvironment</span>

  - param node  
    The <span class="title-ref">.pending\_xref</span> node to be resolved. Its `reftype`, `reftarget`, `modname` and `classname` attributes determine the type and target of the reference.

  - param contnode  
    The node that carries the text and formatting inside the future reference and should be a child of the returned reference node.

  - returns  
    A new node to be inserted in the document tree in place of the node, or `None` to let other handlers try.

Emitted when a cross-reference to an object cannot be resolved. If the event handler can resolve the reference, it should return a new docutils node to be inserted in the document tree in place of the node *node*. Usually this node is a <span class="title-ref">\~nodes.reference</span> node containing *contnode* as a child. If the handler can not resolve the cross-reference, it can either return `None` to let other handlers try, or raise <span class="title-ref">\~sphinx.errors.NoUri</span> to prevent other handlers in trying and suppress a warning about this cross-reference being unresolved.

<div class="versionadded">

0.5

</div>

</div>

<div class="event">

warn-missing-reference (app, domain, node)

  - param app  
    <span class="title-ref">.Sphinx</span>

  - param domain  
    The <span class="title-ref">.Domain</span> of the missing reference.

  - param node  
    The <span class="title-ref">.pending\_xref</span> node that could not be resolved.

  - returns  
    `True` if a warning was emitted, else `None`

Emitted when a cross-reference to an object cannot be resolved even after `missing-reference`. If the event handler can emit warnings for the missing reference, it should return `True`. The configuration variables `nitpick_ignore` and `nitpick_ignore_regex` prevent the event from being emitted for the corresponding nodes.

<div class="versionadded">

3.4

</div>

</div>

<div class="event">

doctree-resolved (app, doctree, docname)

  - param app  
    <span class="title-ref">.Sphinx</span>

  - param doctree  
    <span class="title-ref">docutils.nodes.document</span>

  - param docname  
    `str`

Emitted when a doctree has been "resolved" by the environment, that is, all references have been resolved and TOCs have been inserted. The *doctree* can be modified in place.

Here is the place to replace custom nodes that don't have visitor methods in the writers, so that they don't cause errors when the writers encounter them.

</div>

<div class="event">

env-merge-info (app, env, docnames, other)

  - param app  
    <span class="title-ref">.Sphinx</span>

  - param env  
    <span class="title-ref">.BuildEnvironment</span>

  - param docnames  
    `list[str]`

  - param other  
    <span class="title-ref">.BuildEnvironment</span>

This event is only emitted when parallel reading of documents is enabled. It is emitted once for every subprocess that has read some documents.

You must handle this event in an extension that stores data in the environment in a custom location. Otherwise the environment in the main process will not be aware of the information stored in the subprocess.

*other* is the environment object from the subprocess, *env* is the environment from the main process. *docnames* is a set of document names that have been read in the subprocess.

<div class="versionadded">

1.3

</div>

</div>

<div class="event">

env-updated (app, env)

  - param app  
    <span class="title-ref">.Sphinx</span>

  - param env  
    <span class="title-ref">.BuildEnvironment</span>

  - returns  
    iterable of `str`

Emitted after reading all documents, when the environment and all doctrees are now up-to-date.

You can return an iterable of docnames from the handler. These documents will then be considered updated, and will be (re-)written during the writing phase.

<div class="versionadded">

0.5

</div>

<div class="versionchanged">

1.3 The handlers' return value is now used.

</div>

</div>

<div class="event">

env-get-updated (app, env)

  - param app  
    <span class="title-ref">.Sphinx</span>

  - param env  
    <span class="title-ref">.BuildEnvironment</span>

  - returns  
    iterable of `str`

Emitted when the environment determines which source files have changed and should be re-read. You can return an iterable of docnames to re-read.

</div>

<div class="event">

env-check-consistency (app, env)

  - param app  
    <span class="title-ref">.Sphinx</span>

  - param env  
    <span class="title-ref">.BuildEnvironment</span>

Emitted when Consistency checks phase. You can check consistency of metadata for whole of documents.

<div class="versionadded">

1.6

</div>

</div>

<div class="event">

write-started (app, builder)

  - param app  
    <span class="title-ref">.Sphinx</span>

  - param builder  
    <span class="title-ref">.Builder</span>

Emitted before the builder starts to resolve and write documents.

<div class="versionadded">

7.4

</div>

</div>

<div class="event">

build-finished (app, exception)

  - param app  
    <span class="title-ref">.Sphinx</span>

  - param exception  
    `Exception` or `None`

Emitted when a build has finished, before Sphinx exits, usually used for cleanup. This event is emitted even when the build process raised an exception, given as the *exception* argument. The exception is reraised in the application after the event handlers have run. If the build process raised no exception, *exception* will be `None`. This allows to customize cleanup actions depending on the exception status.

<div class="versionadded">

0.5

</div>

</div>

## Builder specific events

These events are emitted by specific builders.

<div class="event">

html-collect-pages (app)

  - param app  
    <span class="title-ref">.Sphinx</span>

  - returns  
    iterable of `(pagename, context, templatename)` where *pagename* and *templatename* are strings and *context* is a `dict[str, Any]`.

Emitted when the HTML builder is starting to write non-document pages.

You can add pages to write by returning an iterable from this event.

<div class="versionadded">

1.0

</div>

</div>

<div class="event">

html-page-context (app, pagename, templatename, context, doctree)

  - param app  
    <span class="title-ref">.Sphinx</span>

  - param pagename  
    `str`

  - param templatename  
    `str`

  - param context  
    `dict[str, Any]`

  - param doctree  
    <span class="title-ref">docutils.nodes.document</span> or `None`

  - returns  
    `str` or `None`

Emitted when the HTML builder has created a context dictionary to render a template with -- this can be used to add custom elements to the context.

The *pagename* argument is the canonical name of the page being rendered, that is, without `.html` suffix and using slashes as path separators. The *templatename* is the name of the template to render, this will be `'page.html'` for all pages from reStructuredText documents.

The *context* argument is a dictionary of values that are given to the template engine to render the page and can be modified to include custom values.

The *doctree* argument will be a doctree when the page is created from a reStructuredText documents; it will be `None` when the page is created from an HTML template alone.

You can return a string from the handler, it will then replace `'page.html'` as the HTML template for this page.

\> **Tip**

</div>

  - \>  
    You can install JS/CSS files for the specific page via <span class="title-ref">.Sphinx.add\_js\_file</span> and <span class="title-ref">.Sphinx.add\_css\_file</span> (since v3.5.0).
    
    <div class="versionadded">
    
    0.4
    
    </div>
    
    <div class="versionchanged">
    
    1.3
    
    </div>
    
    The return value can now specify a template name.

<div class="event">

linkcheck-process-uri (app, uri)

  - param app  
    <span class="title-ref">.Sphinx</span>

  - param uri  
    `str` of the collected URI

  - returns  
    `str` or `None`

Emitted when the linkcheck builder collects hyperlinks from document.

The event handlers can modify the URI by returning a string.

<div class="versionadded">

4.1

</div>

</div>

---

i18n.md

---

# i18n API

<div class="currentmodule">

sphinx.locale

</div>

<div class="autofunction">

init

</div>

<div class="autofunction">

init\_console

</div>

<div class="autofunction">

get\_translation

</div>

<div class="autofunction">

\_

</div>

<div class="autofunction">

\_\_

</div>

## Extension internationalization (`i18n`) and localization (`l10n`) using i18n API

<div class="versionadded">

1.8

</div>

An extension may naturally come with message translations. This is briefly summarized in <span class="title-ref">sphinx.locale.get\_translation</span> help.

In practice, you have to:

1.  Choose a name for your message catalog, which must be unique. Usually the name of your extension is used for the name of message catalog.

2.  Mark in your extension sources all messages as translatable, via <span class="title-ref">sphinx.locale.get\_translation</span> function, usually renamed `_()`, e.g.:
    
    ``` python
    from sphinx.locale import get_translation
    
    MESSAGE_CATALOG_NAME = 'myextension'
    _ = get_translation(MESSAGE_CATALOG_NAME)
    
    translated_text = _('Hello Sphinx!')
    ```

3.  Set up your extension to be aware of its dedicated translations:
    
    ``` python
    def setup(app):
        package_dir = Path(__file__).resolve().parent
        locale_dir = package_dir / 'locales'
        app.add_message_catalog(MESSAGE_CATALOG_NAME, locale_dir)
    ```

4.  Generate message catalog template `*.pot` file, usually in `locale/` source directory, for example via [Babel](https://babel.pocoo.org/):
    
      - \`\`\`console  
        $ pybabel extract --output=src/locale/myextension.pot src/

5.  Create message catalogs (`*.po`) for each language which your extension will provide localization, for example via [Babel](https://babel.pocoo.org/):
    
    ``` console
    $ pybabel init --input-file=src/locale/myextension.pot --domain=myextension --output-dir=src/locale --locale=fr_FR
    ```

6.  Translate message catalogs for each language manually

7.  Compile message catalogs into `*.mo` files, for example via [Babel](https://babel.pocoo.org/):
    
    ``` console
    $ pybabel compile --directory=src/locale --domain=myextension
    ```

8.  Ensure that message catalog files are distributed when your package will be installed, by adding equivalent line in your extension `MANIFEST.in`:
    
    ``` ini
    recursive-include src *.pot *.po *.mo
    ```

When the messages on your extension has been changed, you need to also update `` ` message catalog template and message catalogs, for example via `Babel`_: ``\`console $ pybabel extract --output=src/locale/myextension.pot src/ $ pybabel update --input-file=src/locale/myextension.pot --domain=myextension --output-dir=src/locale

\`\`\`

---

index.md

---

# Sphinx API

Since many projects will need special features in their documentation, Sphinx is designed to be extensible on several levels.

Here are a few things you can do in an extension:

  - Add new `builder`s to support new output formats or actions on the parsed documents.
  - Register custom reStructuredText roles and directives, extending the markup using the \[markupapi\](markupapi.md).
  - Add custom code to so-called "hook points" at strategic places throughout the build process, allowing you to register a hook and run specialized code. For example, see the \[events\](\#events).

An extension is simply a Python module with a `setup()` function. A user activates the extension by placing the extension's module name (or a sub-module) in their `extensions` configuration value.

When `sphinx-build` is executed, Sphinx will attempt to import each module that is listed, and execute `yourmodule.setup(app)`. This function is used to prepare the extension (e.g., by executing Python code), linking resources that Sphinx uses in the build process (like CSS or HTML files), and notifying Sphinx of everything the extension offers (such as directive or role definitions). The `app` argument is an instance of <span class="title-ref">.Sphinx</span> and gives you control over most aspects of the Sphinx build.

\> **Note** \> The configuration file itself can be treated as an extension if it contains a `setup()` function. All other extensions to load must be listed in the `extensions` configuration value.

The rest of this page describes some high-level aspects of developing extensions and various parts of Sphinx's behavior that you can control. For some examples of how extensions can be built and used to control different parts of Sphinx, see the \[extension-tutorials-index\](\#extension-tutorials-index).

## Important objects

There are several key objects whose API you will use while writing an extension. These are:

  - **Application**  
    The application object (usually called `app`) is an instance of <span class="title-ref">.Sphinx</span>. It controls most high-level functionality, such as the setup of extensions, event dispatching and producing output (logging).
    
    If you have the environment object, the application is available as `env.app`.

  - **Environment**  
    The build environment object (usually called `env`) is an instance of <span class="title-ref">.BuildEnvironment</span>. It is responsible for parsing the source documents, stores all metadata about the document collection and is serialized to disk after each build.
    
    Its API provides methods to do with access to metadata, resolving references, etc. It can also be used by extensions to cache information that should persist for incremental rebuilds.
    
    If you have the application or builder object, the environment is available as `app.env` or `builder.env`.

  - **Builder**  
    The builder object (usually called `builder`) is an instance of a specific subclass of <span class="title-ref">.Builder</span>. Each builder class knows how to convert the parsed documents into an output format, or otherwise process them (e.g. check external links).
    
    If you have the application object, the builder is available as `app.builder`.

  - **Config**  
    The config object (usually called `config`) provides the values of configuration values set in `conf.py` as attributes. It is an instance of <span class="title-ref">.Config</span>.
    
    The config is available as `app.config` or `env.config`.

To see an example of use of these objects, refer to \[the tutorials \<extension-tutorials-index\>\](\#the-tutorials-\<extension-tutorials-index\>).

## Build phases

One thing that is vital in order to understand extension mechanisms is the way in which a Sphinx project is built: this works in several phases.

<div class="graphviz" data-caption="Build phases">

/\_static/diagrams/sphinx\_build\_phases.dot

</div>

**Phase 0: Initialization**

In this phase, almost nothing of interest to us happens. The source directory is searched for source files, and extensions are initialized. Should a stored build environment exist, it is loaded, otherwise a new one is created.

**Phase 1: Reading**

In Phase 1, all source files (and on subsequent builds, those that are new or changed) are read and parsed. This is the phase where directives and roles are encountered by docutils, and the corresponding code is executed. The output of this phase is a *doctree* for each source file; that is a tree of docutils nodes. For document elements that aren't fully known until all existing files are read, temporary nodes are created.

There are nodes provided by docutils, which are documented [in the docutils documentation](https://docutils.sourceforge.io/docs/ref/doctree.html). Additional nodes are provided by Sphinx and \[documented here \<nodes\>\](\#documented-here-\<nodes\>).

During reading, the build environment is updated with all meta- and cross reference data of the read documents, such as labels, the names of headings, described Python objects and index entries. This will later be used to replace the temporary nodes.

The parsed doctrees are stored on the disk, because it is not possible to hold all of them in memory.

**Phase 2: Consistency checks**

Some checking is done to ensure no surprises in the built documents.

**Phase 3: Resolving**

Now that the metadata and cross-reference data of all existing documents is known, all temporary nodes are replaced by nodes that can be converted into output using components called transforms. For example, links are created for object references that exist, and simple literal nodes are created for those that don't.

**Phase 4: Writing**

This phase converts the resolved doctrees to the desired output format, such as HTML or LaTeX. This happens via a so-called docutils writer that visits the individual nodes of each doctree and produces some output in the process.

\> **Note** \> Some builders deviate from this general build plan, for example, the builder that checks external links does not need anything more than the parsed doctrees and therefore does not have phases 2--4.

To see an example of application, refer to \[tutorial-extend-build\](\#tutorial-extend-build).

## Extension metadata

<div class="versionadded">

1.3

</div>

The `setup()` function can return a dictionary. This is treated by Sphinx as metadata of the extension. Metadata keys currently recognized are:

  - `'version'`: a string that identifies the extension version. It is used for extension version requirement checking (see `needs_extensions`) and informational purposes. If not given, `"unknown version"` is substituted.

  - `'env_version'`: an integer that identifies the version of env data structure if the extension stores any data to environment. It is used to detect the data structure has been changed from last build. The extensions have to increment the version when data structure has changed. If not given, Sphinx considers the extension does not stores any data to environment.

  - `'parallel_read_safe'`: a boolean that specifies if parallel reading of source files can be used when the extension is loaded. It defaults to `False`, i.e. you have to explicitly specify your extension to be parallel-read-safe after checking that it is.
    
    <div class="note">
    
    <div class="title">
    
    Note
    
    </div>
    
    The *parallel-read-safe* extension must satisfy the following conditions:
    
      - The core logic of the extension is parallelly executable during the reading phase.
      - It has event handlers for `env-merge-info` and `env-purge-doc` events if it stores data to the build environment object (env) during the reading phase.
    
    </div>

  - `'parallel_write_safe'`: a boolean that specifies if parallel writing of output files can be used when the extension is loaded. Since extensions usually don't negatively influence the process, this defaults to `True`.
    
    <div class="note">
    
    <div class="title">
    
    Note
    
    </div>
    
    The *parallel-write-safe* extension must satisfy the following conditions:
    
      - The core logic of the extension is parallelly executable during the writing phase.
    
    </div>

## APIs used for writing extensions

These sections provide a more complete description of the tools at your disposal when developing Sphinx extensions. Some are core to Sphinx (such as the \[appapi\](appapi.md)) while others trigger specific behavior (such as the \[i18n\](i18n.md))

<div class="toctree" data-maxdepth="2">

appapi event\_callbacks projectapi envapi builderapi collectorapi markupapi domainapi parserapi nodes logging i18n utils testing deprecated

</div>

---

logging.md

---

# Logging API

<div class="currentmodule">

sphinx.util.logging

</div>

<div class="autofunction">

getLogger(name)

</div>

<div class="autoclass">

SphinxLoggerAdapter(logging.LoggerAdapter)

<div class="method">

SphinxLoggerAdapter.error(msg, *args,*\*kwargs)

</div>

<div class="method">

SphinxLoggerAdapter.critical(msg, *args,*\*kwargs)

</div>

<div class="method">

SphinxLoggerAdapter.warning(msg, *args,*\*kwargs)

Logs a message on this logger with the specified level. Basically, the arguments are as with python's logging module.

In addition, Sphinx logger supports following keyword arguments:

  - **type**, **\*subtype**\*  
    Categories of warning logs. It is used to suppress warnings by `suppress_warnings` setting.

  - **location**  
    Where the warning happened. It is used to include the path and line number in each log. It allows docname, tuple of docname and line number and nodes:
    
        logger = sphinx.util.logging.getLogger(__name__)
        logger.warning('Warning happened!', location='index')
        logger.warning('Warning happened!', location=('chapter1/index', 10))
        logger.warning('Warning happened!', location=some_node)

  - **color**  
    The color of logs. By default, error level logs are colored as `"darkred"`, critical level ones is not colored, and warning level ones are colored as `"red"`.

</div>

<div class="method">

SphinxLoggerAdapter.log(level, msg, *args,*\*kwargs)

</div>

<div class="method">

SphinxLoggerAdapter.info(msg, *args,*\*kwargs)

</div>

<div class="method">

SphinxLoggerAdapter.verbose(msg, *args,*\*kwargs)

</div>

<div class="method">

SphinxLoggerAdapter.debug(msg, *args,*\*kwargs)

Logs a message to this logger with the specified level. Basically, the arguments are as with python's logging module.

In addition, Sphinx logger supports following keyword arguments:

  - **nonl**  
    If true, the logger does not fold lines at the end of the log message. The default is `False`.

  - **location**  
    Where the message emitted. For more detail, see <span class="title-ref">SphinxLoggerAdapter.warning</span>.

  - **color**  
    The color of logs. By default, info and verbose level logs are not colored, and debug level ones are colored as `"darkgray"`.

</div>

</div>

<div class="autofunction">

pending\_logging()

</div>

<div class="autofunction">

pending\_warnings()

</div>

<div class="autofunction">

prefixed\_warnings()

</div>

---

markupapi.md

---

# Docutils markup API

This section describes the API for adding reStructuredText markup elements (roles and directives).

## Roles

Roles follow the interface described below. They have to be registered by an extension using <span class="title-ref">.Sphinx.add\_role</span> or <span class="title-ref">.Sphinx.add\_role\_to\_domain</span>.

`` `python    def role_function(        role_name: str, raw_source: str, text: str,        lineno: int, inliner: Inliner,        options: dict = {}, content: list = [],    ) -> tuple[list[Node], list[system_message]]:        elements = []        messages = []        return elements, messages  The *options* and *content* parameters are only used for custom roles ``<span class="title-ref"> created via the :dudir:\`role</span> directive. The return value is a tuple of two lists, the first containing the text nodes and elements from the role, and the second containing any system messages generated. For more information, see the [custom role overview](https://docutils.sourceforge.io/docs/howto/rst-roles.html) from Docutils.

### Creating custom roles

Sphinx provides two base classes for creating custom roles, <span class="title-ref">\~sphinx.util.docutils.SphinxRole</span> and <span class="title-ref">\~sphinx.util.docutils.ReferenceRole</span>.

These provide a class-based interface for creating roles, where the main logic must be implemented in your `run()` method. The classes provide a number of useful methods and attributes, such as `self.text`, `self.config`, and `self.env`. The `ReferenceRole` class implements Sphinx's `title <target>` logic, exposing `self.target` and `self.title` attributes. This is useful for creating cross-reference roles.

## Directives

Directives are handled by classes derived from `docutils.parsers.rst.Directive`. They have to be registered by an extension using <span class="title-ref">.Sphinx.add\_directive</span> or <span class="title-ref">.Sphinx.add\_directive\_to\_domain</span>.

<div class="module">

docutils.parsers.rst

</div>

<div class="Directive">

The markup syntax of the new directive is determined by the follow five class attributes:

<div class="autoattribute">

required\_arguments

</div>

<div class="autoattribute">

optional\_arguments

</div>

<div class="autoattribute">

final\_argument\_whitespace

</div>

<div class="autoattribute">

option\_spec

Option validator functions take a single parameter, the option argument (or `None` if not given), and should validate it or convert it to the proper form. They raise <span class="title-ref">ValueError</span> or <span class="title-ref">TypeError</span> to indicate failure.

There are several predefined and possibly useful validators in the `docutils.parsers.rst.directives` module.

</div>

<div class="autoattribute">

has\_content

</div>

New directives must implement the <span class="title-ref">run</span> method:

<div class="method">

run()

This method must process the directive arguments, options and content, and return a list of Docutils/Sphinx nodes that will be inserted into the document tree at the point where the directive was encountered.

</div>

Instance attributes that are always set on the directive are:

<div class="attribute">

name

The directive name (useful when registering the same directive class under multiple names).

</div>

<div class="attribute">

arguments

The arguments given to the directive, as a list.

</div>

<div class="attribute">

options

The options given to the directive, as a dictionary mapping option names to validated/converted values.

</div>

<div class="attribute">

content

The directive content, if given, as a <span class="title-ref">\!ViewList</span>.

</div>

<div class="attribute">

lineno

The absolute line number on which the directive appeared. This is not always a useful value; use <span class="title-ref">srcline</span> instead.

</div>

<div class="attribute">

content\_offset

Internal offset of the directive content. Used when calling `nested_parse` (see below).

</div>

<div class="attribute">

block\_text

The string containing the entire directive.

</div>

<div class="attribute">

state state\_machine

The state and state machine which controls the parsing. Used for `nested_parse`.

</div>

</div>

<div class="seealso">

[Creating directives]() HOWTO of the Docutils documentation

</div>

### Parsing directive content as reStructuredText

Many directives will contain more markup that must be parsed. To do this, use one of the following APIs from the <span class="title-ref">\~Directive.run</span> method:

  - :py\`.SphinxDirective.parse\_content\_to\_nodes()\`
  - :py\`.SphinxDirective.parse\_text\_to\_nodes()\`

The first method parses all the directive's content as markup, whilst the second only parses the given *text* string. Both methods return the parsed Docutils nodes in a list.

The methods are used as follows:

`` `python    def run(self) -> list[Node]:        # either        parsed = self.parse_content_to_nodes()        # or        parsed = self.parse_text_to_nodes('spam spam spam')        return parsed  > **Note** >     The above utility methods were added in Sphinx 7.4.    Prior to Sphinx 7.4, the following methods should be used to parse content:     * ``self.state.nested\_parse``* `sphinx.util.nodes.nested_parse_with_titles` -- this allows titles in      the parsed content.     .. code-block:: python        def run(self) -> list[Node]:           container = docutils.nodes.Element()           # either           nested_parse_with_titles(self.state, self.result, container)           # or           self.state.nested_parse(self.result, 0, container)           parsed = container.children           return parsed  To parse inline markup,``<span class="title-ref"> use :py</span>\~sphinx.util.docutils.SphinxDirective.parse\_inline()\`. This must only be used for text which is a single line or paragraph, and does not contain any structural elements (headings, transitions, directives, etc).

\> **Note** \> `sphinx.util.docutils.switch_source_input()` allows changing the source (input) file during parsing content in a directive. It is useful to parse mixed content, such as in `sphinx.ext.autodoc`, where it is used to parse docstrings.

> `` `python    from sphinx.util.docutils import switch_source_input    from sphinx.util.parsing import nested_parse_to_nodes     # Switch source_input between parsing content.    # Inside this context, all parsing errors and warnings are reported as    # happened in new source_input (in this case, ``self.result`).    with switch_source_input(self.state, self.result):        parsed = nested_parse_to_nodes(self.state, self.result)  .. deprecated:: 1.7     Until Sphinx 1.6,`sphinx.ext.autodoc.AutodocReporter`was used for this    purpose.  It is replaced by`switch\_source\_input()\`\`.

<div id="ViewLists">

ViewLists and StringLists `` ` ^^^^^^^^^^^^^^^^^^^^^^^^^  Docutils represents document source lines in a ``StringList`class, which inherits from`ViewList`, both in the`docutils.statemachine``module. This is a list with extended functionality, including that slicing creates views of the original list and that the list contains information about source line numbers.  The `Directive.content` attribute is a``StringList`. If you generate content to be parsed as reStructuredText, you have to create a`StringList`for the Docutils APIs. The utility functions provided by Sphinx handle this automatically. Important for content generation are the following points:  * The`ViewList`constructor takes a list of strings (lines)   and a source (document) name. * The`ViewList.append()\`\` method takes a line and a source name as well.

</div>

---

nodes.md

---

# Doctree node classes added by Sphinx

<div class="module">

sphinx.addnodes

</div>

## Nodes for domain-specific object descriptions

### Top-level nodes

These nodes form the top-most levels of object descriptions.

<div class="autoclass">

desc

</div>

<div class="autoclass">

desc\_signature

</div>

<div class="autoclass">

desc\_signature\_line

</div>

<div class="autoclass">

desc\_content

</div>

<div class="autoclass">

desc\_inline

</div>

### Nodes for high-level structure in signatures

These nodes occur in in non-multiline :py\`desc\_signature\` nodes and in :py\`desc\_signature\_line\` nodes.

<div class="autoclass">

desc\_name

</div>

<div class="autoclass">

desc\_addname

</div>

<div class="autoclass">

desc\_type

</div>

<div class="autoclass">

desc\_returns

</div>

<div class="autoclass">

desc\_parameterlist

</div>

<div class="autoclass">

desc\_parameter

</div>

<div class="autoclass">

desc\_optional

</div>

<div class="autoclass">

desc\_annotation

</div>

### Nodes for signature text elements

These nodes inherit :py\`desc\_sig\_element\` and are generally translated to `docutils.nodes.inline` by :py\`\!SigElementFallbackTransform\`.

Extensions may create additional `desc_sig_*`-like nodes but in order for :py\`\!SigElementFallbackTransform\` to translate them to inline nodes automatically, they must be added to :py\`SIG\_ELEMENTS\` via the class keyword argument `_sig_element=True` of :py\`desc\_sig\_element\`, e.g.:

>   - \`\`\`python  
>     class desc\_custom\_sig\_node(desc\_sig\_element, \_sig\_element=True): ...

For backwards compatibility, it is still possible to add the nodes directly `` ` using ``SIG\_ELEMENTS.add(desc\_custom\_sig\_node)\`\`.

<div class="autodata" data-no-value="">

SIG\_ELEMENTS

</div>

<div class="autoclass">

desc\_sig\_element

</div>

<div class="autoclass">

desc\_sig\_space

</div>

<div class="autoclass">

desc\_sig\_name

</div>

<div class="autoclass">

desc\_sig\_operator

</div>

<div class="autoclass">

desc\_sig\_punctuation

</div>

<div class="autoclass">

desc\_sig\_keyword

</div>

<div class="autoclass">

desc\_sig\_keyword\_type

</div>

<div class="autoclass">

desc\_sig\_literal\_number

</div>

<div class="autoclass">

desc\_sig\_literal\_string

</div>

<div class="autoclass">

desc\_sig\_literal\_char

</div>

## New admonition-like constructs

<div class="autoclass">

versionmodified

</div>

<div class="autoclass">

seealso

</div>

## Other paragraph-level nodes

<div class="autoclass">

compact\_paragraph

</div>

## New inline nodes

<div class="autoclass">

index

</div>

<div class="autoclass">

pending\_xref

</div>

<div class="autoclass">

pending\_xref\_condition

</div>

<div class="autoclass">

literal\_emphasis

</div>

<div class="autoclass">

download\_reference

</div>

## Special nodes

<div class="autoclass">

only

</div>

<div class="autoclass">

highlightlang

</div>

You should not need to generate the nodes below in extensions.

<div class="autoclass">

glossary

</div>

<div class="autoclass">

toctree

</div>

<div class="autoclass">

start\_of\_file

</div>

<div class="autoclass">

productionlist

</div>

<div class="autoclass">

production

</div>

---

parserapi.md

---

# Parser API

[The docutils documentation describes](https://docutils.sourceforge.io/docs/dev/hacking.html#parsing-the-document) parsers as follows:

> The Parser analyzes the input document and creates a node tree representation.

In Sphinx, the parser modules works as same as docutils. The parsers are registered to Sphinx by extensions using Application APIs; <span class="title-ref">.Sphinx.add\_source\_suffix</span> and <span class="title-ref">.Sphinx.add\_source\_parser</span>.

The *source suffix* is a mapping from file suffix to file type. For example, `.rst` file is mapped to `'restructuredtext'` type. Sphinx uses the file type to looking for parsers from registered list. On searching, Sphinx refers to the `Parser.supported` attribute and picks up a parser which contains the file type in the attribute.

The users can override the source suffix mappings using `source_suffix` like following:

    # a mapping from file suffix to file types
    source_suffix = {
        '.rst': 'restructuredtext',
        '.md': 'markdown',
    }

You should indicate file types your parser supports. This will allow users to configure their settings appropriately.

<div class="module">

sphinx.parsers

</div>

<div class="autoclass" data-members="">

Parser

</div>

---

projectapi.md

---

# Project API

<div class="currentmodule">

sphinx.project

</div>

<div class="autoclass" data-members="">

Project

</div>

---

testing.md

---

# Testing API

<div class="versionadded">

1.6

</div>

Utility functions and pytest fixtures for testing are provided in :py`!sphinx.testing`. If you are a developer of Sphinx extensions, you can write unit tests with [pytest](https://docs.pytest.org/en/latest/).

## `pytest` configuration

To use pytest fixtures that are provided by `sphinx.testing`, add the `'sphinx.testing.fixtures'` plugin to your test modules or `conftest.py` files as follows:

`` `python    pytest_plugins = ('sphinx.testing.fixtures',)  Usage ``\` -----

If you want to know more detailed usage, please refer to `tests/conftest.py` and other `test_*.py` files under the `tests/` directory.

---

utils.md

---

# Utilities

Sphinx provides utility classes and functions to develop extensions.

## Base classes for components

These base classes are useful to allow your extensions to obtain Sphinx components (e.g. <span class="title-ref">.Config</span>, <span class="title-ref">.BuildEnvironment</span> and so on) easily.

<div class="note">

<div class="title">

Note

</div>

The subclasses of them might not work with bare docutils because they are strongly coupled with Sphinx.

</div>

<div class="autoclass" data-members="">

sphinx.transforms.SphinxTransform

</div>

<div class="autoclass" data-members="">

sphinx.transforms.post\_transforms.SphinxPostTransform

</div>

<div class="autoclass" data-members="">

sphinx.util.docutils.SphinxDirective

</div>

<div class="autoclass" data-members="">

sphinx.util.docutils.SphinxRole

</div>

<div class="autoclass" data-members="">

sphinx.util.docutils.ReferenceRole

</div>

<div class="autoclass" data-members="">

sphinx.transforms.post\_transforms.images.ImageConverter

</div>

## Utility components

<div class="autoclass" data-members="">

sphinx.events.EventManager

</div>

## Utility functions

<div class="autofunction">

sphinx.util.parsing.nested\_parse\_to\_nodes

</div>

## Utility types

<div class="autoclass" data-members="">

sphinx.util.typing.ExtensionMetadata

</div>

---

faq.md

---

# Sphinx FAQ

This is a list of Frequently Asked Questions about Sphinx. Feel free to suggest new entries\!

## How do I...

... create PDF files without LaTeX? [rinohtype]() provides a PDF builder that can be used as a drop-in replacement for the LaTeX builder.

> 

... get section numbers? They are automatic in LaTeX output; for HTML, give a `:numbered:` option to the :rst`toctree` directive where you want to start numbering.

... customize the look of the built HTML files? Use themes, see \[/usage/theming\](/usage/theming.md).

... add global substitutions or includes? Add them in the `rst_prolog` or `rst_epilog` config value.

... display the whole TOC tree in the sidebar? Use the <span class="title-ref">toctree</span> callable in a custom layout template, probably in the `sidebartoc` block.

... write my own extension? See the \[extension-tutorials-index\](\#extension-tutorials-index).

... convert from my existing docs using MoinMoin markup? The easiest way is to convert to xhtml, then convert [xhtml to reStructuredText](). You'll still need to mark up classes and such, but the headings and code examples come through cleanly.

For many more extensions and other contributed stuff, see the [sphinx-contrib](https://github.com/sphinx-contrib/) repository.

## Using Sphinx with...

  - Read the Docs  
    [Read the Docs](https://readthedocs.org) is a documentation hosting service based around Sphinx. They will host sphinx documentation, along with supporting a number of other features including version support, PDF generation, and more. The [Getting Started](https://docs.readthedocs.io/en/stable/intro/getting-started-with-sphinx.html) guide is a good place to start.

  - Epydoc  
    There's a third-party extension providing an [api role]() which refers to Epydoc's API docs for a given identifier.

  - Doxygen  
    Michael Jones has developed a reStructuredText/Sphinx bridge to doxygen called [breathe](https://github.com/breathe-doc/breathe/tree/master).

  - SCons  
    Glenn Hutchings has written a SCons build script to build Sphinx documentation; it is hosted here: <https://bitbucket-archive.softwareheritage.org/projects/zo/zondo/sphinx-scons.html>

  - PyPI  
    Jannis Leidel wrote a [setuptools command](https://pypi.org/project/Sphinx-PyPI-upload/) that automatically uploads Sphinx documentation to the PyPI package documentation area at <https://pythonhosted.org/>.

  - GitHub Pages  
    Please add :py`sphinx.ext.githubpages` to your project. It allows you to publish your document in GitHub Pages. It generates helper files for GitHub Pages on building HTML document automatically.

  - MediaWiki  
    See [sphinx-wiki](), a project by Kevin Dunn.

  - Google Analytics  
    You can use a custom `layout.html` template, like this:
    
      - \`\`\`html+jinja  
        {% extends "\!layout.html" %}
        
        {%- block extrahead %} {{ super() }} \<script\> var \_gaq = \_gaq || \[\]; \_gaq.push(\['\_setAccount', 'XXX account number XXX'\]); \_gaq.push(\['\_trackPageview'\]); \</script\> {% endblock %}
        
        {% block footer %} {{ super() }} \<div class="footer"\>This page uses \<a href="<https://analytics.google.com/>"\> Google Analytics\</a\> to collect statistics. You can disable it by blocking the JavaScript coming from www.google-analytics.com. \<script\> (function() { var ga = document.createElement('script'); ga.src = ('https:' == document.location.protocol ? '<https://ssl>' : '<https://www>') + '.google-analytics.com/ga.js'; ga.setAttribute('async', 'true'); document.documentElement.firstChild.appendChild(ga); })(); \</script\> \</div\> {% endblock %}

  - Google Search  
    To replace Sphinx's built-in search function with Google Search, proceed as follows:
    
    1.  Go to <https://cse.google.com/cse/all> to create the Google Search code snippet.
    
    2.  Copy the code snippet and paste it into `_templates/searchbox.html` in your Sphinx project:
        
        ``` html+jinja
        <div>
           <h3>{{ _('Quick search') }}</h3>
           <script>
              (function() {
                 var cx = '......';
                 var gcse = document.createElement('script');
                 gcse.async = true;
                 gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
                 var s = document.getElementsByTagName('script')[0];
                 s.parentNode.insertBefore(gcse, s);
              })();
           </script>
          <gcse:search></gcse:search>
        </div>
        ```
    
    3.  Add `searchbox.html` to the `html_sidebars` configuration value.

  - `` ` .. _api role: https://git.savannah.gnu.org/cgit/kenozooid.git/tree/doc/extapi.py .. _xhtml to reStructuredText: https://docutils.sourceforge.io/sandbox/xhtml2rest/xhtml2rest.py   Sphinx vs. Docutils -------------------  tl;dr: *docutils* converts reStructuredText to multiple output formats. Sphinx builds upon docutils to allow construction of cross-referenced and indexed bodies of documentation.  `docutils`__ is a text processing system for converting plain text documentation into other, richer formats. As noted in the `docutils documentation`__, docutils uses *readers* to read a document, *parsers* for parsing plain text formats into an internal tree representation made up of different types of *nodes*, and *writers* to output this tree in various document formats.  docutils provides parsers for one plain text format - `reStructuredText`__ - though other, *out-of-tree* parsers have been implemented including Sphinx's [Markdown parser </usage/markdown>](Markdown parser </usage/markdown>.md). On the other hand, it provides writers for many different formats including HTML, LaTeX, man pages, Open Document Format and XML.  docutils exposes all of its functionality through a variety of `front-end tools`__, such as ``rst2html`,`rst2odt`and`rst2xml`. Crucially though, all of these tools, and docutils itself, are concerned with individual documents.  They don't support concepts such as cross-referencing, indexing of documents, or the construction of a document hierarchy (typically manifesting in a table of contents).  Sphinx builds upon docutils by harnessing docutils' readers and parsers and providing its own [/usage/builders/index](/usage/builders/index.md). As a result, Sphinx wraps some of the *writers* provided by docutils. This allows Sphinx to provide many features that would simply not be possible with docutils, such as those outlined above.        .. _epub-faq:  Epub info ---------  The following list gives some hints for the creation of epub files:  * Split the text into several files. The longer the individual HTML files are,   the longer it takes the ebook reader to render them.  In extreme cases, the   rendering can take up to one minute.  * Try to minimize the markup.  This also pays in rendering time.  * For some readers you can use embedded or external fonts using the CSS`@font-face``directive.  This is *extremely* useful for code listings which   are often cut at the right margin.  The default Courier font (or variant) is   quite wide and you can only display up to 60 characters on a line.  If you   replace it with a narrower font, you can get more characters on a line.  You   may even use `FontForge <https://fontforge.github.io/>`_ and create   narrow variants of some free font.  In my case I get up to 70 characters on a   line.    You may have to experiment a little until you get reasonable results.  * Test the created epubs. You can use several alternatives.  The ones I am aware   of are Epubcheck_, Calibre_, FBreader_ (although it does not render the CSS),   and Bookworm_.  For Bookworm, you can download the source from   https://code.google.com/archive/p/threepress and run your own local server.  * Large floating divs are not displayed properly.   If they cover more than one page, the div is only shown on the first page.   In that case you can copy the :file:`epub.css` from the``sphinx/themes/epub/static/`directory to your local`\_static/`directory and remove the float settings.  * Files that are inserted outside of the`toctree``directive must be manually   included. This sometimes applies to appendixes, e.g. the glossary or   the indices.  You can add them with the :confval:`epub_post_files` option.  * The handling of the epub cover page differs from the reStructuredText   procedure which automatically resolves image paths and puts the images   into the``\_images``directory.  For the epub cover page put the image in the   :confval:`html_static_path` directory and reference it with its full path in   the :confval:`epub_cover` config option.  * kindlegen_ command can convert from epub3 resulting file to``.mobi`file   for Kindle. You can get`yourdoc.mobi`under`\_build/epub`after the   following command:`\`console  
    $ make epub $ kindlegen \_build/epub/yourdoc.epub
    
    The kindlegen command doesn't accept documents that have section titles surrounding `toctree` directive:
    
    ``` rst
    ```
    
    # Section Title
    
    <div class="toctree">
    
    subdocument
    
    </div>
    
    # Section After Toc Tree
    
    kindlegen assumes all documents order in line, but the resulting document has complicated order for kindlegen:
    
        ``parent.xhtml`` -> ``child.xhtml`` -> ``parent.xhtml``
    
    If you get the following error, fix your document structure:
    
    ``` none
    ```
    
    Error(prcgen):E24011: TOC section scope is not included in the parent chapter:(title) Error(prcgen):E24001: The table of content could not be built.

  - `` ` .. _Calibre: https://calibre-ebook.com/ .. _FBreader: https://fbreader.org/ .. _Bookworm: https://www.oreilly.com/bookworm/index.html .. _kindlegen: https://www.amazon.com/gp/feature.html?docId=1000765211  .. _texinfo-faq:  Texinfo info ------------  There are two main programs for reading Info files, ``info`and GNU Emacs.  The`info`program has less features but is available in most Unix environments and can be quickly accessed from the terminal.  Emacs provides better font and color display and supports extensive customization (of course).  .. _texinfo-links:  Displaying Links ~~~~~~~~~~~~~~~~  One noticeable problem you may encounter with the generated Info files is how references are displayed.  If you read the source of an Info file, a reference to this section would look like::      * note Displaying Links: target-id  In the stand-alone reader,`info`, references are displayed just as they appear in the source.  Emacs, on the other-hand, will by default replace`\*note:`with`see`and hide the`target-id``.  For example:      [texinfo-links](#texinfo-links)  One can disable generation of the inline references in a document with :confval:`texinfo_cross_references`.  That makes an info file more readable with stand-alone reader (``info`).  The exact behavior of how Emacs displays references is dependent on the variable`Info-hide-note-references`.  If set to the value of`hide`, Emacs will hide both the`\*note:`part and the`target-id`.  This is generally the best way to view Sphinx-based documents since they often make frequent use of links and do not take this limitation into account.  However, changing this variable affects how all Info documents are displayed and most do take this behavior into account.  If you want Emacs to display Info files produced by Sphinx using the value`hide`for`Info-hide-note-references`and the default value for all other Info files, try adding the following Emacs Lisp code to your start-up file,`\~/.emacs.d/init.el`.`\`elisp
    
      - (defadvice info-insert-file-contents (after  
        sphinx-info-insert-file-contents activate) "Hack to make \`Info-hide-note-references' buffer-local and
    
    automatically set to \`hide' iff it can be determined that this file was created from a Texinfo file generated by Docutils or Sphinx." (set (make-local-variable 'Info-hide-note-references) (default-value 'Info-hide-note-references)) (save-excursion (save-restriction (widen) (goto-char (point-min)) (when (re-search-forward "^Generated by \\(Sphinx\\|Docutils\\)" (save-excursion (search-forward "x1f" nil t)) t) (set (make-local-variable 'Info-hide-note-references) 'hide)))))

Notes `` ` ~~~~~  The following notes may be helpful if you want to create Texinfo files:  - Each section corresponds to a different ``node`in the Info file.  - Colons (`:`) cannot be properly escaped in menu entries and xrefs.   They will be replaced with semicolons (`;`).  - Links to external Info files can be created using the somewhat official URI   scheme`info\`\`. For example:

    info:Texinfo#makeinfo_options

---

glossary.md

---

# Glossary

<div class="glossary">

  - builder  
    A class (inheriting from <span class="title-ref">\~sphinx.builders.Builder</span>) that takes parsed documents and performs an action on them. Normally, builders translate the documents to an output format, but it is also possible to use builders that e.g. check for broken links in the documentation, or build coverage information.
    
    See \[/usage/builders/index\](/usage/builders/index.md) for an overview over Sphinx's built-in builders.

  - configuration directory  
    The directory containing `conf.py`. By default, this is the same as the `source directory`, but can be set differently with the **-c** command-line option.

  - directive  
    A reStructuredText markup element that allows marking a block of content with special meaning. Directives are supplied not only by docutils, but Sphinx and custom extensions can add their own. The basic directive syntax looks like this:
    
    \`\`\`rst .. directive-name:: argument ... :option: value
    
    > Content of the directive.

See \[rst-directives\](\#rst-directives) for more information.

</div>

  - document name  
    Since reStructuredText source files can have different extensions (some people like `.txt`, some like `.rst` -- the extension can be configured with `source_suffix`) and different OSes have different path separators, Sphinx abstracts them: `document names` are always relative to the `source directory`, the extension is stripped, and path separators are converted to slashes. All values, parameters and such referring to "documents" expect such document names.
    
    Examples for document names are `index`, `library/zipfile`, or `reference/datamodel/types`. Note that there is no leading or trailing slash.

  - domain  
    A domain is a collection of markup (reStructuredText `directive`s and `role`s) to describe and link to `object`s belonging together, e.g. elements of a programming language. Directive and role names in a domain have names like `domain:name`, e.g. `py:function`.
    
    Having domains means that there are no naming problems when one set of documentation wants to refer to e.g. C++ and Python classes. It also means that extensions that support the documentation of whole new languages are much easier to write.
    
    For more information, refer to \[/usage/domains/index\](/usage/domains/index.md).

  - environment  
    A structure where information about all documents under the root is saved, and used for cross-referencing. The environment is pickled after the parsing stage, so that successive runs only need to read and parse new and changed documents.

  - extension  
    A custom `role`, `directive` or other aspect of Sphinx that allows users to modify any aspect of the build process within Sphinx.
    
    For more information, refer to \[/usage/extensions/index\](/usage/extensions/index.md).

master document root document The document that contains the root :rst`toctree` directive.

  - object  
    The basic building block of Sphinx documentation. Every "object directive" (e.g. :rst`py:function` or :rst`object`) creates such a block; and most objects can be cross-referenced to.

  - RemoveInSphinxXXXWarning  
    The feature which is warned will be removed in Sphinx-XXX version. It usually caused from Sphinx extensions which is using deprecated. See also \[when-deprecation-warnings-are-displayed\](\#when-deprecation-warnings-are-displayed).

  - role  
    A reStructuredText markup element that allows marking a piece of text. Like directives, roles are extensible. The basic syntax looks like this: ``:rolename:`content``\`. See \[rst-inline-markup\](\#rst-inline-markup) for details.

  - source directory  
    The directory which, including its subdirectories, contains all source files for one Sphinx project.

  - reStructuredText  
    An easy-to-read, what-you-see-is-what-you-get plaintext markup syntax and parser system.

\`\`\`

---

index.md

---

# Sphinx

<div class="cssclass">

sphinx-tagline

</div>

> 

<div class="container sphinx-features">

<div class="admonition sphinx-feature">

📝 Rich Text Formatting

Author in \[reStructuredText \<rst-primer\>\](\#restructuredtext-\<rst-primer\>) or \[MyST Markdown \<markdown\>\](\#myst-markdown-\<markdown\>) to create highly structured technical documents, including tables, highlighted code blocks, mathematical notations, and more.

</div>

<div class="admonition sphinx-feature">

🔗 Powerful Cross-Referencing

Create \[cross-references \<xref\>\](\#cross-references-\<xref\>) within your project, and even across \[different projects \<ext-intersphinx\>\](\#different-projects-\<ext-intersphinx\>). Include references to sections, figures, tables, citations, glossaries, code objects, and more.

</div>

<div class="admonition sphinx-feature">

📚 Versatile Documentation Formats

Generate documentation in the preferred formats of your audience, including HTML, LaTeX (for PDF), ePub, Texinfo, \[and more \<builders\>\](\#and-more-\<builders\>).

</div>

<div class="admonition sphinx-feature">

🎨 Extensive Theme Support

Create visually appealing documentation, with a wide choice of \[built-in \<builtin-themes\>\](\#built-in-\<builtin-themes\>) and \[third-party \<third-party-themes\>\](\#third-party-\<third-party-themes\>) HTML themes and the ability to customize or \[create new themes \<extension-html-theme\>\](\#create-new-themes-\<extension-html-theme\>).

</div>

<div class="admonition sphinx-feature">

🔌 Fully Extensible

Add custom functionality, via robust \[extension mechanisms \<extending-sphinx\>\](\#extension-mechanisms-\<extending-sphinx\>) with numerous \[built-in \<builtin-extensions\>\](\#built-in-\<builtin-extensions\>) and \[third-party \<third-party-extensions\>\](\#third-party-\<third-party-extensions\>) extensions available for tasks like creating diagrams, testing code, and more.

</div>

<div class="admonition sphinx-feature">

🛠️ Automatic API Documentation

Generate API documentation for Python, C++ and other \[software domains \<usage-domains\>\](\#software-domains-\<usage-domains\>), manually or \[automatically from docstrings \<ext-autodoc\>\](\#automatically-from-docstrings-\<ext-autodoc\>), ensuring your code documentation stays up-to-date with minimal effort.

</div>

<div class="admonition sphinx-feature">

🌍 Internationalization (i18n)

Add documentation \[translations \<intl\>\](\#translations-\<intl\>) multiple languages to reach a global audience.

</div>

<div class="admonition sphinx-feature">

🌟 Active Community and Support

Benefit from an \[active community \<support-index\>\](\#active-community-\<support-index\>), with numerous resources, tutorials, forums, and examples.

</div>

</div>

-----

<div class="container sphinx-users">

As used by:

<div class="container sphinx-users-logos">

![Python](python-logo.png)

![Linux Kernel](linux-logo.png)

![Project Jupyter](jupyter-logo.png)

</div>

</div>

-----

See below for how to navigate Sphinx's documentation.

<div class="seealso">

The [Sphinx documentation Table of Contents](contents.html) has a full list of this site's pages.

</div>

## Get started

These sections cover the basics of getting started with Sphinx, including creating and building your own documentation from scratch.

<div class="toctree" data-maxdepth="2" data-caption="The Basics">

usage/installation usage/quickstart tutorial/index

</div>

## User guide

These sections cover various topics in using and extending Sphinx for various use-cases. They are a comprehensive guide to using Sphinx in many contexts and assume more knowledge of Sphinx. If you are new to Sphinx, we recommend starting with \[get-started\](\#get-started).

<div class="toctree" data-maxdepth="2" data-caption="User guide">

usage/index development/index extdev/index latex

</div>

## Community guide

Sphinx is community supported and welcomes contributions from anybody. The sections below should help you get started joining the Sphinx community as well as contributing.

See the \[Sphinx contributors' guide \<internals/contributing\>\](Sphinx contributors' guide \<internals/contributing\>.md) if you would like to contribute to the project.

<div class="toctree" data-maxdepth="2" data-caption="Community">

support internals/index faq authors

</div>

## Reference guide

Reference documentation is more complete and programmatic in nature, it is a collection of information that can be quickly referenced. If you would like usecase-driven documentation, see \[get-started\](\#get-started) or \[user-guides\](\#user-guides).

<div class="toctree" data-maxdepth="2" data-caption="Reference">

man/index usage/configuration usage/extensions/index usage/restructuredtext/index glossary changes/index examples

</div>

---

code-of-conduct.md

---

- tocdepth  
    2

# Sphinx Code of Conduct

Like the technical community as a whole, the Sphinx team and community is made up of volunteers from all over the world. Diversity is a strength, but it can also lead to communication issues and unhappiness. To that end, we have a few ground rules that we ask people to adhere to.

  - **Be friendly and patient.**
  - **Be welcoming.** We strive to be a community that welcomes and supports people of all backgrounds and identities. This includes, but is not limited to members of any race, ethnicity, culture, national origin, colour, immigration status, social and economic class, educational level, sex, sexual orientation, gender identity and expression, age, size, family status, political belief, religion, and mental and physical ability.
  - **Be considerate.** Your work will be used by other people, and you in turn will depend on the work of others. Any decision you take will affect users and colleagues, and you should take those consequences into account when making decisions. Remember that we're a world-wide community, so you might not be communicating in someone else's primary language.
  - **Be respectful.** Not all of us will agree all the time, but disagreement is no excuse for poor behavior and poor manners. We might all experience some frustration now and then, but we cannot allow that frustration to turn into a personal attack. It's important to remember that a community where people feel uncomfortable or threatened is not a productive one. Members of the Sphinx community should be respectful when dealing with other members as well as with people outside the Sphinx community.
  - **Be careful in the words that you choose.** We are a community of professionals, and we conduct ourselves professionally. Be kind to others. Do not insult or put down other participants. Harassment and other exclusionary behavior aren't acceptable. This includes, but is not limited to:
      - Violent threats or language directed against another person.
      - Discriminatory jokes and language.
      - Posting sexually explicit or violent material.
      - Posting (or threatening to post) other people's personally identifying information ("doxing").
      - Personal insults, especially those using racist or sexist terms.
      - Unwelcome sexual attention.
      - Advocating for, or encouraging, any of the above behavior.
      - Repeated harassment of others. In general, if someone asks you to stop, then stop.
  - **When we disagree, try to understand why.** Disagreements, both social and technical, happen all the time and Sphinx is no exception. It is important that we resolve disagreements and differing views constructively. Remember that we're different. Different people have different perspectives on issues. Being unable to understand why someone holds a viewpoint doesn't mean that they're wrong. Don't forget that it is human to err and blaming each other doesn't get us anywhere. Instead, focus on helping to resolve issues and learning from mistakes.

This isn't an exhaustive list of things that you can't do. Rather, take it in the spirit in which it's intended - a guide to make it easier to enrich all of us and the technical communities in which we participate. This code of conduct applies to all spaces of the Sphinx community.

**Attribution**

Original text courtesy of the Speak Up\! project: <http://web.archive.org/web/20141109123859/http://speakup.io/coc.html>.

---

contributing.md

---

# Contributing to Sphinx

There are many ways you can contribute to Sphinx, be it filing bug reports or feature requests, writing new documentation or submitting patches for new or fixed behavior. This guide serves to illustrate how you can get started with this.

## Get help

The Sphinx community maintains a number of mailing lists and IRC channels.

  - Stack Overflow with tag [python-sphinx](https://stackoverflow.com/questions/tagged/python-sphinx)  
    Questions and answers about use and development.

  - <span class="title-ref">GitHub Discussions Q\&A</span>\_\_  
    Question-and-answer style forum for discussions.
    
    \_\_ <https://github.com/orgs/sphinx-doc/discussions/categories/q-a>

  - sphinx-users \<<sphinx-users@googlegroups.com>\>  
    Mailing list for user support.

  - sphinx-dev \<<sphinx-dev@googlegroups.com>\>  
    Mailing list for development related discussions.

  - \#sphinx-doc on irc.libera.chat  
    IRC channel for development questions and user support.

## Bug Reports and Feature Requests

If you have encountered a problem with Sphinx or have an idea for a new feature, please submit it to the [issue tracker](https://github.com/sphinx-doc/sphinx/issues) on GitHub.

For bug reports, please include the output produced during the build process and also the log file Sphinx creates after it encounters an unhandled exception. The location of this file should be shown towards the end of the error message. Please also include the output of `sphinx-build --bug-report`.

Including or providing a link to the source files involved may help us fix the issue. If possible, try to create a minimal project that produces the error and post that instead.

## Contribute code

The Sphinx source code is managed using Git and is [hosted on GitHub](https://github.com/sphinx-doc/sphinx). The recommended way for new contributors to submit code to Sphinx is to fork this repository and submit a pull request after committing changes to their fork. The pull request will then need to be approved by one of the core developers before it is merged into the main repository.

### Getting started

Before starting on a patch, we recommend checking for open issues or opening a fresh issue to start a discussion around a feature idea or a bug. If you feel uncomfortable or uncertain about an issue or your changes, feel free to [start a discussion](https://github.com/orgs/sphinx-doc/discussions/).

These are the basic steps needed to start developing on Sphinx.

1.  Create an account on GitHub.

2.  [Fork]() the main Sphinx repository ([sphinx-doc/sphinx]()) using the GitHub interface.

3.  Clone the forked repository to your machine.
    
      - \`\`\`shell  
        git clone <https://github.com/>\<USERNAME\>/sphinx cd sphinx

4.  Setup a virtual environment.
    
    This is not necessary for unit testing, thanks to `tox`, but it is necessary if you wish to run `sphinx-build` locally or run unit tests without the help of `tox`:
    
    ``` shell
    virtualenv ~/.venv
    . ~/.venv/bin/activate
    pip install -e .
    ```

5.  Create a new working branch. Choose any name you like.
    
    ``` shell
    git switch -c feature-xyz
    ```

6.  Hack, hack, hack.
    
    Write your code along with tests that shows that the bug was fixed or that the feature works as expected.

7.  Add a bullet point to `CHANGES.rst` if the fix or feature is not trivial (small doc updates, typo fixes), then commit:
    
    ``` shell
    git commit -m '#42: Add useful new feature that does this.'
    ```
    
    GitHub recognizes certain phrases that can be used to automatically update the issue tracker. For example:
    
    ``` shell
    git commit -m 'Closes #42: Fix invalid markup in docstring of Foo.bar.'
    ```
    
    would close issue \#42.

8.  Push changes in the branch to your forked repository on GitHub:
    
    ``` shell
    git push origin feature-xyz
    ```

9.  Submit a pull request from your branch to the `master` branch.

10. Wait for a core developer or contributor to review your changes.

Coding style `` ` ~~~~~~~~~~~~  Please follow these guidelines when writing code for Sphinx:  * Try to use the same code style as used in the rest of the project.  * For non-trivial changes, please update the :file:`CHANGES.rst` file.   If your changes alter existing behavior, please document this.  * New features should be documented.   Include examples and use cases where appropriate.   If possible, include a sample that is displayed in the generated output.  * When adding a new configuration variable,   be sure to [document it </usage/configuration>](document it </usage/configuration>.md)   and update :file:`sphinx/cmd/quickstart.py` if it's important enough.  * Add appropriate unit tests.  Style and type checks can be run as follows: ``\`shell ruff check . mypy

Unit tests `` ` ~~~~~~~~~~  Sphinx is tested using pytest_ for Python code and Jasmine_ for JavaScript.     To run Python unit tests, we recommend using :program:`tox`, which provides a number of targets and allows testing against multiple different Python environments:  * To list all possible targets: ``\`shell tox -av

  - To run unit tests for a specific Python version, such as Python 3.13:
    
    ``` shell
    tox -e py313
    ```

  - Arguments to `pytest` can be passed via `tox`, e.g., in order to run a particular test:
    
    ``` shell
    tox -e py313 tests/test_module.py::test_new_feature
    ```

You can also test by installing dependencies in your local environment:

> 
> 
> ``` shell
> pip install .[test]
> ```

To run JavaScript tests, use `npm`:

``` shell
npm install
npm run test
```

\> **Tip** \> `jasmine` requires a Firefox binary to use as a test browser.

> On Unix systems, you can check the presence and location of the `firefox` binary at the command-line by running `command -v firefox`.

New unit tests should be included in the `tests/` directory where necessary:

  - For bug fixes, first add a test that fails without your changes and passes after they are applied.
  - Tests that need a `sphinx-build` run should be integrated in one of the existing test modules if possible.
  - Tests should be quick and only test the relevant components, as we aim that *the test suite should not take more than a minute to run*. In general, avoid using the `app` fixture and `app.build()` unless a full integration test is required.

<div class="versionadded">

1.8

Sphinx also runs JavaScript tests.

</div>

<div class="versionchanged">

1.5.2 Sphinx was switched from nose to pytest.

</div>

Contribute documentation `` ` ------------------------  Contributing to documentation involves modifying the source files found in the :file:`doc/` folder. To get started, you should first follow [contribute-get-started](#contribute-get-started), and then take the steps below to work with the documentation.  The following sections describe how to get started with contributing documentation, as well as key aspects of a few different tools that we use.  .. todo:: Add a more extensive documentation contribution guide.   Build the documentation ~~~~~~~~~~~~~~~~~~~~~~~  To build the documentation, run the following command: ``\`shell sphinx-build -M html ./doc ./build/sphinx --fail-on-warning

This will parse the Sphinx documentation's source files and generate HTML for `` ` you to preview in :file:`build/sphinx/html`.  You can also build a **live version of the documentation** that you can preview in the browser. It will detect changes and reload the page any time you make edits. To do so, use `sphinx-autobuild`_ to run the following command: ``\`shell sphinx-autobuild ./doc ./build/sphinx/

Translations `` ` ~~~~~~~~~~~~  The parts of messages in Sphinx that go into builds are translated into several locales.  The translations are kept as gettext ``.po``files translated from the master template :file:`sphinx/locale/sphinx.pot`.  Sphinx uses `Babel <https://babel.pocoo.org/en/latest/>`_ to extract messages and maintain the catalog files.  The :file:`utils` directory contains a helper script,``babel\_runner.py`.  * Use`python babel\_runner.py extract`to update the`.pot`template. * Use`python babel\_runner.py update`to update all existing language   catalogs in`sphinx/locale/*/LC\_MESSAGES\`\` with the current messages in the template file.* Use `python babel_runner.py compile` to compile the `.po` files to binary `.mo` files and `.js` files.

When an updated `.po` file is submitted, run `python babel_runner.py compile` to commit both the source and the compiled catalogs.

When a new locale is submitted, add a new directory with the ISO 639-1 language identifier and put `sphinx.po` in there. Don't forget to update the possible values for `language` in `doc/usage/configuration.rst`.

The Sphinx core messages can also be translated on [Transifex](https://www.transifex.com/sphinx-doc/sphinx-1/). There `tx` client tool, which is provided by the `transifex_client` Python package, can be used to pull translations in `.po` format from Transifex. To do this, go to `sphinx/locale` and then run `tx pull -f -l LANG` where `LANG` is an existing language identifier. It is good practice to run `python babel_runner.py update` afterwards to make sure the `.po` file has the canonical Babel formatting.

## Debugging tips

  - Delete the build cache before building documents if you make changes in the code by running the command `make clean` or using the `sphinx-build --fresh-env` option.
  - Use the `sphinx-build --pdb` option to run `pdb` on exceptions.
  - Use `node.pformat()` and `node.asdom().toxml()` to generate a printable representation of the document structure.
  - Set the configuration variable `keep_warnings` to `True` so warnings will be displayed in the generated output.
  - Set the configuration variable `nitpicky` to `True` so that Sphinx will complain about references without a known target.
  - Set the debugging options in the [Docutils configuration file](https://docutils.sourceforge.io/docs/user/config.html).

## Updating generated files

  - JavaScript stemming algorithms in `sphinx/search/non-minified-js/*.js` are generated using [snowball](https://github.com/snowballstem/snowball) by cloning the repository, executing `make dist_libstemmer_js` and then unpacking the tarball which is generated in `dist` directory.
    
    Minified files in `sphinx/search/minified-js/*.js` are generated from non-minified ones using `uglifyjs` (installed via npm), with `-m` option to enable mangling.

  - The `searchindex.js` files found in the `tests/js/fixtures/*` directories are generated by using the standard Sphinx HTML builder on the corresponding input projects found in `tests/js/roots/*`. The fixtures provide test data used by the Sphinx JavaScript unit tests, and can be regenerated by running the `utils/generate_js_fixtures.py` script.

---

index.md

---

# Contribute to Sphinx

This guide contains information about the Sphinx open source project itself. This is where you can find information about how Sphinx is managed and learn how to contribute to the project.

<div class="toctree" data-maxdepth="2">

contributing release-process organization code-of-conduct

</div>

---

organization.md

---

# Organization of the Sphinx project

The guide explains how the Sphinx project is organized.

## Core developers

The core developers of Sphinx have write access to the main repository. They can commit changes, accept/reject pull requests, and manage items on the issue tracker.

### Guidelines

The following are some general guidelines for core developers:

  - Questionable or extensive changes should be submitted as a pull request instead of being committed directly to the main repository. The pull request should be reviewed by another core developer before it is merged.
  - Trivial changes can be committed directly but be sure to keep the repository in a good working state and that all tests pass before pushing your changes.
  - When committing code written by someone else, please attribute the original author in the commit message and any relevant `CHANGES.rst` entry.

### Membership

Core membership is predicated on continued active contribution to the project. In general, prospective cores should demonstrate:

  - a good understanding of one of more components of Sphinx
  - a history of helpful, constructive contributions
  - a willingness to invest time improving Sphinx

Refer to \[contributing\](contributing.md) for more information on how you can get started.

## Other contributors

You do not need to be a core developer or have write access to be involved in the development of Sphinx. You can submit patches or create pull requests from forked repositories and have a core developer add the changes for you.

Similarly, contributions are not limited to code patches. We also welcome help triaging bugs, input on design decisions, reviews of existing patches and documentation improvements. More information can be found in \[contributing\](contributing.md).

A list of people that have contributed to Sphinx can be found in \[../authors\](../authors.md).

---

release-process.md

---

# Sphinx's release process

## Versioning

Sphinx adheres to `440` versions, with a `major.minor.micro` scheme for the *release segment* (e.g. 1.2.3). The major, minor, and micro version parts should be altered as follows:

  - The major version part should be incremented for incompatible behavior change and public API updates.
  - The minor version part should be incremented for most releases of Sphinx, where backwards-compatibility of API and features are preserves.
  - The micro version part should only be incremented for urgent bugfix-only releases.

When the major version part is incremented, the minor and micro version parts must be set to `0`. When the minor version part is incremented, the micro version part must be set to `0`.

New major versions should come with a beta-testing period before the final release.

## Deprecating a feature

There are a couple reasons that code in Sphinx might be deprecated:

  - If a feature has been improved or modified in a backwards-incompatible way, the old feature or behavior will be deprecated.
  - Sometimes Sphinx will include a backport of a Python library that's not included in a version of Python that Sphinx currently supports. When Sphinx no longer needs to support the older version of Python that doesn't include the library, the library will be deprecated in Sphinx.

As the \[deprecation-policy\](\#deprecation-policy) describes, the first release of Sphinx that deprecates a feature (`A.B`) should raise a `RemovedInSphinxXXWarning` (where `XX` is the Sphinx version where the feature will be removed) when the deprecated feature is invoked. Assuming we have good test coverage, these warnings are converted to errors when running the test suite with warnings enabled:

    pytest -Wall

Thus, when adding a `RemovedInSphinxXXWarning` you need to eliminate or silence any warnings generated when running the tests.

## Deprecation policy

MAJOR and MINOR releases may deprecate certain features from previous releases. If a feature is deprecated in a release A.x, it will continue to work in all A.x.x versions (for all versions of x). It will continue to work in all B.x.x versions but raise deprecation warnings. Deprecated features will be removed at the C.0.0. It means the deprecated feature will work during 2 MAJOR releases at least.

So, for example, if we decided to start the deprecation of a function in Sphinx 2.x:

  - Sphinx 2.x will contain a backwards-compatible replica of the function which will raise a `RemovedInSphinx40Warning`. This is a subclass of <span class="title-ref">python:PendingDeprecationWarning</span>, i.e. it will not get displayed by default.
  - Sphinx 3.x will still contain the backwards-compatible replica, but `RemovedInSphinx40Warning` will be a subclass of <span class="title-ref">python:DeprecationWarning</span> then, and gets displayed by default.
  - Sphinx 4.0 will remove the feature outright.

### Deprecation warnings

Sphinx will enable its `RemovedInNextVersionWarning` warnings by default, if `python:PYTHONWARNINGS` is not set. Therefore you can disable them using:

  - `PYTHONWARNINGS= make html` (Linux/Mac)
  - `export PYTHONWARNINGS=` and do `make html` (Linux/Mac)
  - `set PYTHONWARNINGS=` and do `make html` (Windows)

But you can also explicitly enable the pending ones using e.g. `PYTHONWARNINGS=default` (see the \[Python docs on configuring warnings \<python:describing-warning-filters\>\](\#python-docs-on-configuring-warnings \<python:describing-warning-filters\>)) for more details.

## Python version support policy

Sphinx supports at all minor versions of Python released in the past 3 years from the anticipated release date with a minimum of 3 minor versions of Python. This policy is derived from [SPEC 0](https://scientific-python.org/specs/spec-0000/), a scientific Python domain standard.

For example, a version of Sphinx released in May 2025 would support Python 3.11, 3.12, and 3.13.

This is a summary table with the current policy:

| Date         | Python  |
| ------------ | ------- |
| 05 Oct 2023  | 3.10+   |
| \----------- | \------ |
| 04 Oct 2024  | 3.11+   |
| \----------- | \------ |
| 24 Oct 2025  | 3.12+   |
| \----------- | \------ |
| 01 Oct 2026  | 3.13+   |
| \----------- | \------ |
| 01 Oct 2027  | 3.14+   |

## Release procedures

The release procedures are listed in `utils/release-checklist.rst`.

---

latex.md

---

# LaTeX customization

<div class="module" data-synopsis="LaTeX specifics.">

latex

</div>

Unlike \[the HTML builders \<html-themes\>\](\#the-html-builders-\<html-themes\>), the `latex` builder does not benefit from prepared themes. The \[latex-options\](\#latex-options), and particularly the \[latex\_elements \<latex\_elements\_confval\>\](\#latex\_elements-\<latex\_elements\_confval\>) variable, provides much of the interface for customization. For example:

`` `latex    # inside conf.py    latex_engine = 'xelatex'    latex_elements = {        'passoptionstopackages': r'''    \PassOptionsToPackage{svgnames}{xcolor}    ''',        'fontpkg': r'''    \setmainfont{DejaVu Serif}    \setsansfont{DejaVu Sans}    \setmonofont{DejaVu Sans Mono}    ''',        'preamble': r'''    \usepackage[titles]{tocloft}    \cftsetpnumwidth {1.25cm}\cftsetrmarg{1.5cm}    \setlength{\cftchapnumwidth}{0.75cm}    \setlength{\cftsecindent}{\cftchapnumwidth}    \setlength{\cftsecnumwidth}{1.25cm}    ''',        'sphinxsetup': 'TitleColor=DarkGoldenrod',        'fncychap': r'\usepackage[Bjornstrup]{fncychap}',        'printindex': r'\footnotesize\raggedright\printindex',    }    latex_show_urls = 'footnote'  > **Note** >     Keep in mind that backslashes must be doubled in Python string literals to    avoid interpretation as escape sequences. Alternatively, you may use raw    strings as is done above.  .. _latex_elements_confval:  The ``latex\_elements`configuration setting`\` --------------------------------------------

A dictionary that contains LaTeX snippets overriding those Sphinx usually puts into the generated `.tex` files. Its `'sphinxsetup'` key is described \[separately \<latexsphinxsetup\>\](\#separately-\<latexsphinxsetup\>). It allows also local configurations inserted in generated files, via `raw` directives. For example, in the PDF documentation this chapter is styled especially, as will be described later.

Keys that you may want to override include:

  - `'papersize'`  
    Paper size option of the document class (`'a4paper'` or `'letterpaper'`)
    
    Default: `'letterpaper'`

  - `'pointsize'`  
    Point size option of the document class (`'10pt'`, `'11pt'` or `'12pt'`)
    
    Default: `'10pt'`

  - `'pxunit'`  
    The value of the `px` when used in image attributes `width` and `height`. The default value is `'0.75bp'` which achieves `96px=1in` (in TeX `1in = 72bp = 72.27pt`.) To obtain for example `100px=1in` use `'0.01in'` or `'0.7227pt'` (the latter leads to TeX computing a more precise value, due to the smaller unit used in the specification); for `72px=1in`, simply use `'1bp'`; for `90px=1in`, use `'0.8bp'` or `'0.803pt'`.
    
    Default: `'0.75bp'`
    
    <div class="versionadded">
    
    1.5
    
    </div>

  - `'passoptionstopackages'`  
    A string which will be positioned early in the preamble, designed to contain `\\PassOptionsToPackage{options}{foo}` commands.
    
    <div class="hint">
    
    <div class="title">
    
    Hint
    
    </div>
    
    It may be also used for loading LaTeX packages very early in the preamble. For example package `fancybox` is incompatible with being loaded via the `'preamble'` key, it must be loaded earlier.
    
    </div>
    
    Default: `''`
    
    <div class="versionadded">
    
    1.4
    
    </div>

  - `'babel'`  
    "babel" package inclusion, default `r'\\usepackage{babel}'` (the suitable document language string is passed as class option, and `english` is used if no language.) For Japanese documents, the default is the empty string.
    
    With XeLaTeX and LuaLaTeX, Sphinx configures the LaTeX document to use [polyglossia](), but one should be aware that current [babel]() has improved its support for Unicode engines in recent years and for some languages it may make sense to prefer `babel` over `polyglossia`.
    
    <div class="hint">
    
    <div class="title">
    
    Hint
    
    </div>
    
    After modifying a core LaTeX key like this one, clean up the LaTeX build repertory before next PDF build, else left-over auxiliary files are likely to break the build.
    
    </div>
    
    Default: `r'\\usepackage{babel}'` (for Japanese documents)
    
    <div class="versionchanged">
    
    1.5 For `latex_engine` set to `'xelatex'`, the default is `'\\usepackage{polyglossia}\n\\setmainlanguage{<language>}'`.
    
    </div>
    
    <div class="versionchanged">
    
    1.6 `'lualatex'` uses same default setting as `'xelatex'`
    
    </div>
    
    <div class="versionchanged">
    
    1.7.6 For French with `'xelatex'` (not `'lualatex'`) the default is to use `babel`, not `polyglossia`.
    
    </div>
    
    <div class="versionchanged">
    
    7.4.0 For French with `'lualatex'` the default is to use `babel`.
    
    </div>

<div id="fontpkg">

  - `'fontpkg'`  
    Font package inclusion. The default with `'pdflatex'` is:
    
        r"""\usepackage{tgtermes}
        \usepackage{tgheros}
        \renewcommand\ttdefault{txtt}
        """
    
    For `'xelatex'` and `'lualatex'` on the other hand the `\\setmainfont`, `\\setsansfont` and `\\setmonofont` commands of LaTeX package `fontspec` (included via \[fontenc\](\#fontenc)) are used to set up the OpenType fonts GNU FreeSerif, FreeSans, and FreeMono (scaled with ratio `0.9`) as document fonts.
    
    <div class="versionchanged">
    
    1.2 Defaults to `''` when the `language` uses the Cyrillic script.
    
    </div>
    
    <div class="versionchanged">
    
    2.0 Incorporates some font substitution commands to help support occasional Greek or Cyrillic in a document using `'pdflatex'` engine. At 4.0.0 these commands were moved to the `'fontsubstitution'` key.
    
    </div>
    
    <div class="versionchanged">
    
    4.0.0 The default font setting was changed. As shown above it still uses Times and Helvetica clones for serif and sans serif, but via better, more complete TeX fonts and associated LaTeX packages. The monospace font has been changed to better match the Times clone.
    
    </div>
    
    <div class="versionchanged">
    
    8.1.0 The monospace font FreeMono used with Unicode engines is loaded at scale `0.9`. This replaces the former mechanism via \[fvset\](\#fvset) which configured code-blocks to use `\\small`. Inline literals now fit better in their surrounding text, and it is easier to set up custom fonts, as \[fvset\](\#fvset) does not intervene anymore by default.
    
    </div>

  - `'fncychap'`  
    Inclusion of the "fncychap" package (which makes fancy chapter titles), default `r'\\usepackage[Bjarne]{fncychap}'` for English documentation (this option is slightly customized by Sphinx), `r'\\usepackage[Sonny]{fncychap}'` for internationalized docs (because the "Bjarne" style uses numbers spelled out in English). Other "fncychap" styles you can try are "Lenny", "Glenn", "Conny", "Rejne" and "Bjornstrup". You can also set this to `''` to disable fncychap.
    
    Default: `r'\\usepackage[Bjarne]{fncychap}'` for English documents, `r'\\usepackage[Sonny]{fncychap}'` for internationalized documents, and `''` for Japanese documents.

</div>

<div id="preamble">

  - `'preamble'`  
    Additional preamble content. One may move all needed macros into some file `mystyle.tex.txt` of the project source repertory, and get LaTeX to import it at run time:
    
        'preamble': r'\input{mystyle.tex.txt}',
        # or, if the \ProvidesPackage LaTeX macro is used in a file mystyle.sty
        'preamble': r'\usepackage{mystyle}',
    
    It is then needed to set appropriately `latex_additional_files`, for example:
    
    `` `python    latex_additional_files = ["mystyle.sty"]  Do not use ``.tex`as suffix, else the file is submitted itself to the PDF build process, use`.tex.txt`or`.sty`as in the examples above.  Default:`''\`\`

  - `'figure_align'`  
    Latex figure float alignment. Whenever an image doesn't fit into the current page, it will be 'floated' into the next page but may be preceded by any other text. If you don't like this behavior, use 'H' which will disable floating and position figures strictly in the order they appear in the source.
    
    Default: `'htbp'` (here, top, bottom, page)
    
    <div class="versionadded">
    
    1.3
    
    </div>

  - `'atendofbody'`  
    Additional document content (right before the indices).
    
    Default: `''`
    
    <div class="versionadded">
    
    1.5
    
    </div>

  - `'extrapackages'`  
    Additional LaTeX packages. For example:
    
    ``` latex
    latex_elements = {
        'extrapackages': r'\usepackage{isodate}'
    }
    ```
    
    The specified LaTeX packages will be loaded before hyperref package and packages loaded from Sphinx extensions.
    
    <div class="hint">
    
    <div class="title">
    
    Hint
    
    </div>
    
    If you'd like to load additional LaTeX packages after hyperref, use `'preamble'` key instead.
    
    </div>
    
    Default: `''`
    
    <div class="versionadded">
    
    2.3
    
    </div>

  - `'footer'`  
    Additional footer content (before the indices).
    
    Default: `''`
    
    <div class="deprecated">
    
    1.5 Use `'atendofbody'` key instead.
    
    </div>

</div>

Keys that don't need to be overridden unless in special cases are:

  - `'extraclassoptions'`  
    The default is the empty string. Example: `'extraclassoptions': 'openany'` will allow chapters (for documents of the `'manual'` type) to start on any page.
    
    Default: `''`
    
    <div class="versionadded">
    
    1.2
    
    </div>
    
    <div class="versionchanged">
    
    1.6 Added this documentation.
    
    </div>

  - `'maxlistdepth'`  
    LaTeX allows by default at most 6 levels for nesting list and quote-like environments, with at most 4 enumerated lists, and 4 bullet lists. Setting this key for example to `'10'` (as a string) will allow up to 10 nested levels (of all sorts). Leaving it to the empty string means to obey the LaTeX default.
    
    \> **Warning**

  - \>
    
      - Using this key may prove incompatible with some LaTeX packages or special document classes which do their own list customization.
      - The key setting is silently *ignored* if `\usepackage{enumitem}` is executed inside the document preamble. Use then rather the dedicated commands of this LaTeX package.
    
    Default: `6`
    
    <div class="versionadded">
    
    1.5
    
    </div>

  - `'inputenc'`  
    "inputenc" package inclusion.
    
    Default: `r'\\usepackage[utf8]{inputenc}'` when using pdflatex, else `''`.
    
    \> **Note**

  - \>  
    If using `utf8x` in place of `utf8` it is mandatory to extend the LaTeX preamble with suitable `\PreloadUnicodePage{<number>}` commands, as per the `utf8x` documentation (`texdoc ucs` on a TeXLive based TeX installation). Else, unexpected and possibly hard-to-spot problems (i.e. not causing a build crash) may arise in the PDF, in particular regarding hyperlinks.
    
    Even if these precautions are taken, PDF build via `pdflatex` engine may crash due to upstream LaTeX not being fully compatible with `utf8x`. For example, in certain circumstances related to code-blocks, or attempting to include images whose filenames contain Unicode characters. Indeed, starting in 2015, upstream LaTeX with `pdflatex` engine has somewhat enhanced native support for Unicode and is becoming more and more incompatible with `utf8x`. In particular, since the October 2019 LaTeX release, filenames can use Unicode characters, and even spaces. At Sphinx level this means e.g. that the `image` and `figure` directives are now compatible with such filenames for PDF via LaTeX output. But this is broken if `utf8x` is in use.
    
    <div class="versionchanged">
    
    1.4.3
    
    </div>
    
    Previously `r'\\usepackage[utf8]{inputenc}'` was used for all compilers.

  - `'cmappkg'`  
    "cmap" package inclusion.
    
    Default: `r'\\usepackage{cmap}'`
    
    <div class="versionadded">
    
    1.2
    
    </div>

<div id="fontenc">

  - `'fontenc'`  
    Its default, for `'pdflatex'` as `latex_engine`, is `r'\\usepackage[T1]{fontenc}'`. Replace it (if using `'pdflatex'`) with:
    
      - `r'\\usepackage[X2,T1]{fontenc}'` if you need occasional Cyrillic letters (физика частиц),
      - `r'\\usepackage[LGR,T1]{fontenc}'` if you need occasional Greek letters (Σωματιδιακή φυσική),
      - `r'\\usepackage[LGR,X2,T1]{fontenc}'` if you need both.
    
    The TeX installation may need some extra packages. For example, on Ubuntu xenial:
    
      - `texlive-lang-greek` and `cm-super` are needed for Greek (`LGR`),
      - `texlive-lang-cyrillic` and `cm-super` are needed for Cyrillic (`X2`).
    
    With `'xelatex'` and `'lualatex'`, support for Greek and Cyrillic is out-of-the-box: this \[fontenc\](\#fontenc) key defaults to including the LaTeX package `fontspec` (with some extras described below) and selects the GNU FreeSerif font as body font. See \[fontpkg\](\#fontpkg).
    
    <div class="versionchanged">
    
    1.5 Defaults to `r'\\usepackage{fontspec}'` if `latex_engine` is set to `'xelatex'`.
    
    </div>
    
    <div class="versionchanged">
    
    1.6 Defaults to `r'\\usepackage{fontspec}'` if `latex_engine` is set to `'lualatex'`.
    
    </div>
    
    <div class="versionchanged">
    
    2.0 `'lualatex'` executes additionally `\\defaultfontfeatures[\\rmfamily,\\sffamily]{}` to disable TeX ligatures for `<<` and `>>`.
    
    </div>
    
    <div class="versionchanged">
    
    2.0 Extra LaTeX configuration is automatically executed if `LGR`, `T2A`, or `X2` are detected in this key, in order to support occasional Greek or Cyrillic with `'pdflatex'`.
    
    </div>
    
    <div class="versionchanged">
    
    2.2.1 Documents having Greek as main language default to `'xelatex'` and should not set the \[fontenc\](\#fontenc) key, which will load `fontspec`.
    
    </div>
    
    <div class="versionchanged">
    
    2.3.0 `'xelatex'` executes `\\defaultfontfeatures[\\rmfamily,\\sffamily]{}` in order to avoid contractions of `--` into en-dash and also transforms of straight quotes into curly quotes (which otherwise would happen even with `smartquotes` set to `False`).
    
    </div>

  - `'fontsubstitution'`  
    Ignored if `'fontenc'` was not configured to use `LGR` or `X2` (or `T2A`). In case \[fontpkg\](\#fontpkg) key is configured for usage with some TeX fonts known to be available in the `LGR` or `X2` encodings, set this one to be the empty string. Else leave to its default.
    
    Ignored with `latex_engine` other than `'pdflatex'`.
    
    <div class="versionadded">
    
    4.0.0
    
    </div>

  - `'textgreek'`  
    For the support of occasional Greek letters.
    
    It is ignored with `'platex'`, `'xelatex'` or `'lualatex'` as `latex_engine` and defaults to either the empty string or to `r'\\usepackage{textalpha}'` for `'pdflatex'` depending on whether the `'fontenc'` key was used with `LGR` or not. Only expert LaTeX users may want to customize this key.
    
    It can also be used as `r'\usepackage{textalpha,alphabeta}'` to let `'pdflatex'` support Greek Unicode input in :rst`math` context. For example ``:math:`α``<span class="title-ref"> (U+03B1) will render as :math:</span>alpha\`.
    
    Default: `r'\\usepackage{textalpha}'` or `''` if `fontenc` does not include the `LGR` option.
    
    <div class="versionadded">
    
    2.0
    
    </div>

  - `'geometry'`  
    "geometry" package inclusion, defaults to `r'\\usepackage{geometry}'` or `r'\\usepackage[dvipdfm]{geometry}'` for Japanese documents. The Sphinx LaTeX style file executes additionally:
    
    ``` latex
    \PassOptionsToPackage{hmargin=1in,vmargin=1in,marginpar=0.5in}{geometry}
    ```
    
    which can be customized via corresponding \['sphinxsetup' options \<latexsphinxsetup\>\](\#'sphinxsetup'-options

</div>

\---\<latexsphinxsetup\>).

> 
> 
> <div class="versionadded">
> 
> 1.5
> 
> </div>
> 
> <div class="versionchanged">
> 
> 1.5.2 `dvipdfm` option if `latex_engine` is `'platex'`.
> 
> </div>
> 
> <div class="versionadded">
> 
> 1.5.3 The \['sphinxsetup' keys for the margins \<latexsphinxsetuphmargin\>\](\#'sphinxsetup'-keys-for-the-margins
> 
> </div>

\------\<latexsphinxsetuphmargin\>).

> 
> 
> <div class="versionchanged">
> 
> 1.5.3 The location in the LaTeX file has been moved to after `\\usepackage{sphinx}` and `\\sphinxsetup{..}`, hence also after insertion of \[fontpkg\](\#fontpkg) key. This is in order to handle the paper layout options in a special way for Japanese documents: the text width will be set to an integer multiple of the *zenkaku* width, and the text height to an integer multiple of the baseline. See the \[hmargin \<latexsphinxsetuphmargin\>\](\#hmargin-\<latexsphinxsetuphmargin\>) documentation for more.
> 
> </div>

  - `'hyperref'`  
    "hyperref" package inclusion; also loads package "hypcap" and issues `\\urlstyle{same}`. This is done after `sphinx.sty` file is loaded and before executing the contents of `'preamble'` key.
    
    <div class="attention">
    
    <div class="title">
    
    Attention
    
    </div>
    
    Loading of packages "hyperref" and "hypcap" is mandatory.
    
    </div>
    
    <div class="versionadded">
    
    1.5 Previously this was done from inside `sphinx.sty`.
    
    </div>

  - `'maketitle'`  
    "maketitle" call. Override if you want to generate a differently styled title page.
    
    <div class="hint">
    
    <div class="title">
    
    Hint
    
    </div>
    
    If the key value is set to `r'\\newcommand\sphinxbackoftitlepage{<Extra
    material>}\\sphinxmaketitle'`, then `<Extra material>` will be typeset on back of title page (`'manual'` docclass only).
    
    </div>
    
    Default: `r'\\sphinxmaketitle'`
    
    <div class="versionchanged">
    
    1.8.3 Original `\\maketitle` from document class is not overwritten, hence is reusable as part of some custom setting for this key.
    
    </div>
    
    <div class="versionadded">
    
    1.8.3 `\\sphinxbackoftitlepage` optional macro. It can also be defined inside `'preamble'` key rather than this one.
    
    </div>

  - `'releasename'`  
    Value that prefixes `'release'` element on title page. As for *title* and *author* used in the tuples of `latex_documents`, it is inserted as LaTeX markup.
    
    Default: `'Release'`

  - `'tableofcontents'`  
    "tableofcontents" call. The default of `r'\\sphinxtableofcontents'` is a wrapper of unmodified `\\tableofcontents`, which may itself be customized by user loaded packages. Override if you want to generate a different table of contents or put content between the title page and the TOC.
    
    Default: `r'\\sphinxtableofcontents'`
    
    <div class="versionchanged">
    
    1.5 Previously the meaning of `\\tableofcontents` itself was modified by Sphinx. This created an incompatibility with dedicated packages modifying it also such as "tocloft" or "etoc".
    
    </div>

  - `'transition'`  
    Commands used to display transitions. Override if you want to display transitions differently.
    
    Default: `'\\n\\n\\\\bigskip\\\\hrule\\\\bigskip\\n\\n'`
    
    <div class="versionadded">
    
    1.2
    
    </div>
    
    <div class="versionchanged">
    
    1.6 Remove unneeded `{}` formerly located after `\\hrule`.
    
    </div>

  - `'makeindex'`  
    "makeindex" call, the last thing before `\begin{document}`. With `r'\\usepackage[columns=1]{idxlayout}\\makeindex'` the index will use only one column. You may have to install `idxlayout` LaTeX package.
    
    Default: `r'\\makeindex'`

  - `'printindex'`  
    "printindex" call, the last thing in the file. Override if you want to generate the index differently, append some content after the index, or change the font. As LaTeX uses two-column mode for the index it is often advisable to set this key to `r'\\footnotesize\\raggedright\\printindex'`. Or, to obtain a one-column index, use `r'\\def\\twocolumn[#1]{#1}\\printindex'` (this trick may fail if using a custom document class; then try the `idxlayout` approach described in the documentation of the `'makeindex'` key).
    
    Default: `r'\\printindex'`

<div id="fvset">

  - `'fvset'`  
    Customization of `fancyvrb` LaTeX package.
    
    The default value is `r'\\fvset{fontsize=auto}'` which means that the font size will adjust correctly if a code-block ends up in a footnote. You may need to modify this when using a custom monospace font, for example set it to `r'\\fvset{fontsize=\\small}'` if it is Courier-like (for Unicode engines, it is recommended to use rather the `Scale` interface of `\\setmonofont` LaTeX command from `fontspec`).
    
    Default: `r'\\fvset{fontsize=auto}'`
    
    <div class="versionadded">
    
    1.8
    
    </div>
    
    <div class="versionchanged">
    
    2.0 For `'xelatex'` and `'lualatex'` defaults to `r'\\fvset{fontsize=\\small}'` as this is adapted to the relative widths of the FreeFont family.
    
    </div>
    
    <div class="versionchanged">
    
    4.0.0 Changed default for `'pdflatex'`. Previously it was using `r'\\fvset{fontsize=\\small}'`.
    
    </div>
    
    <div class="versionchanged">
    
    4.1.0 Changed default for Chinese documents to `r'\\fvset{fontsize=\\small,formatcom=\\xeCJKVerbAddon}'`
    
    </div>
    
    <div class="versionchanged">
    
    8.1.0 Changed default for `'xelatex'` and `'lualatex'` to be also `r'\\fvset{fontsize=auto}'`. The rescaling for default monospace font FreeMono is now set via the LaTeX package `fontspec` interface rather. See \[fontpkg\](\#fontpkg).
    
    </div>

</div>

Keys that are set by other options and therefore should not be overridden are:

`'docclass'` `` ` ``'classoptions'`  `'title'`  `'release'`  `'author'`.. _latexsphinxsetup:  The`sphinxsetup`configuration setting -----------------------------------------  .. versionadded:: 1.5  The`'sphinxsetup'`key of [latex_elements <latex_elements_confval>](#latex_elements-<latex_elements_confval>) provides a LaTeX-type customization interface::     latex_elements = {        'sphinxsetup': 'key1=value1, key2=value2, ...',    }  LaTeX syntax for boolean keys requires *lowercase*`true`or`false`e.g`'sphinxsetup': "verbatimwrapslines=false"`.  If setting a boolean key to`true`,`=true`is optional. Spaces around the commas and equal signs are ignored, spaces inside LaTeX macros may be significant. Do not use ticks/quotes to enclose string or numerical values.  The`'sphinxsetup'`defaults to empty. If non-empty, it will be passed as argument to the`sphinxsetup`macro inside the document preamble, like this::     \usepackage{sphinx}    \sphinxsetup{key1=value1, key2=value2,...}  It is possible to insert uses of the`sphinxsetup`LaTeX macro directly into the body of the document, via the`raw`directive:`\`latex .. raw:: latex

> begingroup sphinxsetup{% TitleColor=DarkGoldenrod, ... more comma separated key=value using LaTeX syntax ... }
> 
> All elements here will be under the influence of the raw `\sphinxsetup` settings.
> 
> endgroup
> 
> From here on, the raw `\sphinxsetup` has no effect anymore.

This is the technique which has been used to style especially the present part `` ` of the documentation for the PDF output.  The actually used options will be found at top of :file:`doc/latex.rst` at the `development repository`_.    The color used in the above example is available from having passed the ``svgnames`option to the "xcolor" package::     latex_elements = {        'passoptionstopackages': r'\PassOptionsToPackage{svgnames}{xcolor}',    }`bookmarksdepth`Controls the depth of the collapsible bookmarks panel in the PDF.     May be either a number (e.g.`3`) or a LaTeX sectioning name (e.g.`subsubsection`, i.e. without backslash).     For details, refer to the`hyperref`LaTeX docs.      Default:`5`.. versionadded:: 4.0.0  .. _latexsphinxsetuphmargin:`hmargin, vmargin`The dimensions of the horizontal (resp. vertical) margins, passed as`hmargin`(resp.`vmargin`) option to the`geometry`package.     Example::        'sphinxsetup': 'hmargin={2in,1.5in}, vmargin={1.5in,2in}, marginpar=1in',      Japanese documents currently accept only the one-dimension format for     these parameters. The`geometry`package is then passed suitable options     to get the text width set to an exact multiple of the *zenkaku* width, and     the text height set to an integer multiple of the baselineskip, with the     closest fit for the margins.      Default:`1in`(equivalent to`{1in,1in}`)      .. hint::         For Japanese`'manual'`docclass with pointsize`11pt`or`12pt`,        use the`nomag`extra document class option (cf.`'extraclassoptions'``key of :confval:`latex_elements`) or so-called        TeX "true" units::           'sphinxsetup': 'hmargin=1.5truein, vmargin=1.5truein, marginpar=5zw',      .. versionadded:: 1.5.3``marginpar``The :code-tex:`\\marginparwidth` LaTeX dimension. For Japanese documents,     the value is modified to be the closest integer multiple of the *zenkaku*     width.      Default:``0.5in`.. versionadded:: 1.5.3`mathnumsep``This defaults to the string (without quotes!) as set by     :confval:`math_numsep` (which itself defaults to``'.'`).  Use it if     a different setting is needed for LaTeX output.      .. versionadded:: 8.1.0`verbatimwithframe``Boolean to specify if :rst:dir:`code-block`\ s and literal includes are     framed. Setting it to``false`does not deactivate use of package     "framed", because it is still in use for the optional background color.      Default:`true`.`verbatimwrapslines``Boolean to specify if long lines in :rst:dir:`code-block`\ 's contents are     wrapped.      If``true`, line breaks may happen at spaces (the last space before the     line break will be rendered using a special symbol), and at ASCII     punctuation characters (i.e. not at letters or digits). Whenever a long     string has no break points, it is moved to next line. If its length is     longer than the line width it will overflow.      Default:`true`.. _latexsphinxsetupforcewraps:`verbatimforcewraps``Boolean to specify if long lines in :rst:dir:`code-block`\ 's contents     should be forcefully wrapped to never overflow due to long strings.      > **Note** >         It is assumed that the Pygments_ LaTeXFormatter has not been used with        its``texcomments``or similar options which allow additional        (arbitrary) LaTeX mark-up.         Also, in case of :confval:`latex_engine` set to``'pdflatex'`, only        the default LaTeX handling of Unicode code points, i.e.`utf8`not`utf8x`is allowed.      .. _Pygments: https://pygments.org/      Default:`false`.. versionadded:: 3.5.0`verbatimmaxoverfull`A number. If an unbreakable long string has length larger than the total     linewidth plus this number of characters, and if`verbatimforcewraps`mode is on, the input line will be reset using the forceful algorithm     which applies breakpoints at each character.      Default:`3`.. versionadded:: 3.5.0`verbatimmaxunderfull`A number. If`verbatimforcewraps`mode applies, and if after applying     the line wrapping at spaces and punctuation, the first part of the split     line is lacking at least that number of characters to fill the available     width, then the input line will be reset using the forceful algorithm.      As the default is set to a high value, the forceful algorithm is triggered     only in overfull case, i.e. in presence of a string longer than full     linewidth. Set this to`0`to force all input lines to be hard wrapped     at the current available linewidth::        latex_elements = {           'sphinxsetup': "verbatimforcewraps, verbatimmaxunderfull=0",       }      This can be done locally for a given code-block via the use of raw latex     directives to insert suitable`sphinxsetup`(before and after) into the     latex file.      Default:`100`.. versionadded:: 3.5.0`verbatimhintsturnover`Boolean to specify if code-blocks display "continued on next page" and     "continued from previous page" hints in case of page breaks.      Default:`true`.. versionadded:: 1.6.3     .. versionchanged:: 1.7        the default changed from`false`to`true`.`verbatimcontinuedalign`,`verbatimcontinuesalign`Horizontal position relative to the framed contents: either`l`(left     aligned),`r`(right aligned) or`c`(centered).      Default:`r`.. versionadded:: 1.7`parsedliteralwraps``Boolean to specify if long lines in :dudir:`parsed-literal`\ 's contents     should wrap.      Default:``true`.. versionadded:: 1.5.2        set this option value to`false`to recover former behavior.`inlineliteralwraps`Boolean to specify if line breaks are allowed inside inline literals: but     extra potential break-points (additionally to those allowed by LaTeX at     spaces or for hyphenation) are currently inserted only after the characters`. , ; ? \! /`and`\`\`. Due to TeX internals, white space in the line will be stretched (or shrunk) in order to accommodate the linebreak.

> Default: `true`
> 
> <div class="versionadded">
> 
> 1.5 set this option value to `false` to recover former behavior.
> 
> </div>
> 
> <div class="versionchanged">
> 
> 2.3.0 added potential breakpoint at `\` characters.
> 
> </div>

  - `verbatimvisiblespace`  
    When a long code line is split, the last space character from the source code line right before the linebreak location is typeset using this.
    
    Default: `\textcolor{red}{\textvisiblespace}`

  - `verbatimcontinued`  
    A LaTeX macro inserted at start of continuation code lines. Its (complicated...) default typesets a small red hook pointing to the right:
    
    \`<span class="title-ref">\`latex makebox\[2fontcharwdfont</span>x\]\[r\]{textcolor{red}{tiny$hookrightarrow$}}
    
    <div class="versionchanged">
    
    1.5 The breaking of long code lines was added at 1.4.2. The default definition of the continuation symbol was changed at 1.5 to accommodate various font sizes (e.g. code-blocks can be in footnotes).
    
    </div>

<div class="note">

<div class="title">

Note

</div>

Values for color keys must either:

  - obey the syntax of the `\\definecolor` LaTeX command, e.g. something such as `VerbatimColor={rgb}{0.2,0.3,0.5}` or `{RGB}{37,23,255}` or `{gray}{0.75}` or `{HTML}{808080}` or ...
  - or obey the syntax of the `\\colorlet` command from package `xcolor` e.g. `VerbatimColor=red!10` or `red!50!green` or `-red!75` or `MyPreviouslyDefinedColor` or... Refer to [xcolor]() documentation for this syntax.

<div class="versionchanged">

5.3.0 Formerly only the `\\definecolor` syntax was accepted.

</div>

</div>

  - `TitleColor`  
    The color for titles (as configured via use of package "titlesec".)
    
    Default: `{rgb}{0.126,0.263,0.361}`

  - `InnerLinkColor`  
    A color passed to `hyperref` as value of `linkcolor` and `citecolor`.
    
    Default: `{rgb}{0.208,0.374,0.486}`.

  - `OuterLinkColor`  
    A color passed to `hyperref` as value of `filecolor`, `menucolor`, and `urlcolor`.
    
    Default: `{rgb}{0.216,0.439,0.388}`

  - `VerbatimColor`  
    The background color for :rst`code-block`s.
    
    Default: `{RGB}{242,242,242}` (same as `{gray}{0.95}`).
    
    <div class="versionchanged">
    
    6.0.0
    
    Formerly, it was `{rgb}{1,1,1}` (white).
    
    </div>

  - `VerbatimBorderColor`  
    The frame color.
    
    Default: `{RGB}{32,32,32}`
    
    <div class="versionchanged">
    
    6.0.0
    
    Formerly it was `{rgb}{0,0,0}` (black).
    
    </div>

  - `VerbatimHighlightColor`  
    The color for highlighted lines.
    
    Default: `{rgb}{0.878,1,1}`
    
    <div class="versionadded">
    
    1.6.6
    
    </div>

<div id="tablecolors">

  - `TableRowColorHeader`  
    Sets the background color for (all) the header rows of tables.
    
    It will have an effect only if either the `latex_table_style` contains `'colorrows'` or if the table is assigned the `colorrows` class. It is ignored for tables with `nocolorrows` class.
    
    As for the other `'sphinxsetup'` keys, it can also be set or modified from a `\\sphinxsetup{...}` LaTeX command inserted via the `raw` directive, or also from a LaTeX environment associated to a [container class](#latexcontainer) and using such `\\sphinxsetup{...}`.
    
    Default: `{gray}{0.86}`
    
    There is also `TableMergeColorHeader`. If used, sets a specific color for merged single-row cells in the header.
    
    <div class="versionadded">
    
    5.3.0
    
    </div>

  - `TableRowColorOdd`  
    Sets the background color for odd rows in tables (the row count starts at `1` at the first non-header row). Has an effect only if the `latex_table_style` contains `'colorrows'` or for specific tables assigned the `colorrows` class.
    
    Default: `{gray}{0.92}`
    
    There is also `TableMergeColorOdd`.
    
    <div class="versionadded">
    
    5.3.0
    
    </div>

  - `TableRowColorEven`  
    Sets the background color for even rows in tables.
    
    Default `{gray}{0.98}`
    
    There is also `TableMergeColorEven`.
    
    <div class="versionadded">
    
    5.3.0
    
    </div>

  - `verbatimsep`  
    The separation between code lines and the frame.
    
    See \[additionalcss\](\#additionalcss) for its alias `pre_padding` and additional keys.
    
    Default: `\\fboxsep`

  - `verbatimborder`  
    The width of the frame around :rst`code-block`s. See also \[additionalcss\](\#additionalcss) for `pre_border-width`.
    
    Default: `\\fboxrule`

</div>

\> **Important** \> Since 8.1.0 it is possible to style separately the `topic`, [contents](https://docutils.sourceforge.io/docs/ref/rst/directives.html#table-of-contents), and `sidebar` directives, and their defaults differ. See \[additionalcss\](\#additionalcss). The next three keys are kept as legacy interface not distinguishing between the three directives.

  - `shadowsep`  
    This legacy option sets the padding (same in all directions) simultaneously for the `topic`, [contents](https://docutils.sourceforge.io/docs/ref/rst/directives.html#table-of-contents), and `sidebar` directives.

  - `shadowsize`  
    This legacy option sets the shadow width simultaneously for the `topic`, [contents](https://docutils.sourceforge.io/docs/ref/rst/directives.html#table-of-contents), and `sidebar` directives.

  - `shadowrule`  
    This legacy option sets the border-width (same on all sides) simultaneously for the `topic`, [contents](https://docutils.sourceforge.io/docs/ref/rst/directives.html#table-of-contents), and `sidebar` directives.

<div class="important">

<div class="title">

Important

</div>

At 7.4.0 all admonitions (not only danger-type) use the possibilities which were added at 5.1.0 and 6.2.0. All defaults have changed.

</div>

`iconpackage`

> The name of the LaTeX package used for icons in the admonition titles. It defaults to `fontawesome5` or to fall-back `fontawesome`. In case neither one is available the option value will automatically default to `none`, which means that no attempt at loading a package is done. Independently of this setting, arbitrary LaTeX code can be associated to each admonition type via `div.<type>_icon-title` keys which are described in the \[additionalcss\](\#additionalcss) section. If these keys are not used, Sphinx will either apply its default choices of icons (if `fontawesome{5,}` is available) or not draw the icon at all. Notice that if fall-back `fontawesome` is used the common icon for `caution` and `danger` will default to "bolt" not "radiation", which is only found in `fontawesome5`.
> 
> <div class="versionadded">
> 
> 7.4.0
> 
> </div>

  - `noteBorderColor`, `hintBorderColor`, `importantBorderColor`, `tipBorderColor`  
    The color for the admonition border.
    
    Default: `{RGB}{134,152,155}`.
    
    <div class="versionchanged">
    
    7.4.0
    
    </div>

  - `noteBgColor`, `hintBgColor`, `importantBgColor`, `tipBgColor`  
    The color for the admonition background.
    
    Default: `{RGB}{247,247,247}`.
    
    <div class="versionadded">
    
    6.2.0
    
    </div>
    
    <div class="versionchanged">
    
    7.4.0
    
    </div>

  - `noteTextColor`, `hintTextColor`, `importantTextColor`, `tipTextColor`  
    The color for the admonition contents.
    
    Default: unset (contents text uses ambient text color, a priori black)
    
    <div class="versionadded">
    
    6.2.0
    
    To be considered experimental until 7.0.0. These options have aliases `div.note_TeXcolor` (etc) described in \[additionalcss\](\#additionalcss). Using the latter will let Sphinx switch to a more complex LaTeX code, which supports the customizability described in \[additionalcss\](\#additionalcss).
    
    </div>

  - `noteTeXextras`, `hintTeXextras`, `importantTeXextras`, `tipTeXextras`  
    Some extra LaTeX code (such as `\\bfseries` or `\\footnotesize`) to be executed at start of the contents.
    
    Default: empty
    
    <div class="versionadded">
    
    6.2.0
    
    To be considered experimental until 7.0.0. These options have aliases `div.note_TeXextras` (etc) described in \[additionalcss\](\#additionalcss).
    
    </div>

  - `noteborder`, `hintborder`, `importantborder`, `tipborder`  
    The width of the border. See \[additionalcss\](\#additionalcss) for keys allowing to configure separately each border width.
    
    Default: `0.5pt`

<div class="only">

not latex

  - `warningBorderColor`, `cautionBorderColor`, `attentionBorderColor`, `dangerBorderColor`, `errorBorderColor`  
    The color for the admonition border.
    
    Default: `{RGB}{148,0,0}` except for `error` which uses `red`.
    
    <div class="versionchanged">
    
    7.4.0
    
    </div>

</div>

<div class="only">

latex

  - `warningBorderColor`, and `(caution|attention|danger|error)BorderColor`  
    The color for the admonition border.
    
    Default: `{RGB}{148,0,0}` except for `error` which uses `red`.
    
    <div class="versionchanged">
    
    7.4.0
    
    </div>

</div>

  - `warningBgColor`, `cautionBgColor`, `attentionBgColor`, `dangerBgColor`, `errorBgColor`  
    The background color for the admonition background.
    
    Default: `{RGB}{247,247,247}`.
    
    <div class="versionchanged">
    
    7.4.0
    
    </div>

  - `warningborder`, `cautionborder`, `attentionborder`, `dangerborder`, `errorborder`  
    The width of the admonition frame. See \[additionalcss\](\#additionalcss) for keys allowing to configure separately each border width.
    
    Default: `1pt` except for `error` which uses `1.25pt`.
    
    <div class="versionchanged">
    
    7.4.0
    
    </div>

  - `AtStartFootnote`  
    LaTeX macros inserted at the start of the footnote text at bottom of page, after the footnote number.
    
    Default: `\\mbox{ }`

  - `BeforeFootnote`  
    LaTeX macros inserted before the footnote mark. The default removes possible space before it (else, TeX could insert a line break there).
    
    Default: `\\leavevmode\\unskip`
    
    <div class="versionadded">
    
    1.5
    
    </div>

  - `HeaderFamily`  
    default `\\sffamily\\bfseries`. Sets the font used by headings.

<div id="additionalcss">

Additional CSS-like `'sphinxsetup'` keys `` ` -------------------------------------------  .. versionadded:: 5.1.0     For :rst:dir:`code-block`, :dudir:`topic` and contents_ directive,    and strong-type admonitions (:dudir:`warning`, :dudir:`error`, ...).  .. versionadded:: 6.2.0     Also the :dudir:`note`, :dudir:`hint`, :dudir:`important` and :dudir:`tip`    admonitions can be styled this way.  Using for them *any* of the listed    options will trigger usage of a more complex LaTeX code than the one used    per default ( ``sphinxheavybox`vs`sphinxlightbox`).  Setting the new`noteBgColor`(or`hintBgColor`, ...) also triggers usage of`sphinxheavybox``for :dudir:`note` (or :dudir:`hint`, ...).  .. versionadded:: 7.4.0     For *all* admonition types, the default configuration does set a background    color (hence the richer``sphinxheavybox``is always used).  > **Important** >     Further, all admonition titles are by default styled using a colored row    and an icon, which are modeled on the current rendering of Sphinx own    docs at https://www.sphinx-doc.org.  CSS-named alike keys are added to    set the foreground and background colors for the title as well as the    LaTeX code for the icon.  .. versionadded:: 7.4.0    Customizability of the :rst:dir:`seealso` and    :rst:dir:`todo` directives.  .. versionadded:: 8.1.0    Separate customizability and new defaults for the    :dudir:`topic`, contents_, and :dudir:`sidebar` directives.  Perhaps in future these 5.1.0 (and 6.2.0) novel settings will be optionally imported from some genuine CSS external file, but currently they have to be used via the``'sphinxsetup'``interface (or the :code-tex:`\\sphinxsetup` LaTeX command inserted via the :dudir:`raw` directive) and the CSS syntax is only imitated.  .. important:: Low-level LaTeX errors causing a build failure can happen if    the input syntax is not respected.     * In particular colors must be input as for the other color related options      previously described, i.e. either in the :code-tex:`\\definecolor` syntax      or via the :code-tex:`\\colorlet` syntax::         ...<other options>        div.warning_border-TeXcolor={rgb}{1,0,0},% \definecolor syntax        div.error_background-TeXcolor=red!10,%     \colorlet syntax        ...<other options>     * A colon in place of the equal sign will break LaTeX.     *``...border-width`or`...padding`expect a *single* dimension: they can not      be used so far with space separated dimensions.     *`...top-right-radius`et al. values may be either a single or *two* space      separated dimensions.     * Dimension specifications must use TeX units such as`pt`or`cm`or`in`.  The`px`unit is recognized by`pdflatex`and`lualatex`but not by`xelatex`or`platex``.     * It is allowed for such specifications to be so-called "dimensional      expressions", e.g. :code-tex:`\\fboxsep+2pt` or      :code-tex:`0.5\\baselineskip` are valid inputs.  The expressions will be      evaluated only at the typesetting time.  Be careful though if using as in      these examples TeX control sequences to double the backslash or to employ      a raw Python string for the value of the ['sphinxsetup'      <latexsphinxsetup>](#'sphinxsetup' -----<latexsphinxsetup>) key.     * As a rule, avoid inserting unneeded spaces in the key values: especially      for the radii an input such``2 pt 3pt``will break LaTeX.  Beware also      that :code-tex:`\\fboxsep \\fboxsep` will not be seen as space separated      in LaTeX.  You must use something such as``{fboxsep} fboxsep`.  Or      use directly`3pt 3pt`which is a priori equivalent and simpler.  The options are all named in a similar pattern which depends on a`prefix``, which is then followed by an underscore, then the property name.  .. csv-table::    :header: Directive, Option prefix, LaTeX environment     :rst:dir:`code-block`,``pre`,`sphinxVerbatim``:rst:dir:`literalinclude`,``pre`,`sphinxVerbatim``:dudir:`topic`,``div.topic`,`sphinxtopic`contents_,`div.contents`,`sphinxcontents``:dudir:`sidebar`,``div.sidebar`,`sphinxsidebar``:dudir:`note`,``div.note`,`sphinxnote``:dudir:`warning`,``div.warning`,`sphinxwarning`further admonition types`\<type\>`,`div.\<type\>`,`sphinx\<type\>``:rst:dir:`seealso`,``div.seealso`,`sphinxseealso``:rst:dir:`todo`,``div.todo`,`sphinxtodo`Here are now these options as well as their common defaults. Replace below`\<prefix\>`by the actual prefix as explained above.  Don't forget the underscore separating the prefix from the property names.  - |`\<prefix\>\_border-top-width`,   |`\<prefix\>\_border-right-width`,   |`\<prefix\>\_border-bottom-width`,   |`\<prefix\>\_border-left-width`,   |`\<prefix\>\_border-width`.  The latter can (currently) be only a *single*     dimension which then sets all four others.    The default is that all those dimensions are equal.  They are set to:    *`0.4pt``for :rst:dir:`code-block`,   *``0.5pt``for :dudir:`topic` and contents_ directive,   *``1pt``for :dudir:`sidebar` directive,   *``0.5pt``for :dudir:`note` and other "light" admonitions,   *``0.5pt``for :rst:dir:`seealso` and :rst:dir:`todo` directives,   *``1pt``for  :dudir:`warning` and other "strong" admonitions except     :dudir:`error` which uses``1.25pt``.    .. versionchanged:: 7.4.0      Changed defaults for :dudir:`topic` and :dudir:`error`.    .. versionchanged:: 8.1.0      Distinct from :dudir:`topic` defaults for :dudir:`sidebar`.  -``\<prefix\>\_box-decoration-break`can be set to either`clone`or`slice`and configures the behavior at page breaks.   It defaults to`slice``for :rst:dir:`code-block` (i.e. for``\<prefix\>=pre`)   since 6.0.0.  For other directives the default is`clone`. - |`\<prefix\>\_padding-top`,   |`\<prefix\>\_padding-right`,   |`\<prefix\>\_padding-bottom`,   |`\<prefix\>\_padding-left`,   |`\<prefix\>\_padding`.  The latter can (currently) be only a *single*     dimension which then sets all four others.    The defaults:    * all four`3pt``for :rst:dir:`code-block`,   *``6pt`,`7pt`,`6pt`,`7pt``for :dudir:`topic`,   *``10pt`,`7pt`,`12pt`,`7pt`for contents_,   *`6pt`,`5.5pt`,`6pt`,`5.5pt``for :dudir:`sidebar`,   *``6pt`,`7pt`,`6pt`,`7pt``for all "light" admonitions as well     as the :rst:dir:`seealso` and :rst:dir:`todo` directives.   *``6pt`,`6.5pt`,`6pt`,`6.5pt``for the strong admonition types     except :dudir:`error` which uses horizontal padding of``6.25pt``.    .. versionchanged:: 7.4.0       All defaults were changed, except for :rst:dir:`code-block`.  Admonitions      are set-up so that left (or right) padding plus left (or right)      border-width add up always to``7.5pt``, so contents align well      vertically across admonition types on same page in PDF.  This is only a      property of defaults, not a constraint on possible user choices.    .. versionchanged:: 8.1.0      Separate defaults for :dudir:`topic`, contents_, and :dudir:`sidebar`.  - |``\<prefix\>\_border-top-left-radius`,   |`\<prefix\>\_border-top-right-radius`,   |`\<prefix\>\_border-bottom-right-radius`,   |`\<prefix\>\_border-bottom-left-radius`,   |`\<prefix\>\_border-radius`.  This last key sets the first four to     its assigned value.  Each key value can be either a single, or *two*,     dimensions which are then space separated.    The defaults:    *`3pt``for :rst:dir:`code-block` (since 6.0.0) and all corners,   *``8pt``for all corners of :dudir:`topic`,   *``12pt`for the bottom right corner of contents_, others use`0pt`,   *`12pt``for the top-left and bottom-right corners for :dudir:`sidebar`,``0pt`for top-right and bottom-left.   * all radii set to`5pt``for :dudir:`note`, :dudir:`hint` and     :dudir:`tip`,   *``0pt``, i.e. straight corners for all other directives.    .. versionchanged:: 7.4.0      :dudir:`topic` and :dudir:`note`\ -like      admonitions acquire (at least one) rounded corners.    .. versionchanged:: 8.1.0      Separate defaults for :dudir:`topic`, contents_, and :dudir:`sidebar`.    See a remark above about traps with spaces in LaTeX. -``\<prefix\>\_box-shadow`is special in so far as it may be:    * the`none`keyword,   * or a single dimension (giving both x-offset and y-offset),   * or two dimensions (separated by a space),   * or two dimensions followed by the keyword`inset`.    The x-offset and y-offset may be negative.  A negative x-offset means   that the shadow is on the left.  The shadow extends into the page margin,   whether the offset is positive or negative.    The default is`none`*except* for the  contents_ directive which uses`4pt 4pt``.    .. versionchanged:: 8.1.0      No shadow per default for :dudir:`topic` and :dudir:`sidebar`.  - |``\<prefix\>\_border-TeXcolor`,   |`\<prefix\>\_background-TeXcolor`,   |`\<prefix\>\_box-shadow-TeXcolor`,   |`\<prefix\>\_TeXcolor``.     These are colors.    Since 6.0.0 the border and background colors of :rst:dir:`code-block`,   default respectively to``{RGB}{32,32,32}`(i.e.`{HTML}{202020}`), and`{RGB}{242,242,242}`(i.e.`{gray}{0.95}`or`{HTML}{F2F2F2}`).    At 7.4.0 other directives acquire non-black/white default border and   background colors.  Here they are using`xcolor`hexadecimal notation   (which requires always 6 hexadecimal digits):    -`{HTML}{F7F7F7}`serves as background color to all.   -`{HTML}{86989B}``is border color of light admonitions (inclusive of     :rst:dir:`seealso` and :rst:dir:`todo`) as well as of :dudir:`topic`,     contents_ and :dudir:`sidebar` directives.   -``{HTML}{940000}``is border color of :dudir:`warning`-type admonitions,     except :dudir:`error` which uses``{HTML}{B40000}``.    The only directives displaying a shadow per default are contents_ and   :dudir:`sidebar`.  The shadow-color for the former is``{HTML}{6C6C6C}`and for the latter`{HTML}{9EACAF}`.    The`\<prefix\>\_TeXcolor`stands for the CSS property "color", i.e. it   influences the text color of the contents.  As for the three other options,   the naming`TeXcolor`is to stress that the input syntax is the TeX one   for colors not an HTML/CSS one.  If package`xcolor`is available in the   LaTeX installation, one can use directly named colors as key values.   Consider passing options such as`dvipsnames`,`svgnames`or`x11names`to`xcolor`via`'passoptionstopackages'``key of :confval:`latex_elements`.    If``\<prefix\>\_TeXcolor``is set, a :code-tex:`\\color` command is inserted at   start of the directive contents; for admonitions, this happens after the   heading which reproduces the admonition type.  -``\<prefix\>\_TeXextras``: if set, its value must be some LaTeX command or   commands, for example :code-tex:`\\itshape`.  These commands will be   inserted at the start of the contents; for admonitions, this happens after   the heading which reproduces the admonition type.  The next keys, for admonitions, :dudir:`topic`, contents_, and :dudir:`sidebar`, were all three added at 7.4.0 (and 8.1.0 for the latter three).  -``div.\<type\>\_title-background-TeXcolor``: the background color for the title.    > **Important** >       The colored title-row is produced as a result of the Sphinx default      definitions for the various :code-tex:`\\sphinxstyle<type>title`      commands, which employ the :code-tex:`\\sphinxdotitlerow` LaTeX command.      See [latex-macros](#latex-macros).  -``div.\<type\>\_title-foreground-TeXcolor`: the color to be used for the icon   (it applies only to the icon, not to the title of the admonition).  -`div.\<type\>\_title-icon``: the LaTeX code responsible for producing the   icon.  For example, the default for :dudir:`note` is``div.note\_title-icon=faIcon{info-circle}`.  This uses a command from the   LaTeX`fontawesome5`package, which is loaded automatically if available.    If neither`fontawesome5`nor fall-back`fontawesome``(for which the   associated command is :code-tex:`\\faicon`, not :code-tex:`\\faIcon`) are   found, or if the``iconpackage`key of ['sphinxsetup'   <latexsphinxsetup>](#'sphinxsetup' --<latexsphinxsetup>) is set to load some other user-chosen package, or no   package at all, all the`title-icons`default to empty LaTeX code.  It is   up to user to employ this interface to inject the icon (or anything else)   into the PDF output.  > **Note** >     - All directives support`box-decoration-break`to be set to`slice``.       .. versionchanged:: 6.2.0          Formerly, only :rst:dir:`code-block` did.  The default remains``clone`for all other directives, but this will probably change at         7.0.0.     - The corners of rounded boxes may be elliptical.       .. versionchanged:: 6.2.0          Formerly, only circular rounded corners were supported and a rounded         corner forced the whole frame to use the same constant width from`\<prefix\>\_border-width`.     - Inset shadows are incompatible with rounded corners.  In case      both are specified the inset shadow will simply be ignored.       .. versionchanged:: 6.2.0          Formerly it was to the contrary the rounded corners which were ignored         in case an inset shadow was specified.     -`\<prefix\>\_TeXcolor`and`\<prefix\>\_TeXextras``are new with 6.2.0.       Usefulness is doubtful in the case of :rst:dir:`code-block`:       -``pre\_TeXcolor`will influence only the few non-Pygments highlighted        tokens; it does color the line numbers, but if one wants to color        *only* them one has to go through the`fancyvrb`interface.       -`pre\_TeXextras=footnotesize``(as an example) is equivalent to setting        [fvset](#fvset) key value to :code-tex:`r'\\fvset{fontsize=\\footnotesize}'`.       Consider these options experimental and that some implementation details      may change.  For example if the``pre\_TeXextras``LaTeX commands were put      by Sphinx in another location it could override the [fvset](#fvset) effect,      perhaps this is what will be done in a future release.     - Rounded boxes are done using the pict2e_ interface to some basic PDF      graphics operations.  If this LaTeX package can not be found the build      will proceed and render all boxes with straight corners.     - Elliptic corners use the ellipse_ LaTeX package which extends pict2e_.      If this LaTeX package can not be found rounded corners will be circular      arcs (or straight if pict2e_ is not available).      The following legacy behavior applies:  - For :rst:dir:`code-block` or :rst:dir:`literalinclude`, padding and   border-width and shadow (if any) will go into the margin; the code   lines remain at the same place independently of the values of the padding   and border-width, except for being shifted vertically of course to not   overwrite other text due to the width of the border or external shadow.  - For the other directives, shadows extend horizontally into the page margins,   but the border and the extra padding are kept within the text area.  - :rst:dir:`code-block` and :rst:dir:`literalinclude` use the same LaTeX   environment and commands and are not separately customizable.   LaTeX macros and environments -----------------------------  The "LaTeX package" file :file:`sphinx.sty` loads various components providing support macros (aka commands), and environments, which are used in the mark-up produced on output from the``latex`builder, before conversion to`pdf``via the LaTeX toolchain.  Also the "LaTeX class" files :file:`sphinxhowto.cls` and :file:`sphinxmanual.cls` define or customize some environments.  All of these files can be found in the latex build repertory.  Some of these provide facilities not available from pre-existing LaTeX packages and work around LaTeX limitations with lists, table cells, verbatim rendering, footnotes, etc...  Others simply define macros with public names to make overwriting their defaults easy via user-added contents to the preamble.  We will survey most of those public names here, but defaults have to be looked at in their respective definition files.  .. hint::     Sphinx LaTeX support code is split across multiple smaller-sized files.    Rather than adding code to the preamble via    `latex_elements <latex_elements_confval_>`_\ [``'preamble'``] it is    also possible to replace entirely one of the component files of Sphinx    LaTeX code with a custom version, simply by including a modified copy in    the project source and adding the filename to the    :confval:`latex_additional_files` list.  Check the LaTeX build repertory    for the filenames and contents.  .. versionchanged:: 4.0.0    split of :file:`sphinx.sty` into multiple smaller units, to facilitate    customization of many aspects simultaneously.  .. _latex-macros:  Macros ~~~~~~  - Text styling commands:    .. csv-table::      :header: Name,``maps argument \#1 to:`:align: left      :class: longtable      :delim: ;`sphinxstrong`;`textbf{\#1}`  `sphinxcode`;`texttt{\#1}`  `sphinxbfcode`;`textbf{sphinxcode{\#1}}`  `sphinxemail`;`textsf{\#1}`  `sphinxtablecontinued`;`textsf{\#1}`  `sphinxtitleref`;`emph{\#1}`  `sphinxmenuselection`;`emph{\#1}`  `sphinxguilabel`;`emph{\#1}`  `sphinxkeyboard`;`sphinxcode{\#1}`  `sphinxaccelerator`;`underline{\#1}`  `sphinxcrossref`;`emph{\#1}`  `sphinxtermref`;`emph{\#1}`  `sphinxsamedocref`;`emph{\#1}`  `sphinxparam`;`emph{\#1}`  `sphinxtypeparam`;`emph{\#1}`  `sphinxoptional`;`\[\#1\]`with larger brackets, see source    .. versionadded:: 1.4.5      Use of`sphinx``prefixed macro names to limit possibilities of conflict      with LaTeX packages.    .. versionadded:: 1.8      :code-tex:`\\sphinxguilabel`    .. versionadded:: 3.0      :code-tex:`\\sphinxkeyboard`    .. versionadded:: 6.2.0      :code-tex:`\\sphinxparam`, :code-tex:`\\sphinxsamedocref`    .. versionadded:: 7.1.0      :code-tex:`\\sphinxparamcomma` which defaults to a comma followed by a      space and :code-tex:`\\sphinxparamcommaoneperline`.  It is sed for      one-parameter-per-line signatures (see      :confval:`maximum_signature_line_length`) and defaults to      :code-tex:`\\texttt{,}`.       Signatures of Python functions are rendered as``name\<space\>(parameters)`or`name\<space\>\[type parameters\]\<space\>(parameters)``(see :pep:`695`) where the length of``\<space\>`is set to`0pt``by default.  This can be changed via      :code-tex:`\\setlength{\\sphinxsignaturelistskip}{1ex}` for instance.  - More text styling:    .. csv-table::      :header: Name,``maps argument \#1 to:`:align: left      :class: longtable      :delim: ;`sphinxstyleindexentry`;`texttt{\#1}`  `sphinxstyleindexextra`;`(emph{\#1})`(with a space upfront)`sphinxstyleindexpageref`;`, pageref{\#1}`  `sphinxstyleindexpagemain`;`textbf{\#1}`  `sphinxstyleindexlettergroup`;`{Largesffamily\#1}nopagebreakvspace{1mm}`  `sphinxstyleindexlettergroupDefault`; check source, too long for here`sphinxstyletopictitle`;`textbf{\#1}parmedskip`  `sphinxstylesidebartitle`;`textbf{\#1}parmedskip`  `sphinxstyleothertitle`;`textbf{\#1}`  `sphinxstylesidebarsubtitle`;`\~\\textbf{\#1} smallskip`  `sphinxstyletheadfamily`;`sffamily`(*this one has no argument*)`sphinxstyleemphasis`;`emph{\#1}`  `sphinxstyleliteralemphasis`;`emph{sphinxcode{\#1}}`  `sphinxstylestrong`;`textbf{\#1}`  `sphinxstyleliteralstrong`;`sphinxbfcode{\#1}`  `sphinxstyleabbreviation`;`textsc{\#1}`  `sphinxstyleliteralintitle`;`sphinxcode{\#1}`  `sphinxstylecodecontinued`;`{footnotesize(\#1)}}`  `sphinxstylecodecontinues`;`{footnotesize(\#1)}}`  `sphinxstylenotetitle`;`sphinxdotitlerow{note}{\#1}`  `sphinxstylehinttitle`;`sphinxdotitlerow{hint}{\#1}`  `sphinxstyleimportanttitle`;`sphinxdotitlerow{important}{\#1}`  `sphinxstyletiptitle`;`sphinxdotitlerow{tip}{\#1}`  `sphinxstylewarningtitle`;`sphinxdotitlerow{warning}{\#1}`  `sphinxstylecautiontitle`;`sphinxdotitlerow{caution}{\#1}`  `sphinxstyleattentiontitle`;`sphinxdotitlerow{attention}{\#1}`  `sphinxstyledangertitle`;`sphinxdotitlerow{danger}{\#1}`  `sphinxstyleerrortitle`;`sphinxdotitlerow{error}{\#1}`  `sphinxstyleseealsotitle`;`sphinxdotitlerow{seealso}{\#1}`  `sphinxstyletodotitle`;`sphinxdotitlerow{todo}{\#1}`  `sphinxstyletopictitle`;`sphinxdotitlerow{topic}{\#1}`  `sphinxstylecontentstitle`;`sphinxdotitlerow{contents}{\#1}`  `sphinxstylesidebartitle`;`sphinxdotitlerow{sidebar}{\#1}``> **Note** >       To let this table fit on the page width in PDF output we have lied a bit.      For instance, the actual definition of :code-tex:`\\sphinxstylenotetitle` is:``\`latex newcommandsphinxstylenotetitle\[1\]% {sphinxdotitlerow{note}{sphinxremovefinalcolon{\#1}}}

</div>

> The same remark applies to all other similar commands associated with admonitions. The `topic`, [contents](https://docutils.sourceforge.io/docs/ref/rst/directives.html#table-of-contents), and `sidebar` do not use `\\sphinxremovefinalcolon` as they don't need it.
> 
> <div class="versionadded">
> 
> 1.5
> 
> </div>
> 
> These macros were formerly hard-coded as non customizable `\\texttt`, `\\emph`, etc...
> 
> <div class="versionadded">
> 
> 1.6
> 
> </div>
> 
> `\\sphinxstyletheadfamily` which defaults to `\\sffamily` and allows multiple paragraphs in header cells of tables.
> 
> <div class="versionadded">
> 
> 1.6.3
> 
> </div>
> 
> `\\sphinxstylecodecontinued` and `\\sphinxstylecodecontinues`.
> 
> <div class="versionadded">
> 
> 1.8
> 
> </div>
> 
> `\\sphinxstyleindexlettergroup`, `\\sphinxstyleindexlettergroupDefault`.
> 
> <div class="versionadded">
> 
> 6.2.0
> 
> </div>
> 
> `\\sphinxstylenotetitle` et al. The `#1` is the localized name of the directive, with a final colon. Wrap it as `\\sphinxremovefinalcolon{#1}` if this final colon is to be removed.
> 
> <div class="versionadded">
> 
> 7.4.0
> 
> </div>
> 
> Added the `\\sphinxdotitlerowwithicon` LaTeX command.
> 
> <div class="versionchanged">
> 
> 8.1.0
> 
> </div>
> 
> `\\sphinxdotitlerowwithicon` now detects automatically if an icon is associated or not with the rendered element used as first argument.
> 
> <div class="versionadded">
> 
> 8.1.0 Make `\\sphinxdotitlerow` an alias to
> 
> </div>
> 
> `\\sphinxdotitlerowwithicon`.
> 
> <div class="versionadded">
> 
> 8.1.0
> 
> </div>
> 
> Titles of `topic`, [contents](https://docutils.sourceforge.io/docs/ref/rst/directives.html#table-of-contents), and `sidebar` directives are also styled using `\\sphinxdotitlerow` (they have no default icons associated with them).

  - `\\sphinxtableofcontents`: A wrapper (defined differently in `sphinxhowto.cls` and in `sphinxmanual.cls`) of standard `\\tableofcontents`. The macro `\\sphinxtableofcontentshook` is executed during its expansion right before `\\tableofcontents` itself.
    
    <div class="versionchanged">
    
    1.5 Formerly, the meaning of `\\tableofcontents` was modified by Sphinx.
    
    </div>
    
    <div class="versionchanged">
    
    2.0 Hard-coded redefinitions of `\\l@section` and `\\l@subsection` formerly done during loading of `'manual'` docclass are now executed later via `\\sphinxtableofcontentshook`. This macro is also executed by the `'howto'` docclass, but defaults to empty with it.
    
    </div>
    
    <div class="hint">
    
    <div class="title">
    
    Hint
    
    </div>
    
    If adding to preamble the loading of `tocloft` package, also add to preamble `\\renewcommand\sphinxtableofcontentshook{}` else it will reset `\\l@section` and `\\l@subsection` cancelling `tocloft` customization.
    
    </div>

  - `\\sphinxmaketitle`: Used as the default setting of the `'maketitle'` `latex_elements` key. Defined in the class files `sphinxmanual.cls` and `sphinxhowto.cls`.
    
    <div class="versionchanged">
    
    1.8.3 Formerly, `\\maketitle` from LaTeX document class was modified by Sphinx.
    
    </div>

  - `\\sphinxbackoftitlepage`: For `'manual'` docclass, and if it is defined, it gets executed at end of `\\sphinxmaketitle`, before the final `\\clearpage`. Use either the `'maketitle'` key or the `'preamble'` key of `latex_elements` to add a custom definition of `\\sphinxbackoftitlepage`.
    
    <div class="versionadded">
    
    1.8.3
    
    </div>

  - `\\sphinxcite`: A wrapper of standard `\\cite` for citation references.

<div id="sphinxbox">

The `\\sphinxbox` command `` ` ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  .. versionadded:: 6.2.0  The :code-tex:`\\sphinxbox[key=value,...]{inline text}` command can be used to "box" inline text elements with all the customizability which has been described in [additionalcss](#additionalcss).  It is a LaTeX command with one optional argument, which is a comma-separated list of key=value pairs, as for [latexsphinxsetup](#latexsphinxsetup). Here is the complete list of keys.  They don't use any prefix.  - ``border-width`, -`border-top-width`,`border-right-width`,`border-bottom-width`,`border-left-width`, -`padding`, -`padding-top`,`padding-right`,`padding-bottom`,`padding-left`, -`border-radius`, -`border-top-left-radius`,`border-top-right-radius`,`border-bottom-right-radius`,`border-bottom-left-radius`, -`box-shadow`, -`border-TeXcolor`,`background-TeXcolor`,`box-shadow-TeXcolor`,`TeXcolor`, -`TeXextras`, - and`addstrut`which is a boolean key, i.e. to be used as`addstrut=true`,   or`addstrut`alone where`=true`is omitted, or`addstrut=false``.  This last key is specific to :code-tex:`\\sphinxbox` and it means to add a :code-tex:`\\strut` so that heights and depths are equalized across various instances on the same line with varying contents.  The default is``addstrut=false`.  The combination`addstrut, padding-bottom=0pt, padding-top=1pt``is often satisfactory.  Refer to [additionalcss](#additionalcss) for important syntax information regarding the other keys.  The default configuration uses no shadow, a border-width of :code-tex:`\\fboxrule`, a padding of :code-tex:`\\fboxsep`, circular corners with radii :code-tex:`\\fboxsep` and background and border colors as for the default rendering of code-blocks.  When a :code-tex:`\\sphinxbox` usage is nested within another one, it will ignore the options of the outer one: it first resets all options to their default state as they were prior to applying the outer box options, then it applies its own specific ones.  One can modify these defaults via the command :code-tex:`\\sphinxboxsetup{key=value,...}`.  The effect is cumulative, if one uses this command multiple times.  Here the options are a mandatory argument so are within curly braces, not square brackets.  Here is some example of use:``\`latex latex\_elements = { 'preamble': r''' % modify globally the defaults sphinxboxsetup{border-width=2pt,% border-radius=4pt,% background-TeXcolor=yellow\!20} % configure some styling element with some extra specific options: protecteddefsphinxkeyboard\#1{sphinxbox\[border-TeXcolor=green\]{sphinxcode{\#1}}} ''', }

</div>

A utility `\\newsphinxbox` is provided to create a new boxing macro, `` ` say :code-tex:`\\foo` which will act exactly like :code-tex:`\\sphinxbox` but with a given extra configuration: ``\`latex % the specific options to foo are within brackets newsphinxbox\[border-radius=0pt, box-shadow=2pt 2pt\]{foo} % then use this foo, possibly with some extra options still: protecteddefsphinxguilabel\#1{foo{\#1}} protecteddefsphinxmenuselection\#1{foo\[box-shadow-TeXcolor=gray\]{\#1}}

Boxes rendered with `\\foo` obey as the ones using directly `` ` :code-tex:`\\sphinxbox` the current configuration as set possibly mid-way in document via :code-tex:`\\sphinxboxsetup` (from a :dudir:`raw` LaTeX mark-up), the only difference is that they have an initial additional set of default extras.  In the above examples, you can probably use :code-tex:`\\renewcommand` syntax if you prefer it to :code-tex:`\\protected\\def` (with ``\[1\]`in place of`\#1``then).   Environments ~~~~~~~~~~~~  - A :dudir:`figure` may have an optional legend with arbitrary body   elements: they are rendered in a``sphinxlegend``environment. The default   definition issues :code-tex:`\\small`, and ends with :code-tex:`\\par`.    .. versionadded:: 1.5.6      Formerly, the :code-tex:`\\small` was hardcoded in LaTeX writer and the ending      :code-tex:`\\par` was lacking.  - Environments associated with admonitions:    -``sphinxnote`,   -`sphinxhint`,   -`sphinximportant`,   -`sphinxtip`,   -`sphinxwarning`,   -`sphinxcaution`,   -`sphinxattention`,   -`sphinxdanger`,   -`sphinxerror``.    They may be :code-tex:`\\renewenvironment`   'd individually, and must then be defined with one argument (it is the heading   of the notice, for example``Warning:``for :dudir:`warning` directive, if   English is the document language). Their default definitions use either the   *sphinxheavybox* (for the last 5 ones) or the *sphinxlightbox*   environments, configured to use the parameters (colors, border thickness)   specific to each type, which can be set via``'sphinxsetup'`string.    .. versionchanged:: 1.5      Use of public environment names, separate customizability of the      parameters, such as`noteBorderColor`,`noteborder`,`warningBgColor`,`warningBorderColor`,`warningborder``, ...  - Environment for the :rst:dir:`seealso` directive:``sphinxseealso`.   It takes one argument which will be the localized string`See also``followed with a colon.    .. versionadded:: 6.1.0   .. versionchanged:: 6.2.0      Colon made part of the mark-up rather than being inserted by the      environment for coherence with how admonitions are handled generally.  - Environment for the :rst:dir:`todo` directive:``sphinxtodo`.   It takes one argument, namely the localization of`Todo``(with a colon at the end; the default rendering will remove that   colon and put the localized string in its own colored title-row).    .. versionadded:: 7.4.0  - The :dudir:`topic`, contents_ and :dudir:`sidebar` directives   are associated with respectively``sphinxtopic`,`sphinxcontents`,   and`sphinxsidebar`environments.    .. versionadded:: 1.4.2      Former code refactored into an environment allowing page breaks.    .. versionchanged:: 1.5      Options`shadowsep`,`shadowsize`,`shadowrule`.    .. versionadded:: 8.1.0      Separate environments (all three wrappers around`sphinxShadowBox`)      and separate customizability.  - The literal blocks (via`::``or :rst:dir:`code-block`), and literal   includes (:rst:dir:`literalinclude`) are   implemented using``sphinxVerbatim`environment which is a wrapper of`Verbatim`environment from package`fancyvrb.sty`. It adds the handling   of the top caption and the wrapping of long lines, and a frame which allows   page breaks. Inside tables the used   environment is`sphinxVerbatimintable`(it does not draw a frame, but   allows a caption).    .. versionchanged:: 1.5`Verbatim`keeps exact same meaning as in`fancyvrb.sty`(also      under the name`OriginalVerbatim`);`sphinxVerbatimintable`is used      inside tables.    .. versionadded:: 1.5      Options`verbatimwithframe`,`verbatimwrapslines`,`verbatimsep`,`verbatimborder`.    .. versionadded:: 1.6.6      Support for`:emphasize-lines:``option    .. versionadded:: 1.6.6      Easier customizability of the formatting via exposed to user LaTeX macros      such as :code-tex:`\\sphinxVerbatimHighlightLine`.  - The bibliography uses``sphinxthebibliography`and the Python Module index   as well as the general index both use`sphinxtheindex`; these environments   are wrappers of the`thebibliography`and respectively`theindex``environments as provided by the document class (or packages).    .. versionchanged:: 1.5      Formerly, the original environments were modified by Sphinx.  Miscellany ~~~~~~~~~~  - Every text paragraph in document body starts with :code-tex:`\\sphinxAtStartPar`.   Currently, this is used to insert a zero width horizontal skip which   is a trick to allow TeX hyphenation of the first word of a paragraph   in a narrow context (like a table cell). For``'lualatex'``which   does not need the trick, the :code-tex:`\\sphinxAtStartPar` does nothing.    .. versionadded:: 3.5.0  - The section, subsection, ... headings are set using  *titlesec*'s   :code-tex:`\\titleformat` command.  - For the``'manual'``docclass, the chapter headings can be customized using   *fncychap*'s commands :code-tex:`\\ChNameVar`, :code-tex:`\\ChNumVar`,   :code-tex:`\\ChTitleVar`. File :file:`sphinx.sty` has custom re-definitions in   case of *fncychap* option``Bjarne`.    .. versionchanged:: 1.5      Formerly, use of *fncychap* with other styles than`Bjarne``was      dysfunctional.  - The :dudir:`role` directive allows to mark inline text with class arguments.   This is handled in LaTeX output via the :code-tex:`\\DUrole` dispatcher   command `as in Docutils <classarguments_>`_.  Object signatures also use   :code-tex:`\\DUrole` for some components, with one or two-letters class   names as in HTML output.    .. versionchanged:: 8.1.0      When multiple classes are injected via a a custom role, the LaTeX output      uses nested :code-tex:`\\DUrole`'s as in the `Docutils documentation      <classarguments_>`_.  Formerly it used a single :code-tex:`\\DUrole` with      comma separated classes, making the LaTeX customization more arduous.    .. _latexcontainer:  - Docutils :dudir:`container` directives are supported in LaTeX output: to   let a container class with name``foo`influence the final PDF via LaTeX,   it is only needed to define in the preamble an environment`sphinxclassfoo`.  A simple example would be:`\`latex newenvironment{sphinxclassred}{color{red}}{}

> Currently the class names must contain only ASCII characters and avoid characters special to LaTeX such as `\`.
> 
> <div class="versionadded">
> 
> 4.1.0
> 
> </div>

<div class="hint">

<div class="title">

Hint

</div>

As an experimental feature, Sphinx can use user-defined template file for LaTeX source if you have a file named `_templates/latex.tex.jinja` in your project.

Additional files `longtable.tex.jinja`, `tabulary.tex.jinja` and `tabular.tex.jinja` can be added to `_templates/` to configure some aspects of table rendering (such as the caption position).

<div class="versionadded">

1.6 currently all template variables are unstable and undocumented.

</div>

<div class="versionchanged">

7.4 Added support for the `.jinja` file extension, which is preferred. The old file names remain supported. (`latex.tex_t`, `longtable.tex_t`, `tabulary.tex_t`, and `tabular.tex_t`)

</div>

</div>

\`\`\`

---

index.md

---

# Command-line tools

These are the applications provided as part of Sphinx.

## Core applications

<div class="toctree" data-maxdepth="3">

sphinx-quickstart sphinx-build

</div>

## Additional applications

<div class="toctree" data-maxdepth="3">

sphinx-apidoc sphinx-autogen

</div>

---

sphinx-apidoc.md

---

# sphinx-apidoc

## Synopsis

**sphinx-apidoc** \[*OPTIONS*\] -o \<*OUTPUT\_PATH*\> \<*MODULE\_PATH*\> \[*EXCLUDE\_PATTERN* ...\]

## Description

`sphinx-apidoc` is a tool for automatic generation of Sphinx sources that, using the :py`~sphinx.ext.autodoc` extension, document a whole package in the style of other automatic API documentation tools.

*MODULE\_PATH* is the path to a Python package to document, and *OUTPUT\_PATH* is the directory where the generated sources are placed. Any *EXCLUDE\_PATTERN*s given are [fnmatch-style](https://docs.python.org/3/library/fnmatch.html) file and/or directory patterns that will be excluded from generation.

\> **Warning** \> `sphinx-apidoc` generates source files that use `sphinx.ext.autodoc` to document all found modules. If any modules have side effects on import, these will be executed by `autodoc` when `sphinx-build` is run.

> If you document scripts (as opposed to library modules), make sure their main routine is protected by a `if __name__ == '__main__'` condition.

## Options

<div class="program">

sphinx-apidoc

</div>

<div class="option">

\-o \<OUTPUT\_PATH\>

Directory to place the output files. If it does not exist, it is created.

</div>

<div class="option">

\-q

Do not output anything on standard output, only write warnings and errors to standard error.

</div>

<div class="option">

\-f, --force

Force overwriting of any existing generated files.

</div>

<div class="option">

\-l, --follow-links

Follow symbolic links. Defaults to `False`.

</div>

<div class="option">

\-n, --dry-run

Do not create or remove any files.

</div>

<div class="option">

\-s \<suffix\>

Suffix for the source files generated. Defaults to `rst`.

</div>

<div class="option">

\-d \<MAXDEPTH\>

Maximum depth for the generated table of contents file. Defaults to `4`.

</div>

<div class="option">

\--tocfile

Filename for a table of contents file. Defaults to `modules`.

</div>

<div class="option">

\-T, --no-toc

Do not create a table of contents file. Ignored when `--full` is provided.

</div>

<div class="option">

\--remove-old

Remove existing files in the output directory that are not created anymore. Not compatible with `--full`.

</div>

<div class="option">

\-F, --full

Generate a full Sphinx project (`conf.py`, `Makefile` etc.) using the same mechanism as `sphinx-quickstart`.

</div>

<div class="option">

\-e, --separate

Put documentation for each module on its own page.

<div class="versionadded">

1.2

</div>

</div>

<div class="option">

\-E, --no-headings

Do not create headings for the modules/packages. This is useful, for example, when docstrings already contain headings.

</div>

<div class="option">

\-P, --private

Include "\_private" modules.

<div class="versionadded">

1.2

</div>

</div>

<div class="option">

\--implicit-namespaces

By default sphinx-apidoc processes sys.path searching for modules only. Python 3.3 introduced `420` implicit namespaces that allow module path structures such as `foo/bar/module.py` or `foo/bar/baz/__init__.py` (notice that `bar` and `foo` are namespaces, not modules).

Interpret paths recursively according to PEP-0420.

</div>

<div class="option">

\-M, --module-first

Put module documentation before submodule documentation.

</div>

These options are used when `--full` is specified:

<div class="option">

\-a

Append module\_path to sys.path.

</div>

<div class="option">

\-H \<project\>

Sets the project name to put in generated files (see `project`).

</div>

<div class="option">

\-A \<author\>

Sets the author name(s) to put in generated files (see `copyright`).

</div>

<div class="option">

\-V \<version\>

Sets the project version to put in generated files (see `version`).

</div>

<div class="option">

\-R \<release\>

Sets the project release to put in generated files (see `release`).

</div>

**Project templating**

<div class="versionadded">

2.2 Project templating options for sphinx-apidoc

</div>

<div class="option">

\-t, --templatedir=TEMPLATEDIR

Template directory for template files. You can modify the templates of sphinx project files generated by apidoc. Following Jinja2 template files are allowed:

  - `module.rst.jinja`
  - `package.rst.jinja`
  - `toc.rst.jinja`
  - `root_doc.rst.jinja`
  - `conf.py.jinja`
  - `Makefile.jinja`
  - `Makefile.new.jinja`
  - `make.bat.jinja`
  - `make.bat.new.jinja`

In detail, please refer the system template files Sphinx provides. (`sphinx/templates/apidoc` and `sphinx/templates/quickstart`)

</div>

## Environment

<div class="envvar">

SPHINX\_APIDOC\_OPTIONS

A comma-separated list of option to append to generated `automodule` directives. Defaults to `members,undoc-members,show-inheritance`.

</div>

## See also

`sphinx-build(1)`, `sphinx-autogen(1)`

---

sphinx-autogen.md

---

# sphinx-autogen

## Synopsis

**sphinx-autogen** \[*options*\] \<sourcefile\> ...

## Description

`sphinx-autogen` is a tool for automatic generation of Sphinx sources that, using the :py`~sphinx.ext.autodoc` extension, document items included in :rst`autosummary` listing(s).

*sourcefile* is the path to one or more reStructuredText documents containing :rst`autosummary` entries with the `:toctree:` option set. *sourcefile* can be an :py`fnmatch`-style pattern.

## Options

<div class="program">

sphinx-autogen

</div>

<div class="option">

\-o \<outputdir\>

Directory to place the output file. If it does not exist, it is created. Defaults to the value passed to the `:toctree:` option.

</div>

<div class="option">

\-s \<suffix\>, --suffix \<suffix\>

Default suffix to use for generated files. Defaults to `rst`.

</div>

<div class="option">

\-t \<templates\>, --templates \<templates\>

Custom template directory. Defaults to `None`.

</div>

<div class="option">

\-i, --imported-members

Document imported members.

</div>

<div class="option">

\-a, --respect-module-all

Document exactly the members in a module's `__all__` attribute.

</div>

<div class="option">

\--remove-old

Remove existing files in the output directory that are not generated anymore.

</div>

## Example

Given the following directory structure:

    docs
    ├── index.rst
    └── ...
    foobar
    ├── foo
    │   └── __init__.py
    └── bar
        ├── __init__.py
        └── baz
            └── __init__.py

and assuming `docs/index.rst` contained the following:

`` `rst     Modules     =======      .. autosummary::        :toctree: modules         foobar.foo        foobar.bar        foobar.bar.baz  If you run the following:  .. code-block:: console      $ PYTHONPATH=. sphinx-autogen docs/index.rst  then the following stub files will be created in ``docs``::      docs     ├── index.rst     └── modules         ├── foobar.bar.rst         ├── foobar.bar.baz.rst         └── foobar.foo.rst  and each of those files will contain a :py:mod:`~sphinx.ext.autodoc` directive``\` and some other information.

## See also

`sphinx-build(1)`, `sphinx-apidoc(1)`

---

sphinx-build.md

---

# sphinx-build

## Synopsis

**sphinx-build** \[*options*\] \<*sourcedir*\> \<*outputdir*\> \[*filenames* ...\]

## Description

`sphinx-build` generates documentation from the files in `<sourcedir>` and places it in the `<outputdir>`.

`sphinx-build` looks for `<sourcedir>/conf.py` for the configuration settings. `sphinx-quickstart(1)` may be used to generate template files, including `conf.py`.

`sphinx-build` can create documentation in different formats. A format is selected by specifying the builder name on the command line; it defaults to HTML. Builders can also perform other tasks related to documentation processing. For a list of available builders, refer to \[/usage/builders/index\](/usage/builders/index.md).

By default, everything that is outdated is built. Output only for selected files can be built by specifying individual filenames.

## Options

<div class="program">

sphinx-build

</div>

<div id="make_mode">

<div class="option">

\-M buildername

Select a builder, using the *make-mode*. See \[/usage/builders/index\](/usage/builders/index.md) for a list of all of Sphinx's built-in builders. Extensions can add their own builders.

<div class="important">

<div class="title">

Important

</div>

Sphinx only recognizes the `-M` option if it is used first, along with the source and output directories, before any other options are passed. For example:

sphinx-build -M html ./source ./build --fail-on-warning

</div>

The *make-mode* provides the same build functionality as a default \[Makefile or Make.bat \<makefile\_options\>\](\#makefile-or-make.bat-\<makefile\_options\>), and provides the following additional build pipelines:

  - *latexpdf*  
    Build LaTeX files and run them through `pdflatex`, or as per `latex_engine` setting. If `language` is set to `'ja'`, will use automatically the `platex/dvipdfmx` latex to PDF pipeline.

  - *info*  
    Build Texinfo files and run them through `makeinfo`.

\> **Note**

</div>

</div>

  - \>  
    The default output directory locations when using *make-mode* differ from the defaults when using `-b`.
    
      - doctrees are saved to `<outputdir>/doctrees`
      - output files are saved to `<outputdir>/<builder name>`
    
    <div class="versionadded">
    
    1.2.1
    
    </div>

<div class="option">

\-b buildername, --builder buildername

Selects a builder.

See \[/usage/builders/index\](/usage/builders/index.md) for a list of all of Sphinx's built-in builders. Extensions can add their own builders.

<div class="versionchanged">

7.3 Add `--builder` long option.

</div>

</div>

<div class="option">

\-a, --write-all

If given, always write all output files. The default is to only write output files for new and changed source files. (This may not apply to all builders.)

<div class="note">

<div class="title">

Note

</div>

This option does not re-read source files. To read and re-process every file, use `--fresh-env` instead.

</div>

<div class="versionchanged">

7.3 Add `--write-all` long option.

</div>

</div>

<div class="option">

\-E, --fresh-env

Don't use a saved `environment` (the structure caching all cross-references), but rebuild it completely. The default is to only read and parse source files that are new or have changed since the last run.

<div class="versionchanged">

7.3 Add `--fresh-env` long option.

</div>

</div>

<div class="option">

\-t tag, --tag tag

Define the tag *tag*. This is relevant for :rst`only` directives that include their content only if certain tags are set. See \[including content based on tags \<tags\>\](\#including-content-based-on-tags-\<tags\>) for further detail.

<div class="versionadded">

0.6

</div>

<div class="versionchanged">

7.3 Add `--tag` long option.

</div>

</div>

<div class="option">

\-d path, --doctree-dir path

Since Sphinx has to read and parse all source files before it can write an output file, the parsed source files are cached as "doctree pickles". Normally, these files are put in a directory called `.doctrees` under the build directory; with this option you can select a different cache directory (the doctrees can be shared between all builders).

<div class="versionchanged">

7.3 Add `--doctree-dir` long option.

</div>

</div>

<div class="option">

\-j N, --jobs N

Distribute the build over *N* processes in parallel, to make building on multiprocessor machines more effective. This feature only works on systems supporting "fork". Windows is not supported. Note that not all parts and not all builders of Sphinx can be parallelized. If `auto` argument is given, Sphinx uses the number of CPUs as *N*. Defaults to 1.

<div class="versionadded">

1.2 This option should be considered *experimental*.

</div>

<div class="versionchanged">

1.7 Support `auto` argument.

</div>

<div class="versionchanged">

6.2 Add `--jobs` long option.

</div>

</div>

<div class="option">

\-c path, --config-dir path

Don't look for the `conf.py` in the source directory, but use the given configuration directory instead. Note that various other files and paths given by configuration values are expected to be relative to the configuration directory, so they will have to be present at this location too.

<div class="versionadded">

0.3

</div>

<div class="versionchanged">

7.3 Add `--config-dir` long option.

</div>

</div>

<div class="option">

\-C, --isolated

Don't look for a configuration file; only take options via the `--define` option.

<div class="versionadded">

0.5

</div>

<div class="versionchanged">

7.3 Add `--isolated` long option.

</div>

</div>

<div class="option">

\-D setting=value, --define setting=value

Override a configuration value set in the `conf.py` file. The value must be a number, string, list or dictionary value.

For lists, you can separate elements with a comma like this: `-D html_theme_path=path1,path2`.

For dictionary values, supply the setting name and key like this: `-D latex_elements.docclass=scrartcl`.

For boolean values, use `0` or `1` as the value.

<div class="versionchanged">

0.6 The value can now be a dictionary value.

</div>

<div class="versionchanged">

1.3 The value can now also be a list value.

</div>

<div class="versionchanged">

7.3 Add `--define` long option.

</div>

</div>

<div class="option">

\-A name=value, --html-define name=value

Make the *name* assigned to *value* in the HTML templates.

<div class="versionadded">

0.5

</div>

<div class="versionchanged">

7.3 Add `--html-define` long option.

</div>

</div>

<div class="option">

\-n, --nitpicky

Run in nitpicky mode. Currently, this generates warnings for all missing references. See the config value `nitpick_ignore` for a way to exclude some references as "known missing".

<div class="versionchanged">

7.3 Add `--nitpicky` long option.

</div>

</div>

<div class="option">

\-N, --no-color

Do not emit colored output.

<div class="versionchanged">

1.6 Add `--no-color` long option.

</div>

</div>

<div class="option">

\--color

Emit colored output. Auto-detected by default.

<div class="versionadded">

1.6

</div>

</div>

<div class="option">

\-v, --verbose

Increase verbosity (log-level). This option can be given up to three times to get more debug logging output. It implies `-T`.

<div class="versionadded">

1.2

</div>

<div class="versionchanged">

7.3 Add `--verbose` long option.

</div>

</div>

<div class="option">

\-q, --quiet

Do not output anything on standard output, only write warnings and errors to standard error.

<div class="versionchanged">

7.3 Add `--quiet` long option.

</div>

</div>

<div class="option">

\-Q, --silent

Do not output anything on standard output, also suppress warnings. Only errors are written to standard error.

<div class="versionchanged">

7.3 Add `--silent` long option.

</div>

</div>

<div class="option">

\-w file, --warning-file file

Write warnings (and errors) to the given file, in addition to standard error.

<div class="versionchanged">

7.3

ANSI control sequences are stripped when writing to *file*.

</div>

<div class="versionchanged">

7.3 Add `--warning-file` long option.

</div>

</div>

<div class="option">

\-W, --fail-on-warning

Turn warnings into errors. This means that `sphinx-build` exits with exit status 1 if any warnings are generated during the build.

<div class="versionchanged">

7.3 Add `--fail-on-warning` long option.

</div>

<div class="versionchanged">

8.1 `sphinx-build` no longer exits on the first warning, but instead runs the entire build and exits with exit status 1 if any warnings were generated. This behaviour was previously enabled with `--keep-going`.

</div>

</div>

<div class="option">

\--keep-going

From Sphinx 8.1, `!--keep-going` is always enabled. Previously, it was only applicable whilst using `--fail-on-warning`, which by default exited `sphinx-build` on the first warning. Using `!--keep-going` runs `!sphinx-build` to completion and exits with exit status 1 if errors are encountered.

<div class="versionadded">

1.8

</div>

<div class="versionchanged">

8.1 `sphinx-build` no longer exits on the first warning, meaning that in effect `!--fail-on-warning` is always enabled. The option is retained for compatibility, but may be removed at some later date.

</div>

</div>

<div class="option">

\-T, --show-traceback

Display the full traceback when an unhandled exception occurs. Otherwise, only a summary is displayed and the traceback information is saved to a file for further analysis.

<div class="versionadded">

1.2

</div>

<div class="versionchanged">

7.3 Add `--show-traceback` long option.

</div>

</div>

<div class="option">

\-P, --pdb

(Useful for debugging only.) Run the Python debugger, `pdb`, if an unhandled exception occurs while building.

<div class="versionchanged">

7.3 Add `--pdb` long option.

</div>

</div>

<div class="option">

\--exception-on-warning

Raise an exception when a warning is emitted during the build. This can be useful in combination with `--pdb` to debug warnings.

<div class="versionadded">

8.1

</div>

</div>

<div class="option">

\-h, --help, --version

Display usage summary or Sphinx version.

<div class="versionadded">

1.2

</div>

</div>

You can also give one or more filenames on the command line after the source and build directories. Sphinx will then try to build only these output files (and their dependencies).

## Environment Variables

The `sphinx-build` refers following environment variables:

<div class="describe">

MAKE

A path to make command. A command name is also allowed. `sphinx-build` uses it to invoke sub-build process on make-mode.

</div>

<div id="makefile_options">

**Makefile Options**

</div>

The `Makefile` and `make.bat` files created by `sphinx-quickstart` usually run `sphinx-build` only with the `-b` and `-d` options. However, they support the following variables to customize behavior:

<div class="describe">

PAPER

This sets the `'papersize'` key of `latex_elements`: i.e. `PAPER=a4` sets it to `'a4paper'` and `PAPER=letter` to `'letterpaper'`.

\> **Note**

</div>

  - \>  
    Usage of this environment variable got broken at Sphinx 1.5 as `a4` or `letter` ended up as option to LaTeX document in place of the needed `a4paper`, resp. `letterpaper`. Fixed at 1.7.7.

<div class="describe">

SPHINXBUILD

The command to use instead of `sphinx-build`.

</div>

<div class="describe">

BUILDDIR

The build directory to use instead of the one chosen in `sphinx-quickstart`.

</div>

<div class="describe">

SPHINXOPTS

Additional options for `sphinx-build`. These options can also be set via the shortcut variable **O** (capital 'o').

</div>

<div class="describe">

NO\_COLOR

When set (regardless of value), `sphinx-build` will not use color in terminal output. `NO_COLOR` takes precedence over `FORCE_COLOR`. See [no-color.org](https://no-color.org/) for other libraries supporting this community standard.

<div class="versionadded">

4.5.0

</div>

</div>

<div class="describe">

FORCE\_COLOR

When set (regardless of value), `sphinx-build` will use color in terminal output. `NO_COLOR` takes precedence over `FORCE_COLOR`.

<div class="versionadded">

4.5.0

</div>

</div>

## Deprecation Warnings

If any deprecation warning like `RemovedInSphinxXXXWarning` are displayed when building a user's document, some Sphinx extension is using deprecated features. In that case, please report it to author of the extension.

To disable the deprecation warnings, please set `PYTHONWARNINGS=` environment variable to your environment. For example:

  - `PYTHONWARNINGS= make html` (Linux/Mac)
  - `export PYTHONWARNINGS=` and do `make html` (Linux/Mac)
  - `set PYTHONWARNINGS=` and do `make html` (Windows)
  - modify your Makefile/make.bat and set the environment variable

## See also

`sphinx-quickstart(1)`

---

sphinx-quickstart.md

---

# sphinx-quickstart

## Synopsis

**sphinx-quickstart**

## Description

`sphinx-quickstart` is an interactive tool that asks some questions about your project and then generates a complete documentation directory and sample Makefile to be used with `sphinx-build(1)`.

## Options

<div class="program">

sphinx-quickstart

</div>

<div class="option">

\-q, --quiet

Quiet mode that skips the interactive wizard for specifying options. This option requires <span class="title-ref">-p</span>, <span class="title-ref">-a</span> and <span class="title-ref">-v</span> options.

</div>

<div class="option">

\-h, --help, --version

Display usage summary or Sphinx version.

</div>

**Structure Options**

<div class="option">

\--sep

If specified, separate source and build directories.

</div>

<div class="option">

\--no-sep

If specified, create build directory under source directory.

</div>

<div class="option">

\--dot=DOT

Inside the root directory, two more directories will be created; "\_templates" for custom HTML templates and "\_static" for custom stylesheets and other static files. You can enter another prefix (such as ".") to replace the underscore.

</div>

**Project Basic Options**

<div class="option">

\-p PROJECT, --project=PROJECT

Project name will be set. (see `project`).

</div>

<div class="option">

\-a AUTHOR, --author=AUTHOR

Author names. (see `copyright`).

</div>

<div class="option">

\-v VERSION

Version of project. (see `version`).

</div>

<div class="option">

\-r RELEASE, --release=RELEASE

Release of project. (see `release`).

</div>

<div class="option">

\-l LANGUAGE, --language=LANGUAGE

Document language. (see `language`).

</div>

<div class="option">

\--suffix=SUFFIX

Source file suffix. (see `source_suffix`).

</div>

<div class="option">

\--master=MASTER

Master document name. (see `root_doc`).

</div>

**Extension Options**

<div class="option">

\--ext-autodoc

Enable :py`sphinx.ext.autodoc` extension.

</div>

<div class="option">

\--ext-doctest

Enable <span class="title-ref">sphinx.ext.doctest</span> extension.

</div>

<div class="option">

\--ext-intersphinx

Enable <span class="title-ref">sphinx.ext.intersphinx</span> extension.

</div>

<div class="option">

\--ext-todo

Enable <span class="title-ref">sphinx.ext.todo</span> extension.

</div>

<div class="option">

\--ext-coverage

Enable <span class="title-ref">sphinx.ext.coverage</span> extension.

</div>

<div class="option">

\--ext-imgmath

Enable <span class="title-ref">sphinx.ext.imgmath</span> extension.

</div>

<div class="option">

\--ext-mathjax

Enable <span class="title-ref">sphinx.ext.mathjax</span> extension.

</div>

<div class="option">

\--ext-ifconfig

Enable <span class="title-ref">sphinx.ext.ifconfig</span> extension.

</div>

<div class="option">

\--ext-viewcode

Enable <span class="title-ref">sphinx.ext.viewcode</span> extension.

</div>

<div class="option">

\--ext-githubpages

Enable <span class="title-ref">sphinx.ext.githubpages</span> extension.

</div>

<div class="option">

\--extensions=EXTENSIONS

Enable arbitrary extensions.

</div>

**Makefile and Batchfile Creation Options**

<div class="option">

\--use-make-mode (-m), --no-use-make-mode (-M)

`Makefile/make.bat` uses (or doesn't use) \[make-mode \<make\_mode\>\](\#make-mode-\<make\_mode\>). Default is `use`, which generates a more concise `Makefile/make.bat`.

<div class="versionchanged">

1.5 make-mode is default.

</div>

<div class="versionchanged">

7.3 Support for disabling the make-mode will be removed in Sphinx 8.

</div>

<div class="versionremoved">

8.0 The `!--no-use-make-mode` option. The `!--use-make-mode` now has no effect.

</div>

</div>

<div class="option">

\--makefile, --no-makefile

Create (or not create) makefile.

</div>

<div class="option">

\--batchfile, --no-batchfile

Create (or not create) batchfile

</div>

**Project templating**

<div class="versionadded">

1.5 Project templating options for sphinx-quickstart

</div>

<div class="option">

\-t, --templatedir=TEMPLATEDIR

Template directory for template files. You can modify the templates of sphinx project files generated by quickstart. Following Jinja2 template files are allowed:

  - `root_doc.rst.jinja`
  - `conf.py.jinja`
  - `Makefile.jinja`
  - `Makefile.new.jinja`
  - `make.bat.jinja`
  - `make.bat.new.jinja`

In detail, please refer the system template files Sphinx provides. (`sphinx/templates/quickstart`)

</div>

<div class="option">

\-d NAME=VALUE

Define a template variable

</div>

## See also

`sphinx-build(1)`

---

support.md

---

# Get support

For questions or to report problems with Sphinx:

  - Please verify that your question does not exist on [StackOverflow](https://stackoverflow.com/questions/tagged/python-sphinx) (with the tag `python-sphinx`)
  - open a topic at the [Github discussions](https://github.com/sphinx-doc/sphinx/discussions) page,
  - open an issue at the [Github issues](https://github.com/sphinx-doc/sphinx/issues) page,
  - or join the [sphinx-users](https://groups.google.com/group/sphinx-users) mailing list on Google Groups,

Examples of other projects using Sphinx can be found in the \[examples page \<examples\>\](examples page \<examples\>.md).

See also the guide by [ReadTheDocs](https://docs.readthedocs.io/en/stable/intro/getting-started-with-sphinx.html) on how to get started with Sphinx.

There is a translation team in [Transifex](https://www.transifex.com/sphinx-doc/sphinx-doc/dashboard/) of this documentation, thanks to the Sphinx document translators.

---

automatic-doc-generation.md

---

# Automatic documentation generation from code

In the \[previous section \<tutorial-describing-objects\>\](\#previous-section-\<tutorial-describing-objects\>) of the tutorial you manually documented a Python function in Sphinx. However, the description was out of sync with the code itself, since the function signature was not the same. Besides, it would be nice to reuse `Python docstrings
<257#what-is-a-docstring>` in the documentation, rather than having to write the information in two places.

Fortunately, \[the autodoc extension \</usage/extensions/autodoc\>\](the autodoc extension \</usage/extensions/autodoc\>.md) provides this functionality.

## Reusing signatures and docstrings with autodoc

To use autodoc, first add it to the list of enabled extensions:

``` python
extensions = [
    'sphinx.ext.duration',
    'sphinx.ext.doctest',
    'sphinx.ext.autodoc',
]
```

Next, move the content of the `.. py:function` directive to the function docstring in the original Python file, as follows:

``` python
def get_random_ingredients(kind=None):
    """
    Return a list of random ingredients as strings.

    :param kind: Optional "kind" of ingredients.
    :type kind: list[str] or None
    :raise lumache.InvalidKindError: If the kind is invalid.
    :return: The ingredients list.
    :rtype: list[str]

    """
    return ["shells", "gorgonzola", "parsley"]
```

Finally, replace the `.. py:function` directive from the Sphinx documentation with :rst`autofunction`:

``` rst
you can use the ``lumache.get_random_ingredients()`` function:

.. autofunction:: lumache.get_random_ingredients
```

If you now build the HTML documentation, the output will be the same\! With the advantage that it is generated from the code itself. Sphinx took the reStructuredText from the docstring and included it, also generating proper cross-references.

You can also autogenerate documentation from other objects. For example, add the code for the `InvalidKindError` exception:

``` python
class InvalidKindError(Exception):
    """Raised if the kind is invalid."""
    pass
```

And replace the `.. py:exception` directive with :rst`autoexception` as follows:

``` rst
or ``"veggies"``. Otherwise, :py`lumache.get_random_ingredients`
will raise an exception.

.. autoexception:: lumache.InvalidKindError
```

And again, after running `make html`, the output will be the same as before.

## Generating comprehensive API references

While using `sphinx.ext.autodoc` makes keeping the code and the documentation in sync much easier, it still requires you to write an `auto*` directive for every object you want to document. Sphinx provides yet another level of automation: the \[autosummary \</usage/extensions/autosummary\>\](autosummary \</usage/extensions/autosummary\>.md) extension.

The :rst`autosummary` directive generates documents that contain all the necessary `autodoc` directives. To use it, first enable the autosummary extension:

``` python
extensions = [
   'sphinx.ext.duration',
   'sphinx.ext.doctest',
   'sphinx.ext.autodoc',
   'sphinx.ext.autosummary',
]
```

Next, create a new `api.rst` file with these contents:

``` rst
API
===

.. autosummary::
   :toctree: generated

   lumache
```

Remember to include the new document in the root toctree:

``` rst
Contents
--------

.. toctree::

   usage
   api
```

Finally, after you build the HTML documentation running `make html`, it will contain two new pages:

  - `api.html`, corresponding to `docs/source/api.rst` and containing a table with the objects you included in the `autosummary` directive (in this case, only one).
  - `generated/lumache.html`, corresponding to a newly created reStructuredText file `generated/lumache.rst` and containing a summary of members of the module, in this case one function and one exception.

![Summary page created by autosummary](/_static/tutorial/lumache-autosummary.png)

Each of the links in the summary page will take you to the places where you originally used the corresponding `autodoc` directive, in this case in the `usage.rst` document.

\> **Note** \> The generated files are based on [Jinja2 templates](https://jinja.palletsprojects.com/) that \[can be customized \<autosummary-customizing-templates\>\](\#can-be-customized-\<autosummary-customizing-templates\>), but that is out of scope for this tutorial.

---

deploying.md

---

# Appendix: Deploying a Sphinx project online

When you are ready to show your documentation project to the world, there are many options available to do so. Since the HTML generated by Sphinx is static, you can decouple the process of building your HTML documentation from hosting such files in the platform of your choice. You will not need a sophisticated server running Python: virtually every web hosting service will suffice.

Therefore, the challenge is less how or where to serve the static HTML, but rather how to pick a workflow that automatically updates the deployed documentation every time there is a change in the source files.

The following sections describe some of the available options to deploy your online documentation, and give some background information. If you want to go directly to the practical part, you can skip to \[publishing-sources\](\#publishing-sources).

## Sphinx-friendly deployment options

There are several possible options you have to host your Sphinx documentation. Some of them are:

  - **Read the Docs**  
    [Read the Docs](#read-the-docs) is an online service specialized in hosting technical documentation written in Sphinx, as well as MkDocs. They have a number of extra features, such as versioned documentation, traffic and search analytics, custom domains, user-defined redirects, and more.

  - **GitHub Pages**  
    [GitHub Pages](#github-pages) is a simple static web hosting tightly integrated with [GitHub](#github): static HTML is served from one of the branches of a project, and usually sources are stored in another branch so that the output can be updated every time the sources change (for example using [GitHub Actions](https://github.com/features/actions)). It is free to use and supports custom domains.

  - **GitLab Pages**  
    [GitLab Pages](#gitlab-pages) is a similar concept to GitHub Pages, integrated with [GitLab](#gitlab) and usually automated with [GitLab CI](https://about.gitlab.com/stages-devops-lifecycle/continuous-integration/) instead.

  - **Netlify**  
    [Netlify](https://www.netlify.com/) is a sophisticated hosting for static sites enhanced by client-side web technologies like JavaScript (so-called ["Jamstack"](https://jamstack.org/)). They offer support for headless content management systems and serverless computing.

  - **Your own server**  
    You can always use your own web server to host Sphinx HTML documentation. It is the option that gives more flexibility, but also more complexity.

All these options have zero cost, with the option of paying for extra features.

## Embracing the "Docs as Code" philosophy

The free offerings of most of the options listed above require your documentation sources to be publicly available. Moreover, these services expect you to use a [Version Control System](https://en.wikipedia.org/wiki/Version_control), a technology that tracks the evolution of a collection of files as a series of snapshots ("commits"). The practice of writing documentation in plain text files with the same tools as the ones used for software development is commonly known as ["Docs as Code"](https://www.writethedocs.org/guide/docs-as-code/).

The most popular Version Control System nowadays is [Git](https://git-scm.com/), a free and open source tool that is the backbone of services like GitHub and GitLab. Since both Read the Docs and Netlify have integrations with GitHub and GitLab, and both GitHub and GitLab have an integrated Pages product, the most effective way of automatically build your documentation online is to upload your sources to either of these Git hosting services.

## Publishing your documentation sources

### GitHub

The quickest way to upload an existing project to GitHub is to:

1.  [Sign up for a GitHub account](https://github.com/signup).
2.  [Create a new repository](https://github.com/new).
3.  Open [the "Upload files" page](https://docs.github.com/en/repositories/working-with-files/managing-files/adding-a-file-to-a-repository) of your new repository.
4.  Select the files on your operating system file browser (in your case `README.rst`, `lumache.py`, the makefiles under the `docs` directory, and everything under `docs/source`) and drag them to the GitHub interface to upload them all.
5.  Click on the `Commit changes` button.

\> **Note** \> Make sure you don't upload the `docs/build` directory, as it contains the output generated by Sphinx and it will change every time you change the sources, complicating your workflow.

These steps do not require access to the command line or installing any additional software. To learn more, read [this quickstart tutorial](https://docs.github.com/en/get-started/quickstart) or consult the [official GitHub documentation](https://docs.github.com/en/get-started)

### GitLab

Similarly to GitHub, the fastest way to upload your project to GitLab is using the web interface:

1.  [Sign up for a GitLab account](https://gitlab.com/users/sign_up).
2.  [Create a new blank project](https://gitlab.com/projects/new).
3.  Upload the project files (in your case `README.rst`, `lumache.py`, the makefiles under the `docs` directory, and everything under `docs/source`) one by one using the `Upload File` button\[1\].

Again, these steps do not require additional software on your computer. To learn more, you can:

  - Follow [this tutorial](https://docs.gitlab.com/ee/gitlab-basics/start-using-git.html) to install Git on your machine.
  - Browse the [GitLab User documentation](https://docs.gitlab.com/ee/user/index.html) to understand the possibilities of the platform.

\> **Note** \> Make sure you don't upload the `docs/build` directory, as it contains the output generated by Sphinx and it will change every time you change the sources, complicating your workflow.

## Publishing your HTML documentation

### Read the Docs

[Read the Docs](#read-the-docs) offers integration with both GitHub and GitLab. The quickest way of getting started is to follow \[the RTD tutorial \<readthedocs:tutorial/index\>\](the RTD tutorial \<readthedocs:tutorial/index\>.md), which is loosely based on this one. You can publish your sources on GitHub as explained \[in the previous section \<publishing-sources\>\](\#in-the-previous section-\<publishing-sources\>), then skip directly to \[readthedocs:tutorial/index:Creating a Read the Docs account\](\#readthedocs:tutorial/index:creating-a-read-the-docs-account). If you choose GitLab instead, the process is similar.

### GitHub Pages

[GitHub Pages](#github-pages) requires you to \[publish your sources \<publishing-sources\>\](\#publish-your sources-\<publishing-sources\>) on [GitHub](#github). After that, you will need an automated process that performs the `make html` step every time the sources change. That can be achieved using [GitHub Actions](https://github.com/features/actions).

After you have published your sources on GitHub, create a file named `.github/workflows/sphinx.yml` in your repository with the following contents:

``` yaml
name: "Sphinx: Render docs"

on: push

jobs:
  build:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
    - uses: actions/checkout@v4
      with:
        persist-credentials: false
    - name: Build HTML
      uses: ammaraskar/sphinx-action@master
    - name: Upload artifacts
      uses: actions/upload-artifact@v4
      with:
        name: html-docs
        path: docs/build/html/
    - name: Deploy
      uses: peaceiris/actions-gh-pages@v3
      if: github.ref == 'refs/heads/main'
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        publish_dir: docs/build/html
```

This contains a GitHub Actions workflow with a single job of four steps:

1.  Checkout the code.
2.  Build the HTML documentation using Sphinx.
3.  Attach the HTML output the artifacts to the GitHub Actions job, for easier inspection.
4.  If the change happens on the default branch, take the contents of `docs/build/html` and push it to the `gh-pages` branch.

Next, you need to specify the dependencies for the `make html` step to be successful. For that, create a file `docs/requirements.txt` and add the following contents:

    furo==2021.11.16

And finally, you are ready to [enable GitHub Pages on your repository](https://docs.github.com/en/pages/getting-started-with-github-pages/configuring-a-publishing-source-for-your-github-pages-site). For that, go to `Settings`, then `Pages` on the left sidebar, select the `gh-pages` branch in the "Source" dropdown menu, and click `Save`. After a few minutes, you should be able to see your HTML at the designated URL.

### GitLab Pages

[GitLab Pages](#gitlab-pages), on the other hand, requires you to \[publish your sources \<publishing-sources\>\](\#publish-your sources-\<publishing-sources\>) on [GitLab](#gitlab). When you are ready, you can automate the process of running `make html` using [GitLab CI](https://about.gitlab.com/stages-devops-lifecycle/continuous-integration/).

After you have published your sources on GitLab, create a file named `.gitlab-ci.yml` in your repository with these contents:

``` yaml
stages:
  - deploy

pages:
  stage: deploy
  image: python:3.12-slim
  before_script:
    - apt-get update && apt-get install make --no-install-recommends -y
    - python -m pip install sphinx furo
  script:
    - cd docs && make html
  after_script:
    - mv docs/build/html/ ./public/
  artifacts:
    paths:
    - public
  rules:
    - if: $CI_COMMIT_REF_NAME == $CI_DEFAULT_BRANCH
```

This contains a GitLab CI workflow with one job of several steps:

1.  Install the necessary dependencies.
2.  Build the HTML documentation using Sphinx.
3.  Move the output to a known artifacts location.

<div class="note">

<div class="title">

Note

</div>

You will need to [validate your account](https://about.gitlab.com/blog/2021/05/17/prevent-crypto-mining-abuse/#validating-an-account) by entering a payment method (you will be charged a small amount that will then be reimbursed).

</div>

After that, if the pipeline is successful, you should be able to see your HTML at the designated URL.

1.  At the time of writing, [uploading whole directories to GitLab using only the web interface](https://gitlab.com/gitlab-org/gitlab/-/issues/228490) is not yet implemented.

---

describing-code.md

---

# Describing code in Sphinx

In the \[previous sections of the tutorial \</tutorial/index\>\](previous sections of the tutorial \</tutorial/index\>.md) you can read how to write narrative or prose documentation in Sphinx. In this section you will describe code objects instead.

Sphinx supports documenting code objects in several languages, namely Python, C, C++, JavaScript, and reStructuredText. Each of them can be documented using a series of directives and roles grouped by \[domain \</usage/domains/index\>\](domain \</usage/domains/index\>.md). For the remainder of the tutorial you will use the Python domain, but all the concepts seen in this section apply for the other domains as well.

## Python

### Documenting Python objects

Sphinx offers several roles and directives to document Python objects, all grouped together in \[the Python domain \</usage/domains/python\>\](the Python domain \</usage/domains/python\>.md). For example, you can use the :rst`py:function` directive to document a Python function, as follows:

``` rst
Creating recipes
----------------

To retrieve a list of random ingredients,
you can use the ``lumache.get_random_ingredients()`` function:

.. py:function:: lumache.get_random_ingredients(kind=None)

   Return a list of random ingredients as strings.

   :param kind: Optional "kind" of ingredients.
   :type kind: list[str] or None
   :return: The ingredients list.
   :rtype: list[str]
```

Which will render like this:

![The rendered result of documenting a Python function in Sphinx](/_static/tutorial/lumache-py-function.png)

Notice several things:

  - Sphinx parsed the argument of the `.. py:function` directive and highlighted the module, the function name, and the parameters appropriately.
  - The directive content includes a one-line description of the function, as well as an \[info field list \<info-field-lists\>\](\#info-field-list-\<info-field-lists\>) containing the function parameter, its expected type, the return value, and the return type.

\> **Note** \> The `py:` prefix specifies the `domain`. You may configure the default domain so you can omit the prefix, either globally using the `primary_domain` configuration, or use the :rst`default-domain` directive to change it from the point it is called until the end of the file. For example, if you set it to `py` (the default), you can write `.. function::` directly.

### Cross-referencing Python objects

By default, most of these directives generate entities that can be cross-referenced from any part of the documentation by using \[a corresponding role \<python-xref-roles\>\](\#a-corresponding-role-\<python-xref-roles\>). For the case of functions, you can use :rst`py:func` for that, as follows:

``` rst
The ``kind`` parameter should be either ``"meat"``, ``"fish"``,
or ``"veggies"``. Otherwise, :py`lumache.get_random_ingredients`
will raise an exception.
```

When generating code documentation, Sphinx will generate a cross-reference automatically just by using the name of the object, without you having to explicitly use a role for that. For example, you can describe the custom exception raised by the function using the :rst`py:exception` directive:

``` rst
.. py:exception:: lumache.InvalidKindError

   Raised if the kind is invalid.
```

Then, add this exception to the original description of the function:

``` rst
.. py:function:: lumache.get_random_ingredients(kind=None)

   Return a list of random ingredients as strings.

   :param kind: Optional "kind" of ingredients.
   :type kind: list[str] or None
   :raise lumache.InvalidKindError: If the kind is invalid.
   :return: The ingredients list.
   :rtype: list[str]
```

And finally, this is how the result would look:

![](/_static/tutorial/lumache-py-function-full.png)

Beautiful, isn't it?

### Including doctests in your documentation

Since you are now describing code from a Python library, it will become useful to keep both the documentation and the code as synchronized as possible. One of the ways to do that in Sphinx is to include code snippets in the documentation, called *doctests*, that are executed when the documentation is built.

To demonstrate doctests and other Sphinx features covered in this tutorial, Sphinx will need to be able to import the code. To achieve that, write this at the beginning of `conf.py`:

``` python
# If extensions (or modules to document with autodoc) are in another directory,
# add these directories to sys.path here.
import sys
from pathlib import Path
sys.path.insert(0, str(Path(__file__).resolve().parents[2]))
```

\> **Note** \> An alternative to changing the :py\`sys.path\` variable is to create a `pyproject.toml` file and make the code installable, so it behaves like any other Python library. However, the `sys.path` approach is simpler.

Then, before adding doctests to your documentation, enable the \[doctest \</usage/extensions/doctest\>\](doctest \</usage/extensions/doctest\>.md) extension in `conf.py`:

``` python
extensions = [
    'sphinx.ext.duration',
    'sphinx.ext.doctest',
]
```

Next, write a doctest block as follows:

``` rst
>>> import lumache
>>> lumache.get_random_ingredients()
['shells', 'gorgonzola', 'parsley']
```

Doctests include the Python instructions to be run preceded by `>>>`, the standard Python interpreter prompt, as well as the expected output of each instruction. This way, Sphinx can check whether the actual output matches the expected one.

To observe how a doctest failure looks like (rather than a code error as above), let's write the return value incorrectly first. Therefore, add a function `get_random_ingredients` like this:

``` python
def get_random_ingredients(kind=None):
    return ["eggs", "bacon", "spam"]
```

You can now run `make doctest` to execute the doctests of your documentation. Initially this will display an error, since the actual code does not behave as specified:

`` `console    (.venv) $ make doctest    Running Sphinx v4.2.0    loading pickled environment... done    ...    running tests...     Document: usage    ---------------    **********************************************************************    File "usage.rst", line 44, in default    Failed example:        lumache.get_random_ingredients()    Expected:        ['shells', 'gorgonzola', 'parsley']    Got:        ['eggs', 'bacon', 'spam']    **********************************************************************    ...    make: *** [Makefile:20: doctest] Error 1  As you can see, doctest reports the expected and the actual results, ``\` for easy examination. It is now time to fix the function:

``` python
def get_random_ingredients(kind=None):
    return ["shells", "gorgonzola", "parsley"]
```

And finally, `make doctest` reports success\!

For big projects though, this manual approach can become a bit tedious. In the next section, you will see \[how to automate the process \</tutorial/automatic-doc-generation\>\](how to automate the process \</tutorial/automatic-doc-generation\>.md).

## Other languages (C, C++, others)

### Documenting and cross-referencing objects

Sphinx also supports documenting and cross-referencing objects written in other programming languages. There are four additional built-in domains: C, C++, JavaScript, and reStructuredText. Third-party extensions may define domains for more languages, such as

  - [Fortran](https://sphinx-fortran.readthedocs.io),
  - [Julia](https://bastikr.github.io/sphinx-julia), or
  - [PHP](https://github.com/markstory/sphinxcontrib-phpdomain).

For example, to document a C++ type definition, you would use the built-in :rst`cpp:type` directive, as follows:

`` `rst    .. cpp:type:: std::vector<int> CustomList        A typedef-like declaration of a type.  Which would give the following result:  .. cpp:type:: std::vector<int> CustomList     A typedef-like declaration of a type.  All such directives then generate references that can be ``<span class="title-ref"> cross-referenced by using the corresponding role. For example, to reference the previous type definition, you can use the :rst:role:\`cpp:type</span> role as follows:

`` `rst    Cross reference to :cpp:type:`CustomList`.  Which would produce a hyperlink to the previous definition: :cpp:type:`CustomList`. ``\`

---

end.md

---

# Where to go from here

This tutorial covered the very first steps to create a documentation project with Sphinx. To continue learning more about Sphinx, check out the [rest of the documentation](../contents.html).

---

first-steps.md

---

# First steps to document your project using Sphinx

## Building your HTML documentation

The `index.rst` file that `sphinx-quickstart` created has some content already, and it gets rendered as the front page of your HTML documentation. It is written in reStructuredText, a powerful markup language.

Modify the file as follows:

``` rst
Welcome to Lumache's documentation!
===================================

**Lumache** (/lu'make/) is a Python library for cooks and food lovers that
creates recipes mixing random ingredients.  It pulls data from the `Open Food
Facts database <https://world.openfoodfacts.org/>`_ and offers a *simple* and
*intuitive* API.

> **Note**
```

  - \>  
    This project is under active development.

This showcases several features of the reStructuredText syntax, including:

  - a **section header** using `===` for the underline,
  - two examples of \[rst-inline-markup\](\#rst-inline-markup): `**strong emphasis**` (typically bold) and `*emphasis*` (typically italics),
  - an **inline external link**,

<!-- end list -->

  - \- and a `note` **admonition** (one of the available \[directives  
    \<rst-directives\>\](\#directives

\--\<rst-directives\>))

Now to render it with the new content, you can use the `sphinx-build` command as before, or leverage the convenience script as follows:

`` `console    (.venv) $ cd docs    (.venv) $ make html  After running this command, you will see that ``index.html`reflects the new`\` changes\!

## Building your documentation in other formats

Sphinx supports a variety of formats apart from HTML, including PDF, EPUB, \[and more \<builders\>\](\#and-more-\<builders\>). For example, to build your documentation in EPUB format, run this command from the `docs` directory:

`` `console    (.venv) $ make epub  After that, you will see the files corresponding to the e-book under ``<span class="title-ref"> </span><span class="title-ref">docs/build/epub/</span><span class="title-ref">. You can either open </span><span class="title-ref">Lumache.epub</span><span class="title-ref"> with an EPUB-compatible e-book viewer, like \`Calibre \<https://calibre-ebook.com/\></span>\_, or preview `index.xhtml` on a web browser.

\> **Note** \> To quickly display a complete list of possible output formats, plus some extra useful commands, you can run `make help`.

Each output format has some specific configuration options that you can tune, \[including EPUB \<epub-options\>\](\#including-epub-\<epub-options\>). For instance, the default value of `epub_show_urls` is `inline`, which means that, by default, URLs are shown right after the corresponding link, in parentheses. You can change that behavior by adding the following code at the end of your `conf.py`:

`` `python    # EPUB options    epub_show_urls = 'footnote'  With this configuration value, and after running ``make epub`again, you will`\` notice that URLs appear now as footnotes, which avoids cluttering the text. Sweet\! Read on to explore \[other ways to customize Sphinx \</tutorial/more-sphinx-customization\>\](other ways to customize Sphinx \</tutorial/more-sphinx-customization\>.md).

\> **Note** \> Generating a PDF using Sphinx can be done running `make latexpdf`, provided that the system has a working LaTeX installation, as explained in the documentation of <span class="title-ref">sphinx.builders.latex.LaTeXBuilder</span>. Although this is perfectly feasible, such installations are often big, and in general LaTeX requires careful configuration in some cases, so PDF generation is out of scope for this tutorial.

---

getting-started.md

---

# Getting started

## Setting up your project and development environment

In a new directory, create a file called `README.rst` with the following content.

``` rst
Lumache
=======

**Lumache** (/lu'make/) is a Python library for cooks and food lovers that
creates recipes mixing random ingredients.
```

It is a good moment to create a Python virtual environment and install the required tools. For that, open a command line terminal, `cd` into the directory you just created, and run the following commands:

`` `console    $ python -m venv .venv    $ source .venv/bin/activate    (.venv) $ python -m pip install sphinx  > **Note** >     The installation method used above is described in more detail in    [install-pypi](#install-pypi).  For the rest of this tutorial, the instructions will    assume a Python virtual environment.  If you executed these instructions correctly, you should have the Sphinx command ``\` line tools available. You can do a basic verification running this command:

`` `console    (.venv) $ sphinx-build --version    sphinx-build 4.0.2  If you see a similar output, you are on the right path!  Creating the documentation layout ``\` ---------------------------------

Then from the command line, run the following command:

`` `console    (.venv) $ sphinx-quickstart docs  This will present to you a series of questions required to create the basic ``<span class="title-ref"> directory and configuration layout for your project inside the </span><span class="title-ref">docs</span>\` folder. To proceed, answer each question as follows:

  - `> Separate source and build directories (y/n) [n]`: Write "`y`" (without quotes) and press `Enter`.
  - `> Project name`: Write "`Lumache`" (without quotes) and press `Enter`.
  - `> Author name(s)`: Write "`Graziella`" (without quotes) and press `Enter`.
  - `> Project release []`: Write "`0.1`" (without quotes) and press `Enter`.
  - `> Project language [en]`: Leave it empty (the default, English) and press `Enter`.

After the last question, you will see the new `docs` directory with the following content.

`` `text    docs    ├── build    ├── make.bat    ├── Makefile    └── source       ├── conf.py       ├── index.rst       ├── _static       └── _templates  The purpose of each of these files is: ``build/`An empty directory (for now) that will hold the rendered documentation.`make.bat`and`Makefile`Convenience scripts to simplify some common Sphinx operations, such as   rendering the content.`source/conf.py`A Python script holding the configuration of the Sphinx project.  It contains   the project name and release you specified to`sphinx-quickstart`, as well   as some extra configuration keys.`source/index.rst``The :term:`root document` of the project, which serves as welcome page and   contains the root of the "table of contents tree" (or *toctree*).  Thanks to this bootstrapping step, you already have everything needed to render``\` the documentation as HTML for the first time. To do that, run this command:

`` `console    (.venv) $ sphinx-build -M html docs/source/ docs/build/  And finally, open ``docs/build/html/index.html`in your browser.  You should see`\` something like this:

![Freshly created documentation of Lumache](/_static/tutorial/lumache-first-light.png)

There we go\! You created your first HTML documentation using Sphinx. Now you can start \[customizing it \</tutorial/first-steps\>\](customizing it \</tutorial/first-steps\>.md).

---

index.md

---

# Build your first project

In this tutorial you will build a simple documentation project using Sphinx, and view it in your browser as HTML. The project will include narrative, handwritten documentation, as well as autogenerated API documentation.

The tutorial is aimed towards Sphinx newcomers willing to learn the fundamentals of how projects are created and structured. You will create a fictional software library to generate random food recipes that will serve as a guide throughout the process, with the objective of properly documenting it.

To showcase Sphinx capabilities for code documentation you will use Python, which also supports *automatic* documentation generation.

\> **Note** \> Several other languages are natively supported in Sphinx for *manual* code documentation, however they require extensions for *automatic* code documentation, like [Breathe](https://breathe.readthedocs.io/).

To follow the instructions you will need access to a Linux-like command line and a basic understanding of how it works, as well as a working Python installation for development, since you will use *Python virtual environments* to create the project.

<div class="toctree">

getting-started first-steps more-sphinx-customization narrative-documentation describing-code automatic-doc-generation deploying end

</div>

---

more-sphinx-customization.md

---

# More Sphinx customization

There are two main ways to customize your documentation beyond what is possible with core Sphinx: extensions and themes.

## Enabling a built-in extension

In addition to these configuration values, you can customize Sphinx even more by using \[extensions \</usage/extensions/index\>\](extensions \</usage/extensions/index\>.md). Sphinx ships several \[builtin ones \<builtin-extensions\>\](\#builtin-ones-\<builtin-extensions\>), and there are many more \[maintained by the community \<third-party-extensions\>\](\#maintained-by-the-community-\<third-party-extensions\>).

For example, to enable the `sphinx.ext.duration` extension, locate the `extensions` list in your `conf.py` and add one element as follows:

``` python
# Add any Sphinx extension module names here, as strings. They can be
# extensions coming with Sphinx (named 'sphinx.ext.*') or your custom
# ones.
extensions = [
    'sphinx.ext.duration',
]
```

After that, every time you generate your documentation, you will see a short durations report at the end of the console output, like this one:

`` `console    (.venv) $ make html    ...    The HTML pages are in build/html.     ====================== slowest reading durations =======================    0.042 temp/source/index  Using a third-party HTML theme ``\` ------------------------------

Themes, on the other hand, are a way to customize the appearance of your documentation. Sphinx has several \[builtin themes \<builtin-themes\>\](\#builtin-themes-\<builtin-themes\>), and there are also [third-party ones](https://sphinx-themes.org/).

For example, to use the [Furo](https://pradyunsg.me/furo/) third-party theme in your HTML documentation, first you will need to install it with `pip` in your Python virtual environment, like this:

`` `console    (.venv) $ pip install furo  And then, locate the ``html\_theme`variable on your`conf.py`and replace`\` its value as follows:

``` python
# The theme to use for HTML and HTML Help pages.  See the documentation for
# a list of builtin themes.
#
html_theme = 'furo'
```

With this change, you will notice that your HTML documentation has now a new appearance:

![HTML documentation of Lumache with the Furo theme](/_static/tutorial/lumache-furo.png)

It is now time to \[expand the narrative documentation and split it into several documents \</tutorial/narrative-documentation\>\](expand the narrative documentation and split it into several documents \</tutorial/narrative-documentation\>.md).

---

narrative-documentation.md

---

# Narrative documentation in Sphinx

## Structuring your documentation across multiple pages

The file `index.rst` created by `sphinx-quickstart` is the `root
document`, whose main function is to serve as a welcome page and to contain the root of the "table of contents tree" (or *toctree*). Sphinx allows you to assemble a project from different files, which is helpful when the project grows.

As an example, create a new file `docs/source/usage.rst` (next to `index.rst`) with these contents:

```` rst
Usage
=====

Installation
------------

To use Lumache, first install it using pip:

```console
   (.venv) $ pip install lumache
````

This new file contains two \[section \<rst-sections\>\](\#section-\<rst-sections\>) headers, normal `` ` paragraph text, and a :rst:dir:`code-block` directive that renders a block of content as source code, with appropriate syntax highlighting (in this case, generic ``console`text).  The structure of the document is determined by the succession of heading styles, which means that, by using`---`for the "Installation" section after`===`for the "Usage" section, you have declared "Installation" to be a *subsection* of "Usage".  To complete the process, add a`toctree`[directive <rst-directives>](#directive-<rst-directives>) at the end of`index.rst`including the document you just created, as follows:  .. code-block:: rst    :caption: docs/source/index.rst     Contents    --------     .. toctree::        usage  This step inserts that document in the root of the *toctree*, so now it belongs to the structure of your project, which so far looks like this:`\`text index └── usage

If you build the HTML documentation running `make html`, you will see `` ` that the ``toctree`gets rendered as a list of hyperlinks, and this allows you to navigate to the new page you just created.  Neat!  > **Warning** >     Documents outside a *toctree* will result in`WARNING: document isn't included in any toctree`messages during the build process, and will be    unreachable for users.  Adding cross-references -----------------------  One powerful feature of Sphinx is the ability to seamlessly add [cross-references <xref>](#cross-references-<xref>) to specific parts of the documentation: a document, a section, a figure, a code object, etc.  This tutorial is full of them!  To add a cross-reference, write this sentence right after the introduction paragraph in`index.rst``:  .. code-block:: rst    :caption: docs/source/index.rst     Check out the [usage](usage.md) section for further information.  The :rst:role:`doc` [role <rst-roles>](#role-<rst-roles>) you used automatically references a specific document in the project, in this case the``usage.rst``you created earlier.  Alternatively, you can also add a cross-reference to an arbitrary part of the project. For that, you need to use the :rst:role:`ref` role, and add an explicit *label* that acts as :duref:`a target <hyperlink-targets>`.  For example, to reference the "Installation" subsection, add a label right before the heading, as follows:  .. code-block:: rst    :caption: docs/source/usage.rst    :emphasize-lines: 4     Usage    =====     .. _installation:     Installation    ------------     ...  And make the sentence you added in``index.rst`look like this:  .. code-block:: rst    :caption: docs/source/index.rst     Check out the [usage](usage.md) section for further information, including how to    [install <installation>](#install-<installation>) the project.  Notice a trick here: the`install`part specifies how the link will look like (we want it to be a specific word, so the sentence makes sense), whereas the`\<installation\>`part refers to the actual label we want to add a cross-reference to. If you do not include an explicit title, hence using`\[installation\](\#installation)`, the section title will be used (in this case,`Installation`). Both the`:doc:`and the`:ref:\`\` roles will be rendered as hyperlinks in the HTML documentation.

What about \[documenting code objects in Sphinx \</tutorial/describing-code\>\](documenting code objects in Sphinx \</tutorial/describing-code\>.md)? Read on\!

---

intl.md

---

# Internationalization

<div class="versionadded">

1.1

</div>

Complementary to translations provided for Sphinx-generated messages such as navigation bars, Sphinx provides mechanisms facilitating the translation of *documents*. See the \[intl-options\](\#intl-options) for details on configuration.

![Workflow visualization of translations in Sphinx. (The figure is created by [plantuml](https://plantuml.com).)](/_static/translation.*)

<div class="contents" data-local="">

</div>

## Sphinx internationalization details

**gettext**\[1\] is an established standard for internationalization and localization. It naively maps messages in a program to a translated string. Sphinx uses these facilities to translate whole documents.

Initially project maintainers have to collect all translatable strings (also referred to as *messages*) to make them known to translators. Sphinx extracts these through invocation of `sphinx-build -M gettext`.

Every single element in the doctree will end up in a single message which results in lists being equally split into different chunks while large paragraphs will remain as coarsely-grained as they were in the original document. This grants seamless document updates while still providing a little bit of context for translators in free-text passages. It is the maintainer's task to split up paragraphs which are too large as there is no sane automated way to do that.

After Sphinx successfully ran the <span class="title-ref">\~sphinx.builders.gettext.MessageCatalogBuilder</span> you will find a collection of `.pot` files in your output directory. These are **catalog templates** and contain messages in your original language *only*.

They can be delivered to translators which will transform them to `.po` files --- so called **message catalogs** --- containing a mapping from the original messages to foreign-language strings.

*gettext* compiles them into a binary format known as **binary catalogs** through `msgfmt` for efficiency reasons. If you make these files discoverable with `locale_dirs` for your `language`, Sphinx will pick them up automatically.

An example: you have a document `usage.rst` in your Sphinx project. The *gettext* builder will put its messages into `usage.pot`. Imagine you have Spanish translations\[2\] stored in `usage.po` --- for your builds to be translated you need to follow these instructions:

  - Compile your message catalog to a locale directory, say `locale`, so it ends up in `./locale/es/LC_MESSAGES/usage.mo` in your source directory (where `es` is the language code for Spanish.) :
    
        msgfmt "usage.po" -o "locale/es/LC_MESSAGES/usage.mo"

  - Set `locale_dirs` to `["locale/"]`.

  - Set `language` to `es` (also possible via `-D <sphinx-build -D>`).

  - Run your desired build.

In order to protect against mistakes, a warning is emitted if cross-references in the translated paragraph do not match those from the original. This can be turned off globally using the `suppress_warnings` configuration variable. Alternatively, to turn it off for one message only, end the message with `#noqa` like this:

    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse
    risus tortor, luctus id ultrices at. #noqa

(Write `\#noqa` in case you want to have "\#noqa" literally in the text. This does not apply to code blocks, where `#noqa` is ignored because code blocks do not contain references anyway.)

<div class="versionadded">

4.5 The `#noqa` mechanism.

</div>

## Translating with sphinx-intl

### Quick guide

[sphinx-intl](https://pypi.org/project/sphinx-intl/) is a useful tool to work with Sphinx translation flow. This section describe an easy way to translate with *sphinx-intl*.

1.  Install [sphinx-intl](https://pypi.org/project/sphinx-intl/).
    
      - \`\`\`console  
        $ pip install sphinx-intl

2.  Add configurations to `conf.py`.
    
        locale_dirs = ['locale/']   # path is example but recommended.
        gettext_compact = False     # optional.
    
    This case-study assumes that BUILDDIR is set to `_build`, `locale_dirs` is set to `locale/` and `gettext_compact` is set to `False` (the Sphinx document is already configured as such).

3.  Extract translatable messages into pot files.
    
    ``` console
    $ make gettext
    ```
    
    The generated pot files will be placed in the `_build/gettext` directory. If you want to customize the output beyond what can be done via the \[intl-options\](\#intl-options), the `default pot file template <../../../sphinx/templates/gettext/message.pot.jinja>` can be replaced by a custom `message.pot.jinja` file placed in any directory listed in `templates_path`.

4.  Generate po files.
    
    We'll use the pot files generated in the above step.
    
    ``` console
    $ sphinx-intl update -p _build/gettext -l de -l ja
    ```
    
    Once completed, the generated po files will be placed in the below directories:
    
      - `./locale/de/LC_MESSAGES/`
      - `./locale/ja/LC_MESSAGES/`

5.  Translate po files.
    
    As noted above, these are located in the `./locale/<lang>/LC_MESSAGES` directory. An example of one such file, from Sphinx, `builders.po`, is given below.
    
    ``` po
    # a5600c3d2e3d48fc8c261ea0284db79b
    #: ../../builders.rst:4
    msgid "Available builders"
    msgstr "<FILL HERE BY TARGET LANGUAGE>"
    ```
    
    Another case, msgid is multi-line text and contains reStructuredText syntax:
    
    ``` po
    # 302558364e1d41c69b3277277e34b184
    #: ../../builders.rst:9
    msgid ""
    "These are the built-in Sphinx builders. More builders can be added by "
    "[extensions <extensions>](#extensions-<extensions>)."
    msgstr ""
    "FILL HERE BY TARGET LANGUAGE FILL HERE BY TARGET LANGUAGE FILL HERE "
    "BY TARGET LANGUAGE [EXTENSIONS <extensions>](#extensions-<extensions>) FILL HERE."
    ```
    
    Please be careful not to break reStructuredText notation. Most po-editors will help you with that.

6.  Build translated document.
    
    You need a `language` parameter in `conf.py` or you may also specify the parameter on the command line.
    
    For BSD/GNU make, run:
    
    ``` console
    $ make -e SPHINXOPTS="-D language='de'" html
    ```
    
    For Windows `cmd.exe`, run:
    
    ``` doscon
    > set SPHINXOPTS=-D language=de
    > .\make.bat html
    ```
    
    For PowerShell, run:
    
    ``` ps1con
    PS> Set-Item env:SPHINXOPTS "-D language=de"
    PS> .\make.bat html
    ```

Congratulations\! You got the translated documentation in the `_build/html` `` ` directory.  .. versionadded:: 1.3     :program:`sphinx-build` that is invoked by make command will build po files    into mo files.     If you are using 1.2.x or earlier, please invoke :command:`sphinx-intl build`    command before :command:`make` command.  Translating ~~~~~~~~~~~  Update your po files by new pot files ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  If a document is updated, it is necessary to generate updated pot files and to apply differences to translated po files.  In order to apply the updates from a pot file to the po file, use the :command:`sphinx-intl update` command. ``\`console $ sphinx-intl update -p \_build/gettext

Using Transifex service for team translation `` ` --------------------------------------------  Transifex_ is one of several services that allow collaborative translation via a web interface.  It has a nifty Go-based command line client that makes it easy to fetch and push translations.  .. TODO: why use transifex?   #. Install the `Transifex CLI tool`_.     You need the :command:`tx` command line tool for uploading resources (pot files).    The official installation process place the :file:`tx` binary file in    the current directory along with a README and a LICENSE file, and adds    the current directory to ``$PATH`.`\`console $ curl -o- <https://raw.githubusercontent.com/transifex/cli/master/install.sh> | bash

> 
> 
> <div class="seealso">
> 
> [Transifex Client documentation](https://developers.transifex.com/docs/using-the-client)
> 
> </div>

1.  Create your [Transifex](https://app.transifex.com/) account and create a new project and an organization for your document.
    
    Currently, Transifex does not allow for a translation project to have more than one version of the document, so you'd better include a version number in your project name.
    
    For example:
    
      - Organization ID  
        `sphinx-document`
    
      - Project ID  
        `sphinx-document-test_1_0`
    
      - Project URL  
        `https://www.transifex.com/projects/p/sphinx-document-test_1_0/`

2.  Create an API token to be used in the command-line.
    
    Go to your [Transifex API token](https://app.transifex.com/user/settings/api/) page and generate a token. Copy the generated token now, as you will not be able to see it again later.

3.  Set your Transifex API token in the user configuration file `$HOME/.transifexrc`.
    
    ``` ini
    [https://app.transifex.com]
    rest_hostname = https://rest.api.transifex.com
    token         = paste_your_api_token_here
    ```

4.  Alternatively, you can store your Transifex API token as the environment variable `TX_TOKEN`, which is recognized and used by `tx`.
    
    ``` console
    $ export TX_TOKEN=paste_your_api_token_here
    ```

5.  Create the project's config file for `tx` command.
    
    This process will create `.tx/config` in the current directory.
    
    ``` console
    $ cd /your/document/root
    $ tx init
    
    Successful creation of '.tx/config' file
    ```

6.  Upload pot files to Transifex service.
    
    Register pot files to `.tx/config` file using `sphinx-intl update-txconfig-resources`, adjusting `--pot-dir` value to your project's pot files' directory:
    
    ``` console
    $ cd /your/document/root
    $ sphinx-intl update-txconfig-resources --pot-dir _build/locale \
      --transifex-organization-name=sphinx-document \
      --transifex-project-name=sphinx-document-test_1_0
    ```
    
    You can use the `SPHINXINTL_TRANSIFEX_ORGANIZATION_NAME` and `SPHINXINTL_TRANSIFEX_PROJECT_NAME` environment variables instead of the respective command line arguments.
    
    <div class="seealso">
    
    [sphinx-intl update-txconfig-resources documentation](https://sphinx-intl.readthedocs.io/en/master/refs.html#sphinx-intl-update-txconfig-resources)
    
    </div>
    
    and upload pot files:
    
    ``` console
    $ tx push -s
    # Getting info about resources
    
    sphinx-document-test_1_0.builders - Getting info
    sphinx-document-test_1_0.builders - Done
    
    # Pushing source files
    
    sphinx-document-test_1_0.builders - Uploading file
    sphinx-document-test_1_0.builders - Done
    ```

7.  Forward the translation on Transifex.

8.  Pull translated po files and make translated HTML.
    
    Get translated catalogs and build mo files. For example, to build mo files for German (de):
    
    ``` console
    $ cd /your/document/root
    $ tx pull -l de
    # Getting info about resources
    
    sphinx-document-test_1_0.builders - Getting info
    sphinx-document-test_1_0.builders - Done
    
    # Pulling files
    
    sphinx-document-test_1_0.builders [de] - Pulling file
    sphinx-document-test_1_0.builders [de] - Creating download job
    sphinx-document-test_1_0.builders [de] - Done
    ```
    
    Invoke `make html` (for BSD/GNU make) passing the language code:
    
    ``` console
    $ make -e SPHINXOPTS="-D language='de'" html
    ```

That's all\!

<div class="tip">

<div class="title">

Tip

</div>

Translating locally and on Transifex

If you want to push all language's po files, you can be done by using `tx push -t` command. Watch out\! This operation overwrites translations in Transifex.

In other words, if you have updated each in the service and local po files, it would take much time and effort to integrate them.

</div>

Using Weblate service for team translation `` ` ------------------------------------------  Read more in `Weblate's documentation`_.   Contributing to Sphinx reference translation --------------------------------------------  The recommended way for new contributors to translate Sphinx reference is to join the translation team on Transifex.  There is a `sphinx translation page`_ for Sphinx (master) documentation.  1. Login to Transifex_ service. 2. Go to `sphinx translation page`_. 3. Click ``Request language`and fill form. 4. Wait acceptance by Transifex sphinx translation maintainers. 5. (After acceptance) Translate on Transifex.  Detail is here: https://help.transifex.com/en/articles/6248698-getting-started-as-a-translator   Translation progress and statistics -----------------------------------  .. versionadded:: 7.1.0  During the rendering process, Sphinx marks each translatable node with a`translated``attribute, indicating if a translation was found for the text in that node.  The :confval:`translation_progress_classes` configuration value can be used to add a class to each element, depending on the value of the``translated`attribute.  The`\`\` substitution can be used to display the percentage of nodes that have been translated on a per-document basis.

**Footnotes**

1.  See the [GNU gettext utilities](https://www.gnu.org/software/gettext/manual/gettext.html#Introduction) for details on that software suite.

2.  Because nobody expects the Spanish Inquisition\!

---

api.md

---

<div id="websupportapi">

<div class="currentmodule">

sphinxcontrib.websupport

</div>

</div>

# The WebSupport class

<div class="WebSupport">

The main API class for the web support package. All interactions with the web support package should occur through this class.

The class takes the following keyword arguments:

  - srcdir  
    The directory containing reStructuredText source files.

  - builddir  
    The directory that build data and static files should be placed in. This should be used when creating a <span class="title-ref">WebSupport</span> object that will be used to build data.

  - datadir  
    The directory that the web support data is in. This should be used when creating a <span class="title-ref">WebSupport</span> object that will be used to retrieve data.

  - search  
    This may contain either a string (e.g. 'xapian') referencing a built-in search adapter to use, or an instance of a subclass of <span class="title-ref">\~.search.BaseSearch</span>.

  - storage  
    This may contain either a string representing a database uri, or an instance of a subclass of <span class="title-ref">\~.storage.StorageBackend</span>. If this is not provided, a new sqlite database will be created.

  - moderation\_callback  
    A callable to be called when a new comment is added that is not displayed. It must accept one argument: a dictionary representing the comment that was added.

  - staticdir  
    If the static files should be created in a different location **and not in** `'/static'`, this should be a string with the name of that location (e.g. `builddir + '/static_files'`).
    
    <div class="note">
    
    <div class="title">
    
    Note
    
    </div>
    
    If you specify `staticdir`, you will typically want to adjust `staticroot` accordingly.
    
    </div>

  - staticroot  
    If the static files are not served from `'/static'`, this should be a string with the name of that location (e.g. `'/static_files'`).

  - docroot  
    If the documentation is not served from the base path of a URL, this should be a string specifying that path (e.g. `'docs'`).

</div>

<div class="versionchanged">

1.6

WebSupport class is moved to sphinxcontrib.websupport from sphinx.websupport. Please add `sphinxcontrib-websupport` package in your dependency and use moved class instead.

</div>

## Methods

<div class="automethod">

sphinxcontrib.websupport.WebSupport.build

</div>

<div class="automethod">

sphinxcontrib.websupport.WebSupport.get\_document

</div>

<div class="automethod">

sphinxcontrib.websupport.WebSupport.get\_data

</div>

<div class="automethod">

sphinxcontrib.websupport.WebSupport.add\_comment

</div>

<div class="automethod">

sphinxcontrib.websupport.WebSupport.process\_vote

</div>

<div class="automethod">

sphinxcontrib.websupport.WebSupport.get\_search\_results

</div>

---

index.md

---

# Sphinx Web Support

<div class="versionadded">

1.1

</div>

Sphinx provides a Python API to easily integrate Sphinx documentation into your web application. To learn more read the \[websupportquickstart\](\#websupportquickstart).

<div class="toctree">

quickstart api searchadapters storagebackends

</div>

---

quickstart.md

---

# Web Support Quick Start

## Building documentation data

To make use of the web support package in your application you'll need to build the data it uses. This data includes pickle files representing documents, search indices, and node data that is used to track where comments and other things are in a document. To do this you will need to create an instance of the <span class="title-ref">\~.WebSupport</span> class and call its <span class="title-ref">\~.WebSupport.build</span> method:

    from sphinxcontrib.websupport import WebSupport
    
    support = WebSupport(srcdir='/path/to/rst/sources/',
                         builddir='/path/to/build/outdir',
                         search='xapian')
    
    support.build()

This will read reStructuredText sources from `srcdir` and place the necessary data in `builddir`. The `builddir` will contain two subdirectories: one named "data" that contains all the data needed to display documents, search through documents, and add comments to documents. The other directory will be called "static" and contains static files that should be served from "/static".

\> **Note** \> If you wish to serve static files from a path other than "/static", you can do so by providing the *staticdir* keyword argument when creating the <span class="title-ref">\~.WebSupport</span> object.

## Integrating Sphinx documents into your web-app

Now that the data is built, it's time to do something useful with it. Start off by creating a <span class="title-ref">\~.WebSupport</span> object for your application:

    from sphinxcontrib.websupport import WebSupport
    
    support = WebSupport(datadir='/path/to/the/data',
                         search='xapian')

You'll only need one of these for each set of documentation you will be working with. You can then call its <span class="title-ref">\~.WebSupport.get\_document</span> method to access individual documents:

    contents = support.get_document('contents')

This will return a dictionary containing the following items:

  - **body**: The main body of the document as HTML
  - **sidebar**: The sidebar of the document as HTML
  - **relbar**: A div containing links to related documents
  - **title**: The title of the document
  - **css**: Links to CSS files used by Sphinx
  - **script**: JavaScript containing comment options

This dict can then be used as context for templates. The goal is to be easy to integrate with your existing templating system. An example using [Jinja2](https://jinja.palletsprojects.com/) is:

`` `html+jinja    {%- extends "layout.html" %}     {%- block title %}        {{ document.title }}    {%- endblock %}     {% block css %}        {{ super() }}        {{ document.css|safe }}        <link rel="stylesheet" href="/static/websupport-custom.css" type="text/css">    {% endblock %}     {%- block script %}        {{ super() }}        {{ document.script|safe }}    {%- endblock %}     {%- block relbar %}        {{ document.relbar|safe }}    {%- endblock %}     {%- block body %}        {{ document.body|safe }}    {%- endblock %}     {%- block sidebar %}        {{ document.sidebar|safe }}    {%- endblock %}   Authentication ``\` \~\~\~\~\~\~\~\~\~\~\~\~\~\~

To use certain features such as voting, it must be possible to authenticate users. The details of the authentication are left to your application. Once a user has been authenticated you can pass the user's details to certain <span class="title-ref">\~.WebSupport</span> methods using the *username* and *moderator* keyword arguments. The web support package will store the username with comments and votes. The only caveat is that if you allow users to change their username you must update the websupport package's data:

    support.update_username(old_username, new_username)

*username* should be a unique string which identifies a user, and *moderator* should be a boolean representing whether the user has moderation privileges. The default value for *moderator* is `False`.

An example [Flask](https://flask.palletsprojects.com/) function that checks whether a user is logged in and then retrieves a document is:

    from sphinxcontrib.websupport.errors import *
    
    @app.route('/<path:docname>')
    def doc(docname):
        username = g.user.name if g.user else ''
        moderator = g.user.moderator if g.user else False
        try:
            document = support.get_document(docname, username, moderator)
        except DocumentNotFoundError:
            abort(404)
        return render_template('doc.html', document=document)

The first thing to notice is that the *docname* is just the request path. This makes accessing the correct document easy from a single view. If the user is authenticated, then the username and moderation status are passed along with the docname to <span class="title-ref">\~.WebSupport.get\_document</span>. The web support package will then add this data to the `COMMENT_OPTIONS` that are used in the template.

\> **Note** \> This only works if your documentation is served from your document root. If it is served from another directory, you will need to prefix the url route with that directory, and give the *docroot* keyword argument when creating the web support object:

    support = WebSupport(..., docroot='docs')
    
    @app.route('/docs/<path:docname>')

## Performing searches

To use the search form built-in to the Sphinx sidebar, create a function to handle requests to the URL 'search' relative to the documentation root. The user's search query will be in the GET parameters, with the key `q`. Then use the <span class="title-ref">\~sphinxcontrib.websupport.WebSupport.get\_search\_results</span> method to retrieve search results. In [Flask](https://flask.palletsprojects.com/) that would be like this:

    @app.route('/search')
    def search():
        q = request.args.get('q')
        document = support.get_search_results(q)
        return render_template('doc.html', document=document)

Note that we used the same template to render our search results as we did to render our documents. That's because <span class="title-ref">\~.WebSupport.get\_search\_results</span> returns a context dict in the same format that <span class="title-ref">\~.WebSupport.get\_document</span> does.

## Comments & proposals

Now that this is done it's time to define the functions that handle the AJAX calls from the script. You will need three functions. The first function is used to add a new comment, and will call the web support method \`\~.WebSupport.add\_comment\`:

    @app.route('/docs/add_comment', methods=['POST'])
    def add_comment():
        parent_id = request.form.get('parent', '')
        node_id = request.form.get('node', '')
        text = request.form.get('text', '')
        proposal = request.form.get('proposal', '')
        username = g.user.name if g.user is not None else 'Anonymous'
        comment = support.add_comment(text, node_id='node_id',
                                      parent_id='parent_id',
                                      username=username, proposal=proposal)
        return jsonify(comment=comment)

You'll notice that both a `parent_id` and `node_id` are sent with the request. If the comment is being attached directly to a node, `parent_id` will be empty. If the comment is a child of another comment, then `node_id` will be empty. Then next function handles the retrieval of comments for a specific node, and is aptly named \`\~sphinxcontrib.websupport.WebSupport.get\_data\`:

    @app.route('/docs/get_comments')
    def get_comments():
        username = g.user.name if g.user else None
        moderator = g.user.moderator if g.user else False
        node_id = request.args.get('node', '')
        data = support.get_data(node_id, username, moderator)
        return jsonify(**data)

The final function that is needed will call <span class="title-ref">\~.WebSupport.process\_vote</span>, and will handle user votes on comments:

    @app.route('/docs/process_vote', methods=['POST'])
    def process_vote():
        if g.user is None:
            abort(401)
        comment_id = request.form.get('comment_id')
        value = request.form.get('value')
        if value is None or comment_id is None:
            abort(400)
        support.process_vote(comment_id, g.user.id, value)
        return "success"

## Comment moderation

By default, all comments added through <span class="title-ref">\~.WebSupport.add\_comment</span> are automatically displayed. If you wish to have some form of moderation, you can pass the `displayed` keyword argument:

    comment = support.add_comment(text, node_id='node_id',
                                  parent_id='parent_id',
                                  username=username, proposal=proposal,
                                  displayed=False)

You can then create a new view to handle the moderation of comments. It will be called when a moderator decides a comment should be accepted and displayed:

    @app.route('/docs/accept_comment', methods=['POST'])
    def accept_comment():
        moderator = g.user.moderator if g.user else False
        comment_id = request.form.get('id')
        support.accept_comment(comment_id, moderator=moderator)
        return 'OK'

Rejecting comments happens via comment deletion.

To perform a custom action (such as emailing a moderator) when a new comment is added but not displayed, you can pass callable to the <span class="title-ref">\~.WebSupport</span> class when instantiating your support object:

    def moderation_callback(comment):
        """Do something..."""
    
    support = WebSupport(..., moderation_callback=moderation_callback)

The moderation callback must take one argument, which will be the same comment dict that is returned by <span class="title-ref">.WebSupport.add\_comment</span>.

---

searchadapters.md

---

<div id="searchadapters">

<div class="currentmodule">

sphinxcontrib.websupport.search

</div>

</div>

# Search adapters

To create a custom search adapter you will need to subclass the <span class="title-ref">BaseSearch</span> class. Then create an instance of the new class and pass that as the *search* keyword argument when you create the <span class="title-ref">\~.WebSupport</span> object:

    support = WebSupport(srcdir=srcdir,
                         builddir=builddir,
                         search=MySearch())

For more information about creating a custom search adapter, please see the documentation of the <span class="title-ref">BaseSearch</span> class below.

<div class="BaseSearch">

Defines an interface for search adapters.

</div>

<div class="versionchanged">

1.6

BaseSearch class is moved to sphinxcontrib.websupport.search from sphinx.websupport.search.

</div>

## Methods

The following methods are defined in the BaseSearch class. Some methods do not need to be overridden, but some (<span class="title-ref">\~BaseSearch.add\_document</span> and <span class="title-ref">\~BaseSearch.handle\_query</span>) must be overridden in your subclass. For a working example, look at the built-in adapter for whoosh.

<div class="automethod">

BaseSearch.init\_indexing

</div>

<div class="automethod">

BaseSearch.finish\_indexing

</div>

<div class="automethod">

BaseSearch.feed

</div>

<div class="automethod">

BaseSearch.add\_document

</div>

<div class="automethod">

BaseSearch.query

</div>

<div class="automethod">

BaseSearch.handle\_query

</div>

<div class="automethod">

BaseSearch.extract\_context

</div>

---

storagebackends.md

---

<div id="storagebackends">

<div class="currentmodule">

sphinxcontrib.websupport.storage

</div>

</div>

# Storage backends

To create a custom storage backend you will need to subclass the <span class="title-ref">StorageBackend</span> class. Then create an instance of the new class and pass that as the *storage* keyword argument when you create the <span class="title-ref">\~.WebSupport</span> object:

    support = WebSupport(srcdir=srcdir,
                         builddir=builddir,
                         storage=MyStorage())

For more information about creating a custom storage backend, please see the documentation of the <span class="title-ref">StorageBackend</span> class below.

<div class="StorageBackend">

Defines an interface for storage backends.

</div>

<div class="versionchanged">

1.6

StorageBackend class is moved to sphinxcontrib.websupport.storage from sphinx.websupport.storage.

</div>

## Methods

<div class="automethod">

StorageBackend.pre\_build

</div>

<div class="automethod">

StorageBackend.add\_node

</div>

<div class="automethod">

StorageBackend.post\_build

</div>

<div class="automethod">

StorageBackend.add\_comment

</div>

<div class="automethod">

StorageBackend.delete\_comment

</div>

<div class="automethod">

StorageBackend.get\_data

</div>

<div class="automethod">

StorageBackend.process\_vote

</div>

<div class="automethod">

StorageBackend.update\_username

</div>

<div class="automethod">

StorageBackend.accept\_comment

</div>

---

index.md

---

# Builders

<div class="module" data-synopsis="Available built-in builder classes.">

sphinx.builders

</div>

These are the built-in Sphinx builders. More builders can be added by \[extensions \</usage/extensions/index\>\](extensions \</usage/extensions/index\>.md).

The builder's "name" must be given to the **-M** or **-b** command-line options of `sphinx-build` to select a builder.

The most common builders are:

  - **html**  
    Build HTML pages. This is the default builder.

  - **dirhtml**  
    Build HTML pages, but with a single directory per document. Makes for prettier URLs (no `.html`) if served from a webserver.

  - **singlehtml**  
    Build a single HTML with the whole content.

  - **htmlhelp**, **qthelp**, **devhelp**, **epub**  
    Build HTML files with additional information for building a documentation collection in one of these formats.

  - **applehelp**  
    Build an Apple Help Book. Requires `hiutil` and `codesign`, which are not Open Source and presently only available on Mac OS X 10.6 and higher.

  - **latex**  
    Build LaTeX sources that can be compiled to a PDF document using `pdflatex`.

  - **man**  
    Build manual pages in groff format for UNIX systems.

  - **texinfo**  
    Build Texinfo files that can be processed into Info files using `makeinfo`.

  - **text**  
    Build plain text files.

  - **gettext**  
    Build gettext-style message catalogs (`.pot` files).

  - **doctest**  
    Run all doctests in the documentation, if the `~sphinx.ext.doctest` extension is enabled.

  - **linkcheck**  
    Check the integrity of all external links.

  - **xml**  
    Build Docutils-native XML files.

  - **pseudoxml**  
    Build compact pretty-printed "pseudo-XML" files displaying the internal structure of the intermediate document trees.

-----

<div class="module">

sphinx.builders.html

</div>

<div class="StandaloneHTMLBuilder">

This is the standard HTML builder. Its output is a directory with HTML files, complete with style sheets and optionally the reStructuredText sources. There are quite a few configuration values that customize the output of this builder, see the chapter \[html-options\](\#html-options) for details.

<div class="autoattribute">

name

</div>

<div class="autoattribute">

format

</div>

<div class="autoattribute">

supported\_image\_types

</div>

</div>

<div class="module">

sphinx.builders.dirhtml

</div>

<div class="DirectoryHTMLBuilder">

This is a subclass of the standard HTML builder. Its output is a directory with HTML files, where each file is called `index.html` and placed in a subdirectory named like its page name. For example, the document `markup/rest.rst` will not result in an output file `markup/rest.html`, but `markup/rest/index.html`. When generating links between pages, the `index.html` is omitted, so that the URL would look like `markup/rest/`.

<div class="autoattribute">

name

</div>

<div class="autoattribute">

format

</div>

<div class="autoattribute">

supported\_image\_types

</div>

<div class="versionadded">

0.6

</div>

</div>

<div class="module">

sphinx.builders.singlehtml

</div>

<div class="SingleFileHTMLBuilder">

This is an HTML builder that combines the whole project in one output file. (Obviously this only works with smaller projects.) The file is named like the root document. No indices will be generated.

<div class="autoattribute">

name

</div>

<div class="autoattribute">

format

</div>

<div class="autoattribute">

supported\_image\_types

</div>

<div class="versionadded">

1.0

</div>

</div>

<div class="module">

sphinxcontrib.htmlhelp

</div>

<div class="HTMLHelpBuilder">

This builder produces the same output as the standalone HTML builder, but also generates HTML Help support files that allow the Microsoft HTML Help Workshop to compile them into a CHM file.

<div class="autoattribute">

name

</div>

<div class="autoattribute">

format

</div>

<div class="autoattribute">

supported\_image\_types

</div>

</div>

<div class="module">

sphinxcontrib.qthelp

</div>

<div class="QtHelpBuilder">

This builder produces the same output as the standalone HTML builder, but also generates [Qt help]() collection support files that allow the Qt collection generator to compile them.

<div class="versionchanged">

2.0

Moved to sphinxcontrib.qthelp from sphinx.builders package.

</div>

<div class="autoattribute">

name

</div>

<div class="autoattribute">

format

</div>

<div class="autoattribute">

supported\_image\_types

</div>

</div>

<div class="module">

sphinxcontrib.applehelp

</div>

<div class="AppleHelpBuilder">

This builder produces an Apple Help Book based on the same output as the standalone HTML builder.

If the source directory contains any `.lproj` folders, the one corresponding to the selected language will have its contents merged with the generated output. These folders will be ignored by all other documentation types.

In order to generate a valid help book, this builder requires the command line tool `hiutil`, which is only available on Mac OS X 10.6 and above. You can disable the indexing step by setting `applehelp_disable_external_tools` to `True`, in which case the output will not be valid until `hiutil` has been run on all of the `.lproj` folders within the bundle.

<div class="autoattribute">

name

</div>

<div class="autoattribute">

format

</div>

<div class="autoattribute">

supported\_image\_types

</div>

<div class="versionadded">

1.3

</div>

<div class="versionchanged">

2.0

Moved to sphinxcontrib.applehelp from sphinx.builders package.

</div>

</div>

<div class="module">

sphinxcontrib.devhelp

</div>

<div class="DevhelpBuilder">

This builder produces the same output as the standalone HTML builder, but also generates [GNOME Devhelp](https://wiki.gnome.org/Apps/Devhelp) support file that allows the GNOME Devhelp reader to view them.

<div class="autoattribute">

name

</div>

<div class="autoattribute">

format

</div>

<div class="autoattribute">

supported\_image\_types

</div>

<div class="versionchanged">

2.0

Moved to sphinxcontrib.devhelp from sphinx.builders package.

</div>

</div>

<div class="module">

sphinx.builders.epub3

</div>

<div class="Epub3Builder">

This builder produces the same output as the standalone HTML builder, but also generates an *epub* file for ebook readers. See \[epub-faq\](\#epub-faq) for details about it. For definition of the epub format, have a look at <https://idpf.org/epub> or <https://en.wikipedia.org/wiki/EPUB>. The builder creates *EPUB 3* files.

<div class="autoattribute">

name

</div>

<div class="autoattribute">

format

</div>

<div class="autoattribute">

supported\_image\_types

</div>

<div class="versionadded">

1.4

</div>

<div class="versionchanged">

1.5

Since Sphinx 1.5, the epub3 builder is used as the default epub builder.

</div>

</div>

<div class="module">

sphinx.builders.latex

</div>

<div class="LaTeXBuilder">

This builder produces LaTeX source files in the output directory. The actual PDF builds happen inside this output directory and need to be triggered in a second step. This can be done via `make all-pdf` there. To combine the two steps into only one, use `sphinx-build -M` (i.e. `-M latexpdf` not `-b latexpdf`) or `make latexpdf` at the project root.

See `latex_documents` and the chapter \[latex-options\](\#latex-options) for available options.

PDF builds need a sufficiently complete LaTeX installation. The testing is currently (since 5.3.0) done on Ubuntu 22.04LTS, whose LaTeX distribution matches upstream TeXLive 2021 as of 2022/02/04, but PDF builds can be successfully done on much older LaTeX installations.

At any rate, on Ubuntu for example, following packages must all be present:

  - `texlive-latex-recommended`
  - `texlive-fonts-recommended`
  - `texlive-fonts-extra` (needed for `fontawesome5`, see the 7.4.0 change notice below)
  - `tex-gyre` (if `latex_engine` left to default)
  - `texlive-latex-extra`
  - `latexmk`

<div class="versionchanged">

4.0.0 TeX Gyre fonts now required for `'pdflatex'` engine (default).

</div>

<div class="versionchanged">

7.4.0 LaTeX package `xcolor` is now required (it is part of Ubuntu `texlive-latex-recommended` anyhow). The LaTeX package `fontawesome5` is recommended. See the \['sphinxsetup' \<latexsphinxsetup\>\](\#'sphinxsetup'

</div>

</div>

\------\<latexsphinxsetup\>) `iconpackage` key for more.

> Additional packages are needed in some circumstances:
> 
>   - `texlive-lang-cyrillic` for Cyrillic (and also then `cm-super` if using the default fonts),
>   - `texlive-lang-greek` for Greek (and also then `cm-super` if using the default fonts),
>   - `texlive-xetex` if `latex_engine` is `'xelatex'`,
>   - `texlive-luatex` if `latex_engine` is `'lualatex'`,
>   - `fonts-freefont-otf` if `latex_engine` is either `'xelatex'` or `'lualatex'`.
> 
> \> **Note**

  - \>  
    Since 1.6, `make latexpdf` uses on GNU/Linux and macOS `latexmk`, as it makes sure the needed number of runs is automatically executed. On Windows the PDF builds execute a fix number of LaTeX runs (three, then `makeindex`, then two more).
    
    One can pass to `latexmk` options via the `LATEXMKOPTS` Makefile variable. For example:
    
    `` `console    make latexpdf LATEXMKOPTS="-silent"  reduces console output to a minimum.  Also, if ``latexmk`is at version 4.52b or higher (January 2017)`LATEXMKOPTS="-xelatex"`speeds up PDF builds via XeLateX in case of numerous graphics inclusions.  To pass options directly to the`(pdflua)latex`binary, use variable`LATEXOPTS\`\`, for example:
    
    ``` console
    make latexpdf LATEXOPTS="--halt-on-error"
    ```
    
    <div class="autoattribute">
    
    name
    
    </div>
    
    <div class="autoattribute">
    
    format
    
    </div>
    
    <div class="autoattribute">
    
    supported\_image\_types
    
    </div>

Note that a direct PDF builder is being provided by [rinohtype](https://github.com/brechtm/rinohtype). The builder's `` ` name is ``rinoh``. Refer to the `rinohtype manual`_ for details.     .. module:: sphinx.builders.text .. class:: TextBuilder     This builder produces a text file for each reStructuredText file.    This is almost the same as the reStructuredText source,    but with much of the markup stripped for better readability.     .. autoattribute:: name     .. autoattribute:: format     .. autoattribute:: supported_image_types     .. versionadded:: 0.4  .. module:: sphinx.builders.manpage .. class:: ManualPageBuilder     This builder produces manual pages in the groff format.  You have to specify    which documents are to be included in which manual pages via the    :confval:`man_pages` configuration value.     .. autoattribute:: name     .. autoattribute:: format     .. autoattribute:: supported_image_types     .. versionadded:: 1.0   .. module:: sphinx.builders.texinfo .. class:: TexinfoBuilder     This builder produces Texinfo files that can be processed into Info files by    the :program:`makeinfo` program.  You have to specify which documents are to    be included in which Texinfo files via the :confval:`texinfo_documents`    configuration value.     The Info format is the basis of the on-line help system used by GNU Emacs and    the terminal-based program :program:`info`.  See [texinfo-faq](#texinfo-faq) for more    details.  The Texinfo format is the official documentation system used by the    GNU project.  More information on Texinfo can be found at    `<https://www.gnu.org/software/texinfo/>`_.     .. autoattribute:: name     .. autoattribute:: format     .. autoattribute:: supported_image_types     .. versionadded:: 1.1   .. currentmodule:: sphinxcontrib.serializinghtml .. class:: SerializingHTMLBuilder     This builder uses a module that implements the Python serialization API    (``pickle`,`simplejson`,`phpserialize``, and others) to dump the    generated HTML documentation.  The pickle builder is a subclass of it.     A concrete subclass of this builder serializing to the `PHP serialization`_    format could look like this::          import phpserialize          class PHPSerializedBuilder(SerializingHTMLBuilder):             name = 'phpserialized'             implementation = phpserialize             out_suffix = '.file.phpdump'             globalcontext_filename = 'globalcontext.phpdump'             searchindex_filename = 'searchindex.phpdump'     .. _PHP serialization: https://pypi.org/project/phpserialize/     .. attribute:: implementation        A module that implements``dump()`,`load()`,`dumps()`and`loads()`functions that conform to the functions with the same names from the       pickle module.  Known modules implementing this interface are`simplejson`,`phpserialize`,`plistlib`, and others.     .. attribute:: out_suffix        The suffix for all regular files.     .. attribute:: globalcontext_filename        The filename for the file that contains the "global context".  This       is a dict with some general configuration values such as the name       of the project.     .. attribute:: searchindex_filename        The filename for the search index Sphinx generates.     See [serialization-details](#serialization-details) for details about the output format.     .. versionadded:: 0.5  .. class:: PickleHTMLBuilder     This builder produces a directory with pickle files containing mostly HTML    fragments and TOC information, for use of a web application (or custom    postprocessing tool) that doesn't use the standard HTML templates.     See [serialization-details](#serialization-details) for details about the output format.     .. autoattribute:: name        The old name`web`still works as well.     .. autoattribute:: format     .. autoattribute:: supported_image_types     The file suffix is`.fpickle`.  The global context is called`globalcontext.pickle`, the search index`searchindex.pickle`.  .. class:: JSONHTMLBuilder     This builder produces a directory with JSON files containing mostly HTML    fragments and TOC information, for use of a web application (or custom    postprocessing tool) that doesn't use the standard HTML templates.     See [serialization-details](#serialization-details) for details about the output format.     .. autoattribute:: name     .. autoattribute:: format     .. autoattribute:: supported_image_types     The file suffix is`.fjson`.  The global context is called`globalcontext.json`, the search index`searchindex.json`.     .. versionadded:: 0.5  .. module:: sphinx.builders.gettext .. class:: MessageCatalogBuilder     This builder produces gettext-style message catalogs.  Each top-level file or    subdirectory grows a single`.pot``catalog template.     See the documentation on [intl](#intl) for further reference.     .. autoattribute:: name     .. autoattribute:: format     .. autoattribute:: supported_image_types     .. versionadded:: 1.1  .. module:: sphinx.builders.changes .. class:: ChangesBuilder     This builder produces an HTML overview of all :rst:dir:`versionadded`,    :rst:dir:`versionchanged`, :rst:dir:`deprecated` and :rst:dir:`versionremoved`    directives for the current :confval:`version`.  This is useful to generate a    changelog file, for example.     .. autoattribute:: name     .. autoattribute:: format     .. autoattribute:: supported_image_types  .. module:: sphinx.builders.dummy .. class:: DummyBuilder     This builder produces no output.  The input is only parsed and checked for    consistency.  This is useful for linting purposes.     .. autoattribute:: name     .. autoattribute:: supported_image_types     .. versionadded:: 1.4  .. module:: sphinx.builders.linkcheck .. class:: CheckExternalLinksBuilder     This builder scans all documents for external links, tries to open them with``requests``, and writes an overview which ones are broken and redirected to    standard output and to :file:`output.txt` in the output directory.     .. autoattribute:: name     .. autoattribute:: format     .. autoattribute:: supported_image_types     .. versionchanged:: 1.5        Since Sphinx 1.5, the linkcheck builder uses the requests module.     .. versionchanged:: 3.4        The linkcheck builder retries links when servers apply rate limits.  .. module:: sphinx.builders.xml .. class:: XMLBuilder     This builder produces Docutils-native XML files.  The output can be    transformed with standard XML tools such as XSLT processors into arbitrary    final forms.     .. autoattribute:: name     .. autoattribute:: format     .. autoattribute:: supported_image_types     .. versionadded:: 1.2  .. class:: PseudoXMLBuilder     This builder is used for debugging the Sphinx/Docutils "Reader to Transform    to Writer" pipeline. It produces compact pretty-printed "pseudo-XML", files    where nesting is indicated by indentation (no end-tags). External    attributes for all elements are output, and internal attributes for any    leftover "pending" elements are also given.     .. autoattribute:: name     .. autoattribute:: format     .. autoattribute:: supported_image_types     .. versionadded:: 1.2   Built-in Sphinx extensions that offer more builders are:  * :mod:`~sphinx.ext.doctest` * :mod:`~sphinx.ext.coverage`   .. _serialization-details:  Serialization builder details -----------------------------  All serialization builders outputs one file per source file and a few special files.  They also copy the reStructuredText source files to the``\_sources``directory under the output directory.  The `.PickleHTMLBuilder` is a builtin subclass that implements the pickle serialization interface.  The files per source file have the extensions of `~.SerializingHTMLBuilder.out_suffix`, and are arranged in directories just as the source files are.  They unserialize to a dictionary (or dictionary like structure) with these keys:``body`The HTML "body" (that is, the HTML rendering of the source file), as rendered    by the HTML translator.`title`The title of the document, as HTML (may contain markup).`toc`The table of contents for the file, rendered as an HTML`\<ul\>`.`display\_toc`A boolean that is`True`if the`toc`contains more than one entry.`current\_page\_name`The document name of the current file.`parents`,`prev`and`next`Information about related chapters in the TOC tree.  Each relation is a    dictionary with the keys`link`(HREF for the relation) and`title`(title of the related document, as HTML).`parents`is a list of    relations, while`prev`and`next`are a single relation.`sourcename`The name of the source file under`\_sources``.  The special files are located in the root output directory.  They are:  `.SerializingHTMLBuilder.globalcontext_filename`    A pickled dict with these keys:``project`,`copyright`,`release`,`version`The same values as given in the configuration file.`style``:confval:`html_style`.``last\_updated`Date of last build.`builder`Name of the used builder, in the case of pickles this is always`'pickle'`.`titles``A dictionary of all documents' titles, as HTML strings.  `.SerializingHTMLBuilder.searchindex_filename`    An index that can be used for searching the documentation.  It is a pickled    list with these entries:     * A list of indexed docnames.    * A list of document titles, as HTML strings, in the same order as the first      list.    * A dict mapping word roots (processed by an English-language stemmer) to a      list of integers, which are indices into the first list.``environment.pickle`The build environment.  This is always a pickle file, independent of the    builder and a copy of the environment that was used when the builder was    started.     .. todo:: Document common members.     Unlike the other pickle files this pickle file requires that the`sphinx\`\` package is available on unpickling.

---

configuration.md

---

# Configuration

<div class="module" data-synopsis="Build configuration file.">

conf

</div>

The `configuration directory` must contain a file named `conf.py`. This file (containing Python code) is called the "build configuration file" and contains (almost) all configuration needed to customise Sphinx input and output behaviour.

An optional file [docutils.conf](https://docutils.sourceforge.io/docs/user/config.html) can be added to the configuration directory to adjust [Docutils](https://docutils.sourceforge.io/) configuration if not otherwise overridden or set by Sphinx.

Important points to note:

  - If not otherwise documented, values must be strings, and their default is the empty string.
  - The term "fully-qualified name" (FQN) refers to a string that names an importable Python object inside a module; for example, the fully-qualified name `"sphinx.builders.Builder"` means the `Builder` class in the `sphinx.builders` module.
  - Document names use `/` as the path separator and do not contain the file name extension.

<div id="glob-style patterns">

  - Where glob-style patterns are permitted, you can use the standard shell constructs (`*`, `?`, `[...]`, and `[!...]`) with the feature that none of these will match slashes (`/`). A double star `**` can be used to match any sequence of characters *including* slashes.

</div>

\> **Tip** \> The configuration file is executed as Python code at build time (using <span class="title-ref">importlib.import\_module</span>, with the current directory set to the `configuration directory`), and therefore can execute arbitrarily complex code.

> Sphinx then reads simple names from the file's namespace as its configuration. In general, configuration values should be simple strings, numbers, or lists or dictionaries of simple values.
> 
> The contents of the config namespace are pickled (so that Sphinx can find out when configuration changes), so it may not contain unpickleable values --delete them from the namespace with `del` if appropriate. Modules are removed automatically, so deleting imported modules is not needed.

## Project tags

There is a special object named `tags` available in the config file, which exposes the \[project tags \<tags\>\](\#project-tags-\<tags\>). Tags are defined either via the `--tag <sphinx-build --tag>` command-line option or `tags.add('tag')`. Note that the builder's name and format tags are not available in `conf.py`.

It can be used to query and change the defined tags as follows:

  - To query whether a tag is set, use `'tag' in tags`.
  - To add a tag, use `tags.add('tag')`.
  - To remove a tag, use `tags.remove('tag')`.

## Project information

<div class="confval" type=":code-py:`str`" default=":code-py:`&#39;Project name not set&#39;`">

project

The documented project's name. Example:

  - \`\`\`python  
    project = 'Thermidor'

</div>

<div class="confval" type=":code-py:`str`" default=":code-py:`&#39;Author name not set&#39;`">

author

The project's author(s). Example:

``` python
author = 'Joe Bloggs'
```

</div>

<div id="config-copyright">

<div class="confval" type=":code-py:`str | Sequence[str]`" default=":code-py:`&#39;&#39;`">

copyright project\_copyright

A copyright statement. Permitted styles are as follows, where 'YYYY' represents a four-digit year.

  - `copyright = 'YYYY'`
  - `copyright = 'YYYY, Author Name'`
  - `copyright = 'YYYY Author Name'`
  - `copyright = 'YYYY-YYYY, Author Name'`
  - `copyright = 'YYYY-YYYY Author Name'`

If the string `'%Y'` appears in a copyright line, it will be replaced with the current four-digit year. For example:

  - `copyright = '%Y'`
  - `copyright = '%Y, Author Name'`
  - `copyright = 'YYYY-%Y, Author Name'`

<div class="versionadded">

3.5 The `project_copyright` alias.

</div>

<div class="versionchanged">

7.1 The value may now be a sequence of copyright statements in the above form, which will be displayed each to their own line.

</div>

<div class="versionchanged">

8.1 Copyright statements support the `'%Y'` placeholder.

</div>

</div>

</div>

<div class="confval" type=":code-py:`str`" default=":code-py:`&#39;&#39;`">

version

The major project version, used as the replacement for the `|version|` \[default substitution \<default-substitutions\>\](\#default-substitution-\<default-substitutions\>).

This may be something like `version = '4.2'`. The full project version is defined in `release`.

If your project does not draw a meaningful distinction between between a 'full' and 'major' version, set both `version` and `release` to the same value.

</div>

<div class="confval" type=":code-py:`str`" default=":code-py:`&#39;&#39;`">

release

The full project version, used as the replacement for the `|release|` \[default substitution \<default-substitutions\>\](\#default-substitution-\<default-substitutions\>), and e.g. in the HTML templates.

This may be something like `release = '4.2.1b0'`. The major (short) project version is defined in `version`.

If your project does not draw a meaningful distinction between between a 'full' and 'major' version, set both `version` and `release` to the same value.

</div>

General configuration `` ` =====================  .. confval:: needs_sphinx    :type: :code-py:`str`    :default: :code-py:`''`     Set a minimum supported version of Sphinx required to build the project.    The format should be a ``'major.minor'`version string like`'1.1'`Sphinx will compare it with its version and refuse to build the project    if the running version of Sphinx is too old.    By default, there is no minimum version.     .. versionadded:: 1.0     .. versionchanged:: 1.4       Allow a`'major.minor.micro'``version string.  .. confval:: extensions    :type: :code-py:`list[str]`    :default: :code-py:`[]`     A list of strings that are module names of    [Sphinx extensions <extensions/index>](Sphinx extensions <extensions/index>.md).    These can be extensions bundled with Sphinx (named``sphinx.ext.\*``)    or custom first-party or third-party extensions.     To use a third-party extension, you must ensure that it is installed    and include it in the :code-py:`extensions` list, like so:``\`python extensions = \[ ... 'numpydoc', \]

> There are two options for first-party extensions. The configuration file itself can be an extension; for that, you only need to provide a <span class="title-ref">setup</span> function in it. Otherwise, you must ensure that your custom extension is importable, and located in a directory that is in the Python path.
> 
> Ensure that absolute paths are used when modifying <span class="title-ref">sys.path</span>. If your custom extensions live in a directory that is relative to the `configuration directory`, use <span class="title-ref">pathlib.Path.resolve</span> like so:
> 
> ``` python
> import sys
> from pathlib import Path
> 
> sys.path.append(str(Path('sphinxext').resolve()))
> 
> extensions = [
>    ...
>    'extname',
> ]
> ```
> 
> The directory structure illustrated above would look like this:
> 
> ``` none
> <project directory>/
> ├── conf.py
> └── sphinxext/
>     └── extname.py
> ```

<div class="confval" type=":code-py:`dict[str, str]`" default=":code-py:`{}`">

needs\_extensions

If set, this value must be a dictionary specifying version requirements for extensions in `extensions`. The version strings should be in the `'major.minor'` form. Requirements do not have to be specified for all extensions, only for those you want to check. Example:

``` python
needs_extensions = {
    'sphinxcontrib.something': '1.5',
}
```

This requires that the extension declares its version in the `setup()` function. See \[dev-extensions\](\#dev-extensions) for further details.

<div class="versionadded">

1.3

</div>

</div>

<div class="confval" type=":code-py:`str`" default=":code-py:`&#39;&#39;`">

manpages\_url

A URL to cross-reference :rst`manpage` roles. If this is defined to `https://manpages.debian.org/{path}`, the ``:manpage:`man(1)``\` role will link to \<<https://manpages.debian.org/man(1)>\>. The patterns available are:

  - `page`  
    The manual page (`man`)

  - `section`  
    The manual section (`1`)

  - `path`  
    The original manual page and section specified (`man(1)`)

This also supports manpages specified as `man.1`.

``` python
# To use manpages.debian.org:
manpages_url = 'https://manpages.debian.org/{path}'
# To use man7.org:
manpages_url = 'https://man7.org/linux/man-pages/man{section}/{page}.{section}.html'
# To use linux.die.net:
manpages_url = 'https://linux.die.net/man/{section}/{page}'
# To use helpmanual.io:
manpages_url = 'https://helpmanual.io/man{section}/{page}'
```

<div class="versionadded">

1.7

</div>

</div>

<div class="confval">

today today\_fmt

These values determine how to format the current date, used as the replacement for the `|today|` \[default substitution \<default-substitutions\>\](\#default-substitution-\<default-substitutions\>).

  - If you set `today` to a non-empty value, it is used.
  - Otherwise, the current time is formatted using <span class="title-ref">time.strftime</span> and the format given in `today_fmt`.

The default for `today` is `''`, and the default for `today_fmt` is `'%b %d, %Y'` (or, if translation is enabled with `language`, an equivalent format for the selected locale).

</div>

Options for figure numbering `` ` ----------------------------  .. confval:: numfig    :type: :code-py:`bool`    :default: :code-py:`False`     If :code-py:`True`, figures, tables and code-blocks are automatically numbered    if they have a caption.    The :rst:role:`numref` role is enabled.    Obeyed so far only by HTML and LaTeX builders.     > **Note** >        The LaTeX builder always assigns numbers whether this option is enabled       or not.     .. versionadded:: 1.3  .. confval:: numfig_format    :type: :code-py:`dict[str, str]`    :default: :code-py:`{}`     A dictionary mapping :code-py:`'figure'`, :code-py:`'table'`,    :code-py:`'code-block'` and :code-py:`'section'` to strings    that are used for format of figure numbers.    The marker ``%s`will be replaced with the figure number.     The defaults are:`\`python numfig\_format = { 'code-block': 'Listing %s', 'figure': 'Fig. %s', 'section': 'Section', 'table': 'Table %s', }

> 
> 
> <div class="versionadded">
> 
> 1.3
> 
> </div>

<div class="confval" type=":code-py:`int`" default=":code-py:`1`">

numfig\_secnum\_depth

  - If set to `0`, figures, tables, and code-blocks are continuously numbered starting at `1`.
  - If `1`, the numbering will be `x.1`, `x.2`, ... with `x` representing the section number. (If there is no top-level section, the prefix will not be added ). This naturally applies only if section numbering has been activated via the `:numbered:` option of the :rst`toctree` directive.
  - If `2`, the numbering will be `x.y.1`, `x.y.2`, ... with `x` representing the section number and `y` the sub-section number. If located directly under a section, there will be no `y.` prefix, and if there is no top-level section, the prefix will not be added.
  - Any other positive integer can be used, following the rules above.

<div class="versionadded">

1.3

</div>

<div class="versionchanged">

1.7 The LaTeX builder obeys this setting if `numfig` is set to `True`.

</div>

</div>

Options for highlighting `` ` ------------------------  .. confval:: highlight_language    :type: :code-py:`str`    :default: :code-py:`'default'`     The default language to highlight source code in.    The default is :code-py:`'default'`,    which suppresses warnings if highlighting as Python code fails.     The value should be a valid Pygments lexer name, see    [code-examples](#code-examples) for more details.     .. versionadded:: 0.5     .. versionchanged:: 1.4       The default is now :code-py:`'default'`.  .. confval:: highlight_options    :type: :code-py:`dict[str, dict[str, Any]]`    :default: :code-py:`{}`     A dictionary that maps Pygments lexer names to their options.    These are lexer-specific; for the options understood by each,    see the `Pygments documentation <https://pygments.org/docs/lexers>`_.     Example: ``\`python highlight\_options = { 'default': {'stripall': True}, 'php': {'startinline': True}, }

> 
> 
> <div class="versionadded">
> 
> 1.3
> 
> </div>
> 
> <div class="versionchanged">
> 
> 3.5
> 
> Allow configuring highlight options for multiple lexers.
> 
> </div>

<div class="confval" type=":code-py:`str`" default=":code-py:`&#39;sphinx&#39;`">

pygments\_style

The style name to use for Pygments highlighting of source code. If not set, either the theme's default style or `'sphinx'` is selected for HTML output.

<div class="versionchanged">

0.3 If the value is a fully-qualified name of a custom Pygments style class, this is then used as custom style.

</div>

</div>

Options for HTTP requests `` ` -------------------------  .. confval:: tls_verify    :type: :code-py:`bool`    :default: :code-py:`True`     If True, Sphinx verifies server certificates.     .. versionadded:: 1.5  .. confval:: tls_cacerts    :type: :code-py:`str | dict[str, str]`    :default: :code-py:`''`     A path to a certification file of CA or    a path to directory which contains the certificates.    This also allows a dictionary mapping    hostnames to the certificate file path.    The certificates are used to verify server certifications.     .. versionadded:: 1.5     > **Tip** >        Sphinx uses requests_ as a HTTP library internally.       If :confval:`!tls_cacerts` is not set,       Sphinx falls back to requests' default behaviour.       See [requests:verification](#requests:verification) for further details.        .. _requests: https://requests.readthedocs.io/  .. confval:: user_agent    :type: :code-py:`str`    :default: :code-py:`'Mozilla/5.0 (X11; Linux x86_64; rv:100.0) Gecko/20100101 \                         Firefox/100.0 Sphinx/X.Y.Z'`     Set the User-Agent used by Sphinx for HTTP requests.     .. versionadded:: 2.3   .. _intl-options:  Options for internationalisation --------------------------------  These options influence Sphinx's *Native Language Support*. See the documentation on [intl](#intl) for details.  .. confval:: language    :type: :code-py:`str`    :default: :code-py:`'en'`     The code for the language the documents are written in.    Any text automatically generated by Sphinx will be in that language.    Also, Sphinx will try to substitute individual paragraphs    from your documents with the translation sets obtained    from :confval:`locale_dirs`.    Sphinx will search language-specific figures named by    :confval:`figure_language_filename`    (e.g. the German version of ``myfigure.png`will be`myfigure.de.png``by default setting)    and substitute them for original figures.    In the LaTeX builder, a suitable language will be selected    as an option for the *Babel* package.     .. versionadded:: 0.5     .. versionchanged:: 1.4       Support figure substitution     .. versionchanged:: 5.0       The default is now :code-py:`'en'` (previously :code-py:`None`).     Currently supported languages by Sphinx are:     *``ar`-- Arabic    *`bg`-- Bulgarian    *`bn`-- Bengali    *`ca`-- Catalan    *`cak`-- Kaqchikel    *`cs`-- Czech    *`cy`-- Welsh    *`da`-- Danish    *`de`-- German    *`el`-- Greek    *`en`-- English (default)    *`eo`-- Esperanto    *`es`-- Spanish    *`et`-- Estonian    *`eu`-- Basque    *`fa`-- Iranian    *`fi`-- Finnish    *`fr`-- French    *`he`-- Hebrew    *`hi`-- Hindi    *`hi\_IN`-- Hindi (India)    *`hr`-- Croatian    *`hu`-- Hungarian    *`id`-- Indonesian    *`it`-- Italian    *`ja`-- Japanese    *`ko`-- Korean    *`lt`-- Lithuanian    *`lv`-- Latvian    *`mk`-- Macedonian    *`nb\_NO`-- Norwegian Bokmal    *`ne`-- Nepali    *`nl`-- Dutch    *`pl`-- Polish    *`pt`-- Portuguese    *`pt\_BR`-- Brazilian Portuguese    *`pt\_PT`-- European Portuguese    *`ro`-- Romanian    *`ru`-- Russian    *`si`-- Sinhala    *`sk`-- Slovak    *`sl`-- Slovenian    *`sq`-- Albanian    *`sr`-- Serbian    *`<sr@latin>`-- Serbian (Latin)    *`sr\_RS`-- Serbian (Cyrillic)    *`sv`-- Swedish    *`ta`-- Tamil    *`te`-- Telugu    *`tr`-- Turkish    *`uk\_UA`-- Ukrainian    *`ur`-- Urdu    *`vi`-- Vietnamese    *`zh\_CN`-- Simplified Chinese    *`zh\_TW``-- Traditional Chinese  .. confval:: locale_dirs    :type: :code-py:`list[str]`    :default: :code-py:`['locales']`     Directories in which to search for additional message catalogs    (see :confval:`language`), relative to the source directory.    The directories on this path are searched by the :mod:`gettext` module.     Internal messages are fetched from a text domain of``sphinx``;    so if you add the directory :file:`./locales` to this setting,    the message catalogs    (compiled from``.po``format using :program:`msgfmt`)    must be in :file:`./locales/{language}/LC_MESSAGES/sphinx.mo`.    The text domain of individual documents    depends on :confval:`gettext_compact`.     .. note::       The :option:`-v option to sphinx-build <sphinx-build -v>`       is useful to check the :confval:`!locale_dirs` setting is working as expected.       If the message catalog directory not found, debug messages are emitted.     .. versionadded:: 0.5     .. versionchanged:: 1.5       Use``locales``directory as a default value  .. confval:: gettext_allow_fuzzy_translations    :type: :code-py:`bool`    :default: :code-py:`False`     If True, "fuzzy" messages in the message catalogs are used for translation.     .. versionadded:: 4.3  .. confval:: gettext_compact    :type: :code-py:`bool | str`    :default: :code-py:`True`     * If :code-py:`True`, a document's text domain is      its docname if it is a top-level project file      and its very base directory otherwise.    * If :code-py:`False`, a document's text domain is      the docname, in full.    * If set to a string, every document's text domain is      set to this string, making all documents use single text domain.     With :code-py:`gettext_compact = True`, the document    :file:`markup/code.rst` ends up in the``markup``text domain.    With this option set to :code-py:`False`, it is``markup/code``.    With this option set to :code-py:`'sample'`, it is``sample``.     .. versionadded:: 1.1     .. versionchanged:: 3.3       Allow string values.  .. confval:: gettext_uuid    :type: :code-py:`bool`    :default: :code-py:`False`     If :code-py:`True`, Sphinx generates UUID information    for version tracking in message catalogs.    It is used to:     * Add a UUID line for each *msgid* in``.pot``files.    * Calculate similarity between new msgids and previously saved old msgids.      (This calculation can take a long time.)     .. tip::       If you want to accelerate the calculation,       you can use a third-party package (Levenshtein_) by running       :command:`pip install levenshtein`.        .. _Levenshtein: https://pypi.org/project/Levenshtein/     .. versionadded:: 1.3  .. confval:: gettext_location    :type: :code-py:`bool`    :default: :code-py:`True`     If :code-py:`True`, Sphinx generates location information    for messages in message catalogs.     .. versionadded:: 1.3  .. confval:: gettext_auto_build    :type: :code-py:`bool`    :default: :code-py:`True`     If :code-py:`True`, Sphinx builds a``.mo``file    for each translation catalog file.     .. versionadded:: 1.3  .. confval:: gettext_additional_targets    :type: :code-py:`set[str] | Sequence[str]`    :default: :code-py:`[]`     Enable``gettext`translation for certain element types.    Example:`\`python gettext\_additional\_targets = {'literal-block', 'image'}

> The following element types are supported:
> 
>   - `'index'` -- index terms
>   - `'literal-block'` -- literal blocks (`::` annotation and `code-block` directive)
>   - `'doctest-block'` -- doctest block
>   - `'raw'` -- raw content
>   - `'image'` -- image/figure uri
> 
> <div class="versionadded">
> 
> 1.3
> 
> </div>
> 
> <div class="versionchanged">
> 
> 4.0 The alt text for images is translated by default.
> 
> </div>
> 
> <div class="versionchanged">
> 
> 7.4 Permit and prefer a set type.
> 
> </div>

<div class="confval" type=":code-py:`str`" default=":code-py:`&#39;{root}.{language}{ext}&#39;`">

figure\_language\_filename

The filename format for language-specific figures. The available format tokens are:

  - `{root}`: the filename, including any path component, without the file extension. For example: `images/filename`.
  - `{path}`: the directory path component of the filename, with a trailing slash if non-empty. For example: `images/`.
  - `{basename}`: the filename without the directory path or file extension components. For example: `filename`.
  - `{ext}`: the file extension. For example: `.png`.
  - `{language}`: the translation language. For example: `en`.
  - `{docpath}`: the directory path component for the current document, with a trailing slash if non-empty. For example: `dirname/`.

By default, an image directive `.. image:: images/filename.png`, using an image at `images/filename.png`, will use the language-specific figure filename `images/filename.en.png`.

If `!figure_language_filename` is set as below, the language-specific figure filename will be `images/en/filename.png` instead.

``` python
figure_language_filename = '{path}{language}/{basename}{ext}'
```

<div class="versionadded">

1.4

</div>

<div class="versionchanged">

1.5 Added `{path}` and `{basename}` tokens.

</div>

<div class="versionchanged">

3.2 Added `{docpath}` token.

</div>

</div>

<div class="confval" type=":code-py:`bool | &#39;translated&#39; | &#39;untranslated&#39;`" default=":code-py:`False`">

translation\_progress\_classes

Control which, if any, classes are added to indicate translation progress. This setting would likely only be used by translators of documentation, in order to quickly indicate translated and untranslated content.

  - `True`  
    Add `translated` and `untranslated` classes to all nodes with translatable content.

  - `'translated'`  
    Only add the `translated` class.

  - `'untranslated'`  
    Only add the `untranslated` class.

  - `False`  
    Do not add any classes to indicate translation progress.

<div class="versionadded">

7.1

</div>

</div>

Options for markup `` ` ------------------  .. confval:: default_role    :type: :code-py:`str`    :default: :code-py:`None`     .. index:: default; role     The name of a reStructuredText role (builtin or Sphinx extension)    to use as the default role, that is, for text marked up ``<span class="title-ref">like this</span>``.    This can be set to :code-py:`'py:obj'` to make``<span class="title-ref">filter</span>``a cross-reference to the Python function "filter".     The default role can always be set within individual documents using    the standard reStructuredText :dudir:`default-role` directive.     .. versionadded:: 0.4  .. confval:: keep_warnings    :type: :code-py:`bool`    :default: :code-py:`False`     Keep warnings as "system message" paragraphs in the rendered documents.    Warnings are always written to the standard error stream    when :program:`sphinx-build` is run, regardless of this setting.     .. versionadded:: 0.5  .. confval:: option_emphasise_placeholders    :type: :code-py:`bool`    :default: :code-py:`False`     When enabled, emphasise placeholders in :rst:dir:`option` directives.    To display literal braces, escape with a backslash (``{`).    For example,`option\_emphasise\_placeholders=True`and`.. option:: -foption={TYPE}`would render with`TYPE``emphasised.     .. versionadded:: 5.1  .. confval:: primary_domain    :type: :code-py:`str`    :default: :code-py:`'py'`     .. index:: pair: default; domain     The name of the default [domain </usage/domains/index>](domain </usage/domains/index>.md).    Can also be :code-py:`None` to disable a default domain.    The default is :code-py:`'py'`, for the Python domain.     Those objects in other domain    (whether the domain name is given explicitly,    or selected by a :rst:dir:`default-domain` directive)    will have the domain name explicitly prepended when named    (e.g., when the default domain is C,    Python functions will be named "Python function", not just "function").    Example:``\`python primary\_domain = 'cpp'

> 
> 
> <div class="versionadded">
> 
> 1.0
> 
> </div>

<div class="confval" type=":code-py:`str`" default=":code-py:`&#39;&#39;`">

rst\_epilog

<div class="index">

pair: global; substitutions

</div>

A string of reStructuredText that will be included at the end of every source file that is read. This is a possible place to add substitutions that should be available in every file (another being `rst_prolog`). Example:

``` python
rst_epilog = """
.. |psf| replace:: Python Software Foundation
"""
```

<div class="versionadded">

0.6

</div>

</div>

<div class="confval" type=":code-py:`str`" default=":code-py:`&#39;&#39;`">

rst\_prolog

<div class="index">

pair: global; substitutions

</div>

A string of reStructuredText that will be included at the beginning of every source file that is read. This is a possible place to add substitutions that should be available in every file (another being `rst_epilog`). Example:

``` python
rst_prolog = """
.. |psf| replace:: Python Software Foundation
"""
```

<div class="versionadded">

1.0

</div>

</div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`False`">

show\_authors

A boolean that decides whether :rst`codeauthor` and :rst`sectionauthor` directives produce any output in the built files.

</div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`False`">

trim\_footnote\_reference\_space

Trim spaces before footnote references that are necessary for the reStructuredText parser to recognise the footnote, but do not look too nice in the output.

<div class="versionadded">

0.6

</div>

</div>

<div id="math-options">

Options for Maths `` ` -----------------  These options control maths markup and notation.  .. confval:: math_eqref_format    :type: :code-py:`str`    :default: :code-py:`'({number})'`     A string used for formatting the labels of references to equations.    The ``{number}`place-holder stands for the equation number.     Example:`'Eq.{number}'`gets rendered as, for example,`Eq.10``.     .. versionadded:: 1.7  .. confval:: math_number_all    :type: :code-py:`bool`    :default: :code-py:`False`     Force all displayed equations to be numbered.    Example:``\`python math\_number\_all = True

</div>

> 
> 
> <div class="versionadded">
> 
> 1.4
> 
> </div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`True`">

math\_numfig

If `True`, displayed math equations are numbered across pages when `numfig` is enabled. The `numfig_secnum_depth` setting is respected. The :rst`eq`, not :rst`numref`, role must be used to reference equation numbers.

<div class="versionadded">

1.7

</div>

</div>

<div class="confval" type=":code-py:`str`" default=":code-py:`&#39;.&#39;`">

math\_numsep

A string that defines the separator between section numbers and the equation number when `numfig` is enabled and `numfig_secnum_depth` is positive.

Example: `'-'` gets rendered as `1.2-3`.

<div class="versionadded">

7.4

</div>

</div>

Options for the nitpicky mode `` ` -----------------------------  .. confval:: nitpicky    :type: :code-py:`bool`    :default: :code-py:`False`     Enables nitpicky mode if :code-py:`True`.    In nitpicky mode, Sphinx will warn about *all* references    where the target cannot be found.    This is recommended for new projects as it ensures that all references    are to valid targets.     You can activate this mode temporarily using    the :option:`--nitpicky <sphinx-build --nitpicky>` command-line option.    See :confval:`nitpick_ignore` for a way to mark missing references    as "known missing". ``\`python nitpicky = True

> 
> 
> <div class="versionadded">
> 
> 1.0
> 
> </div>

<div class="confval" type=":code-py:`set[tuple[str, str]] | Sequence[tuple[str, str]]`" default=":code-py:`()`">

nitpick\_ignore

A set or list of `(warning_type, target)` tuples that should be ignored when generating warnings in `"nitpicky mode" <nitpicky>`. Note that `warning_type` should include the domain name if present. Example:

``` python
nitpick_ignore = {
    ('py:func', 'int'),
    ('envvar', 'LD_LIBRARY_PATH'),
}
```

<div class="versionadded">

1.1

</div>

<div class="versionchanged">

6.2 Changed allowable container types to a set, list, or tuple

</div>

</div>

<div class="confval" type=":code-py:`set[tuple[str, str]] | Sequence[tuple[str, str]]`" default=":code-py:`()`">

nitpick\_ignore\_regex

An extended version of `nitpick_ignore`, which instead interprets the `warning_type` and `target` strings as regular expressions. Note that the regular expression must match the whole string (as if the `^` and `$` markers were inserted).

For example, `(r'py:.*', r'foo.*bar\.B.*')` will ignore nitpicky warnings for all python entities that start with `'foo'` and have `'bar.B'` in them, such as `('py:const', 'foo_package.bar.BAZ_VALUE')` or `('py:class', 'food.bar.Barman')`.

<div class="versionadded">

4.1

</div>

<div class="versionchanged">

6.2 Changed allowable container types to a set, list, or tuple

</div>

</div>

Options for object signatures `` ` -----------------------------  .. confval:: add_function_parentheses    :type: :code-py:`bool`    :default: :code-py:`True`     A boolean that decides whether parentheses are appended to function and    method role text (e.g. the content of ``<span class="title-ref">input</span>``) to signify that the    name is callable.  .. confval:: maximum_signature_line_length    :type: :code-py:`int | None`    :default: :code-py:`None`     If a signature's length in characters exceeds the number set,    each parameter within the signature will be displayed on    an individual logical line.     When :code-py:`None`, there is no maximum length and the entire    signature will be displayed on a single logical line.     A 'logical line' is similar to a hard line break---builders or themes    may choose to 'soft wrap' a single logical line,    and this setting does not affect that behaviour.     Domains may provide options to suppress any hard wrapping    on an individual object directive,    such as seen in the C, C++, and Python domains    (e.g. :rst:dir:`py:function:single-line-parameter-list`).     .. versionadded:: 7.1  .. confval:: strip_signature_backslash    :type: :code-py:`bool`    :default: :code-py:`False`     When backslash stripping is enabled then every occurrence of``\\`in a    domain directive will be changed to`\`<span class="title-ref">, even within string literals. This was the behaviour before version 3.0, and setting this variable to :code-py:\`True</span> will reinstate that behaviour.

> 
> 
> <div class="versionadded">
> 
> 3.0
> 
> </div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`True`">

toc\_object\_entries

Create table of contents entries for domain objects (e.g. functions, classes, attributes, etc.).

<div class="versionadded">

5.2

</div>

</div>

<div class="confval" type=":code-py:`&#39;domain&#39; | &#39;hide&#39; | &#39;all&#39;`" default=":code-py:`&#39;domain&#39;`">

toc\_object\_entries\_show\_parents

A string that determines how domain objects (functions, classes, attributes, etc.) are displayed in their table of contents entry.

Use `'domain'` to allow the domain to determine the appropriate number of parents to show. For example, the Python domain would show `Class.method()` and `function()`, leaving out the `module.` level of parents.

Use `'hide'` to only show the name of the element without any parents (i.e. `method()`).

Use `'all'` to show the fully-qualified name for the object (i.e. `module.Class.method()`), displaying all parents.

<div class="versionadded">

5.2

</div>

</div>

### Options for source files

<div class="confval" type=":code-py:`Sequence[str]`" default=":code-py:`()`">

exclude\_patterns

A list of [glob-style patterns](#glob-style%20patterns) that should be excluded when looking for source files. They are matched against the source file names relative to the source directory, using slashes as directory separators on all platforms. `exclude_patterns` has priority over `include_patterns`.

Example patterns:

  - `'library/xml.rst'` -- ignores the `library/xml.rst` file
  - `'library/xml'` -- ignores the `library/xml` directory
  - `'library/xml*'` -- ignores all files and directories starting with `library/xml`
  - `'**/.git'` -- ignores all `.git` directories
  - `'Thumbs.db'` -- ignores all `Thumbs.db` files

`exclude_patterns` is also consulted when looking for static files in `html_static_path` and `html_extra_path`.

<div class="versionadded">

1.0

</div>

</div>

<div class="confval" type=":code-py:`Sequence[str]`" default=":code-py:`(&#39;**&#39;,)`">

include\_patterns

A list of [glob-style patterns](#glob-style%20patterns) that are used to find source files. They are matched against the source file names relative to the source directory, using slashes as directory separators on all platforms. By default, all files are recursively included from the source directory. `exclude_patterns` has priority over `include_patterns`.

Example patterns:

  - `'**'` -- all files in the source directory and subdirectories, recursively
  - `'library/xml'` -- just the `library/xml` directory
  - `'library/xml*'` -- all files and directories starting with `library/xml`
  - `'**/doc'` -- all `doc` directories (this might be useful if documentation is co-located with source files)

<div class="versionadded">

5.1

</div>

</div>

<div class="confval" type=":code-py:`str`" default=":code-py:`&#39;index&#39;`">

master\_doc root\_doc

Sphinx builds a tree of documents based on the :rst`toctree` directives contained within the source files. This sets the name of the document containing the master `toctree` directive, and hence the root of the entire tree. Example:

  - \`\`\`python  
    master\_doc = 'contents'

<div class="versionchanged">

2.0 Default is `'index'` (previously `'contents'`).

</div>

<div class="versionadded">

4.0 The `!root_doc` alias.

</div>

</div>

<div class="confval" type=":code-py:`str`" default=":code-py:`&#39;utf-8-sig&#39;`">

source\_encoding

The file encoding of all source files. The recommended encoding is `'utf-8-sig'`.

<div class="versionadded">

0.5

</div>

</div>

<div class="confval" type=":code-py:`dict[str, str] | Sequence[str] | str`" default=":code-py:`{&#39;.rst&#39;: &#39;restructuredtext&#39;}`">

source\_suffix

A dictionary mapping the file extensions (suffixes) of source files to their file types. Sphinx considers all files files with suffixes in `source_suffix` to be source files. Example:

``` python
source_suffix = {
    '.rst': 'restructuredtext',
    '.txt': 'restructuredtext',
    '.md': 'markdown',
}
```

By default, Sphinx only supports the `'restructuredtext'` file type. Further file types can be added with extensions that register different source file parsers, such as [MyST-Parser](). Refer to the extension's documentation to see which file types it supports.

If the value is a string or sequence of strings, Sphinx will consider that they are all `'restructuredtext'` files.

<div class="note">

<div class="title">

Note

</div>

File extensions must begin with a dot (`'.'`).

</div>

<div class="versionchanged">

1.3 Support a list of file extensions.

</div>

<div class="versionchanged">

1.8 Change to a map of file extensions to file types.

</div>

</div>

Options for smart quotes `` ` ------------------------  .. confval:: smartquotes    :type: :code-py:`bool`    :default: :code-py:`True`     If :code-py:`True`, the `Smart Quotes transform`__    will be used to convert quotation marks and dashes    to typographically correct entities.     __ https://docutils.sourceforge.io/docs/user/smartquotes.html     .. versionadded:: 1.6.6       Replaces the now-removed :confval:`!html_use_smartypants`.       It applies by default to all builders except ``man`and`text``(see :confval:`smartquotes_excludes`.)     > **Note** >        A `docutils.conf`__ file located in the :term:`configuration directory`       (or a global :file:`~/.docutils` file) is obeyed unconditionally if it       *deactivates* smart quotes via the corresponding `Docutils option`__.       But if it *activates* them, then :confval:`smartquotes` does prevail.        __ https://docutils.sourceforge.io/docs/user/config.html       __ https://docutils.sourceforge.io/docs/user/config.html#smart-quotes  .. confval:: smartquotes_action    :type: :code-py:`str`    :default: :code-py:`'qDe'`     Customise the Smart Quotes transform.    See below for the permitted codes.    The default :code-py:`'qDe'` educates    normal **q**\ uote characters``"`,`'`,    em- and en-**D**\ ashes`---`,`--`,    and **e**\ llipses`...``..     :code-py:`'q'`       Convert quotation marks    :code-py:`'b'`       Convert backtick quotation marks       (:literal:`\`\`double''` only)    :code-py:`'B'`       Convert backtick quotation marks       (:literal:`\`\`double''` and :literal:`\`single'`)    :code-py:`'d'`       Convert dashes       (convert``--`to em-dashes and`---``to en-dashes)    :code-py:`'D'`       Convert dashes (old school)       (convert``--`to en-dashes and`---``to em-dashes)    :code-py:`'i'`       Convert dashes (inverted old school)       (convert``--`to em-dashes and`---``to en-dashes)    :code-py:`'e'`       Convert ellipses``...``:code-py:`'w'`       Convert``'\&quot;'`entities to`'"'``.. versionadded:: 1.6.6  .. confval:: smartquotes_excludes    :type: :code-py:`dict[str, list[str]]`    :default: :code-py:`{'languages': ['ja'], 'builders': ['man', 'text']}`     Control when the Smart Quotes transform is disabled.    Permitted keys are :code-py:`'builders'` and :code-py:`'languages'`, and    The values are lists of strings.     Each entry gives a sufficient condition to ignore the    :confval:`smartquotes` setting and deactivate the Smart Quotes transform.    Example:``\`python smartquotes\_excludes = { 'languages': \['ja'\], 'builders': \['man', 'text'\], }

> 
> 
> <div class="note">
> 
> <div class="title">
> 
> Note
> 
> </div>
> 
> Currently, in case of invocation of `make` with multiple targets, the first target name is the only one which is tested against the `'builders'` entry and it decides for all. Also, a `make text` following `make html` needs to be issued in the form `make text SPHINXOPTS="-E"` to force re-parsing of source files, as the cached ones are already transformed. On the other hand the issue does not arise with direct usage of `sphinx-build` as it caches (in its default usage) the parsed source files in per builder locations.
> 
> </div>
> 
> <div class="hint">
> 
> <div class="title">
> 
> Hint
> 
> </div>
> 
> An alternative way to effectively deactivate (or customise) the smart quotes for a given builder, for example `latex`, is to use `make` this way:
> 
> ``` console
> make latex SPHINXOPTS="-D smartquotes_action="
> ```
> 
> This can follow some `make html` with no problem, in contrast to the situation from the prior note.
> 
> </div>
> 
> <div class="versionadded">
> 
> 1.6.6
> 
> </div>

Options for templating `` ` ----------------------  .. confval:: template_bridge    :type: :code-py:`str`    :default: :code-py:`''`     A string with the fully-qualified name of a callable (or simply a class)    that returns an instance of `~sphinx.application.TemplateBridge`.    This instance is then used to render HTML documents,    and possibly the output of other builders (currently the changes builder).    (Note that the template bridge must be made theme-aware    if HTML themes are to be used.)    Example: ``\`python template\_bridge = 'module.CustomTemplateBridge'

<div class="confval" type=":code-py:`Sequence[str]`" default=":code-py:`()`">

templates\_path

A list of paths that contain extra templates (or templates that overwrite builtin/theme-specific templates). Relative paths are taken as relative to the `configuration directory`. Example:

``` python
templates_path = ['.templates']
```

<div class="versionchanged">

1.3 As these files are not meant to be built, they are automatically excluded when discovering source files.

</div>

</div>

Options for warning control `` ` ---------------------------  .. confval:: show_warning_types    :type: :code-py:`bool`    :default: :code-py:`True`     Add the type of each warning as a suffix to the warning message.    For example, ``WARNING: \[...\] \[index\]`or`WARNING: \[...\] \[toc.circular\]``.    This setting can be useful for determining which warnings types to include    in a :confval:`suppress_warnings` list.     .. versionadded:: 7.3.0    .. versionchanged:: 8.0.0       The default is now :code-py:`True`.  .. confval:: suppress_warnings    :type: :code-py:`Sequence[str]`    :default: :code-py:`()`     A list of warning codes to suppress arbitrary warning messages.     By default, Sphinx supports the following warning codes:     *``app.add\_node`*`app.add\_directive`*`app.add\_role`*`app.add\_generic\_role`*`app.add\_source\_parser`*`config.cache`*`docutils`*`download.not\_readable`*`epub.unknown\_project\_files`*`epub.duplicated\_toc\_entry`*`i18n.inconsistent\_references`*`index`*`image.not\_readable`*`ref.term`*`ref.ref`*`ref.numref`*`ref.keyword`*`ref.option`*`ref.citation`*`ref.footnote`*`ref.doc`*`ref.python`*`misc.copy\_overwrite`*`misc.highlighting\_failure`*`toc.circular`*`toc.excluded`*`toc.no\_title`*`toc.not\_readable`*`toc.secnum`Extensions can also define their own warning types.    Those defined by the first-party`sphinx.ext`extensions are:     *`autodoc`*`autodoc.import\_object`*`autosectionlabel.\<document name\>`*`autosummary`*`autosummary.import\_cycle`*`intersphinx.external`You can choose from these types.  You can also give only the first    component to exclude all warnings attached to it.     .. versionadded:: 1.4     .. versionchanged:: 1.5       Added`misc.highlighting\_failure`.. versionchanged:: 1.5.1       Added`epub.unknown\_project\_files`.. versionchanged:: 1.6       Added`ref.footnote`.. versionchanged:: 2.1       Added`autosectionlabel.\<document name\>`.. versionchanged:: 3.3.0       Added`epub.duplicated\_toc\_entry`.. versionchanged:: 4.3       Added`toc.excluded`and`toc.not\_readable`.. versionadded:: 4.5       Added`i18n.inconsistent\_references`.. versionadded:: 7.1       Added`index`.     .. versionadded:: 7.3       Added`config.cache`.     .. versionadded:: 7.3       Added`toc.no\_title`.     .. versionadded:: 8.0       Added`misc.copy\_overwrite``.   Builder options ===============   .. _html-options:  Options for HTML output -----------------------  These options influence HTML output. Various other builders are derived from the HTML output, and also make use of these options.  .. confval:: html_theme    :type: :code-py:`str`    :default: :code-py:`'alabaster'`     The theme for HTML output.    See the [HTML theming section </usage/theming>](HTML theming section </usage/theming>.md).     .. versionadded:: 0.6    .. versionchanged:: 1.3       The default theme is now :code-py:`'alabaster'`.  .. confval:: html_theme_options    :type: :code-py:`dict[str, Any]`    :default: :code-py:`{}`     A dictionary of options that influence the    look and feel of the selected theme.    These are theme-specific.    The options understood by the [builtin themes    <builtin-themes>](#builtin-themes ---<builtin-themes>) are described [here <builtin-themes>](#here-<builtin-themes>).     .. versionadded:: 0.6  .. confval:: html_theme_path    :type: :code-py:`list[str]`    :default: :code-py:`[]`     A list of paths that contain custom themes,    either as subdirectories or as zip files.    Relative paths are taken as relative to the :term:`configuration directory`.     .. versionadded:: 0.6  .. confval:: html_style    :type: :code-py:`Sequence[str] | str`    :default: :code-py:`()`     Stylesheets to use for HTML pages.    The stylesheet given by the selected theme is used by default    A file of that name must exist either in Sphinx's :file:`static/` path    or in one of the custom paths given in :confval:`html_static_path`.    If you only want to add or override a few things from the theme,    use CSS``@import``to import the theme's stylesheet.     .. versionchanged:: 5.1       The value can be a iterable of strings.  .. confval:: html_title    :type: :code-py:`str`    :default: :samp:`'{project} {release} documentation'`     The "title" for HTML documentation generated with Sphinx's own templates.    This is appended to the``\<title\>``tag of individual pages,    and used in the navigation bar as the "topmost" element.  .. confval:: html_short_title    :type: :code-py:`str`    :default: The value of **html_title**     A shorter "title" for HTML documentation.    This is used for links in the header and in the HTML Help documentation.     .. versionadded:: 0.4  .. confval:: html_baseurl    :type: :code-py:`str`    :default: :code-py:`''`     The base URL which points to the root of the HTML documentation.    It is used to indicate the location of document using    :rfc:`the Canonical Link Relation <6596>`.     .. versionadded:: 1.8  .. confval:: html_codeblock_linenos_style    :type: :code-py:`'inline' | 'table'`    :default: :code-py:`'inline'`     The style of line numbers for code-blocks.     :code-py:`'table'`       Display line numbers using``\<table\>``tag    :code-py:`'inline'`       Display line numbers using``\<span\>``tag     .. versionadded:: 3.2    .. versionchanged:: 4.0       It defaults to :code-py:`'inline'`.    .. deprecated:: 4.0  .. confval:: html_context    :type: :code-py:`dict[str, Any]`    :default: :code-py:`{}`     A dictionary of values to pass into    the template engine's context for all pages.    Single values can also be put in this dictionary using    :program:`sphinx-build`'s :option:`--html-define    <sphinx-build --html-define>` command-line option.     .. versionadded:: 0.5  .. confval:: html_logo    :type: :code-py:`str`    :default: :code-py:`''`     If given, this must be the name of an image file    (path relative to the :term:`configuration directory`)    that is the logo of the documentation,    or a URL that points an image file for the logo.    It is placed at the top of the sidebar;    its width should therefore not exceed 200 pixels.     .. versionadded:: 0.4.1       The image file will be copied to the``\_static``directory,       but only if the file does not already exist there.    .. versionchanged:: 4.0       Also accepts a URL.  .. confval:: html_favicon    :type: :code-py:`str`    :default: :code-py:`''`     If given, this must be the name of an image file    (path relative to the :term:`configuration directory`)    that is the favicon_ of the documentation,    or a URL that points an image file for the favicon.    Browsers use this as the icon for tabs, windows and bookmarks.    It should be a 16-by-16 pixel icon in    the PNG, SVG, GIF, or ICO file formats.     .. _favicon: https://developer.mozilla.org/en-US/                 docs/Web/HTML/Attributes/rel#icon     Example:``\`python html\_favicon = 'static/favicon.png'

> 
> 
> <div class="versionadded">
> 
> 0.4 The image file will be copied to the `_static`, but only if the file does not already exist there.
> 
> </div>
> 
> <div class="versionchanged">
> 
> 4.0 Also accepts the URL for the favicon.
> 
> </div>

<div class="confval" type=":code-py:`Sequence[str | tuple[str, dict[str, str]]]`" default=":code-py:`[]`">

html\_css\_files

A list of CSS files. The entry must be a *filename* string or a tuple containing the *filename* string and the *attributes* dictionary. The *filename* must be relative to the `html_static_path`, or a full URI with scheme like `'https://example.org/style.css'`. The *attributes* dictionary is used for the `<link>` tag's attributes.

Example:

``` python
html_css_files = [
    'custom.css',
    'https://example.com/css/custom.css',
    ('print.css', {'media': 'print'}),
]
```

The special attribute *priority* can be set as an integer to load the CSS file at an earlier or later step. For more information, refer to <span class="title-ref">.Sphinx.add\_css\_file</span>.

<div class="versionadded">

1.8

</div>

<div class="versionchanged">

3.5 Support the *priority* attribute

</div>

</div>

<div class="confval" type=":code-py:`Sequence[str | tuple[str, dict[str, str]]]`" default=":code-py:`[]`">

html\_js\_files

A list of JavaScript files. The entry must be a *filename* string or a tuple containing the *filename* string and the *attributes* dictionary. The *filename* must be relative to the `html_static_path`, or a full URI with scheme like `'https://example.org/script.js'`. The *attributes* dictionary is used for the `<script>` tag's attributes.

Example:

``` python
html_js_files = [
    'script.js',
    'https://example.com/scripts/custom.js',
    ('custom.js', {'async': 'async'}),
]
```

As a special attribute, *priority* can be set as an integer to load the JavaScript file at an earlier or later step. For more information, refer to <span class="title-ref">.Sphinx.add\_js\_file</span>.

<div class="versionadded">

1.8

</div>

<div class="versionchanged">

3.5 Support the *priority* attribute

</div>

</div>

<div class="confval" type=":code-py:`list[str]`" default=":code-py:`[]`">

html\_static\_path

A list of paths that contain custom static files (such as style sheets or script files). Relative paths are taken as relative to the `configuration directory`. They are copied to the output's `_static` directory after the theme's static files, so a file named `default.css` will overwrite the theme's `default.css`.

As these files are not meant to be built, they are automatically excluded from source files.

\> **Note**

</div>

  - \>  
    For security reasons, dotfiles under `!html_static_path` will not be copied. If you would like to copy them intentionally, explicitly add each file to this setting:
    
    ``` python
    html_static_path = ['_static', '_static/.htaccess']
    ```
    
    An alternative approach is to use `html_extra_path`, which allows copying dotfiles under the directories.
    
    <div class="versionchanged">
    
    0.4
    
    </div>
    
    The paths in `html_static_path` can now contain subdirectories.
    
    <div class="versionchanged">
    
    1.0
    
    </div>
    
    The entries in `html_static_path` can now be single files.
    
    <div class="versionchanged">
    
    1.8
    
    </div>
    
    The files under `html_static_path` are excluded from source files.

<div class="confval" type=":code-py:`list[str]`" default=":code-py:`[]`">

html\_extra\_path

A list of paths that contain extra files not directly related to the documentation, such as `robots.txt` or `.htaccess`. Relative paths are taken as relative to the `configuration directory`. They are copied to the output directory. They will overwrite any existing file of the same name.

As these files are not meant to be built, they are automatically excluded from source files.

<div class="versionadded">

1.2

</div>

<div class="versionchanged">

1.4 The dotfiles in the extra directory will be copied to the output directory. And it refers `exclude_patterns` on copying extra files and directories, and ignores if path matches to patterns.

</div>

</div>

<div class="confval" type=":code-py:`str`" default=":code-py:`None`">

html\_last\_updated\_fmt

If set, a 'Last updated on:' timestamp is inserted into the page footer using the given <span class="title-ref">\~time.strftime</span> format. The empty string is equivalent to `'%b %d, %Y'` (or a locale-dependent equivalent).

</div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`False`">

html\_last\_updated\_use\_utc

Use GMT/UTC (+00:00) instead of the system's local time zone for the time supplied to `html_last_updated_fmt`. This is most useful when the format used includes the time.

</div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`True`">

html\_permalinks

Add link anchors for each heading and description environment.

<div class="versionadded">

3.5

</div>

</div>

<div class="confval" type=":code-py:`str`" default=":code-py:`&#39;¶&#39;` (the paragraph sign)">

html\_permalinks\_icon

Text for link anchors for each heading and description environment. HTML entities and Unicode are allowed.

<div class="versionadded">

3.5

</div>

</div>

<div class="confval" type=":code-py:`dict[str, Sequence[str]]`" default=":code-py:`{}`">

html\_sidebars

A dictionary defining custom sidebar templates, mapping document names to template names.

The keys can contain [glob-style patterns](#glob-style%20patterns), in which case all matching documents will get the specified sidebars. (A warning is emitted when a more than one glob-style pattern matches for any document.)

Each value must be a list of strings which specifies the complete list of sidebar templates to include. If all or some of the default sidebars are to be included, they must be put into this list as well.

The default sidebars (for documents that don't match any pattern) are defined by theme itself. The builtin themes use these templates by default: `'localtoc.html'`, `'relations.html'`, `'sourcelink.html'`, and `'searchbox.html'`.

The bundled first-party sidebar templates that can be rendered are:

  - **localtoc.html** -- a fine-grained table of contents of the current document
  - **globaltoc.html** -- a coarse-grained table of contents for the whole documentation set, collapsed
  - **relations.html** -- two links to the previous and next documents
  - **sourcelink.html** -- a link to the source of the current document, if enabled in `html_show_sourcelink`
  - **searchbox.html** -- the "quick search" box

Example:

``` python
html_sidebars = {
   '**': ['globaltoc.html', 'sourcelink.html', 'searchbox.html'],
   'using/windows': ['windows-sidebar.html', 'searchbox.html'],
}
```

This will render the custom template `windows-sidebar.html` and the quick search box within the sidebar of the given document, and render the default sidebars for all other pages (except that the local TOC is replaced by the global TOC).

Note that this value only has no effect if the chosen theme does not possess a sidebar, like the builtin **scrolls** and **haiku** themes.

<div class="versionadded">

1.0 The ability to use globbing keys and to specify multiple sidebars.

</div>

<div class="deprecated">

1.7 A single string value for `!html_sidebars` will be removed.

</div>

<div class="versionchanged">

2.0 `!html_sidebars` must be a list of strings, and no longer accepts a single string value.

</div>

</div>

<div class="confval" type=":code-py:`dict[str, str]`" default=":code-py:`{}`">

html\_additional\_pages

Additional templates that should be rendered to HTML pages, must be a dictionary that maps document names to template names.

Example:

``` python
html_additional_pages = {
    'download': 'custom-download.html.jinja',
}
```

This will render the template `custom-download.html.jinja` as the page `download.html`.

</div>

<div class="confval" type=":code-py:`bool | Sequence[str]`" default=":code-py:`True`">

html\_domain\_indices

If True, generate domain-specific indices in addition to the general index. For e.g. the Python domain, this is the global module index.

This value can be a Boolean or a list of index names that should be generated. To find out the index name for a specific index, look at the HTML file name. For example, the Python module index has the name `'py-modindex'`.

Example:

``` python
html_domain_indices = {
    'py-modindex',
}
```

<div class="versionadded">

1.0

</div>

<div class="versionchanged">

7.4 Permit and prefer a set type.

</div>

</div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`True`">

html\_use\_index

Controls if an index is added to the HTML documents.

<div class="versionadded">

0.4

</div>

</div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`False`">

html\_split\_index

Generates two versions of the index: once as a single page with all the entries, and once as one page per starting letter.

<div class="versionadded">

0.4

</div>

</div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`True`">

html\_copy\_source

If True, the reStructuredText sources are included in the HTML build as `_sources/{docname}`.

</div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`True`">

html\_show\_sourcelink

If True (and `html_copy_source` is true as well), links to the reStructuredText sources will be added to the sidebar.

<div class="versionadded">

0.6

</div>

</div>

<div class="confval" type=":code-py:`str`" default=":code-py:`&#39;.txt&#39;`">

html\_sourcelink\_suffix

The suffix to append to source links (see `html_show_sourcelink`), unless files they have this suffix already.

<div class="versionadded">

1.5

</div>

</div>

<div class="confval" type=":code-py:`str`" default=":code-py:`&#39;&#39;`">

html\_use\_opensearch

If nonempty, an [OpenSearch](https://github.com/dewitt/opensearch) description file will be output, and all pages will contain a `<link>` tag referring to it. Since OpenSearch doesn't support relative URLs for its search page location, the value of this option must be the base URL from which these documents are served (without trailing slash), e.g. `'https://docs.python.org'`.

<div class="versionadded">

0.2

</div>

</div>

<div class="confval" type=":code-py:`str`" default=":code-py:`&#39;.html&#39;`">

html\_file\_suffix

The file name suffix (file extension) for generated HTML files.

<div class="versionadded">

0.4

</div>

</div>

<div class="confval" type=":code-py:`str`" default="The value of **html_file_suffix**">

html\_link\_suffix

The suffix for generated links to HTML files. Intended to support more esoteric server setups.

<div class="versionadded">

0.6

</div>

</div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`True`">

html\_show\_copyright

If True, "© Copyright ..." is shown in the HTML footer, with the value or values from `copyright`.

<div class="versionadded">

1.0

</div>

</div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`True`">

html\_show\_search\_summary

Show a summary of the search result, i.e., the text around the keyword.

<div class="versionadded">

4.5

</div>

</div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`True`">

html\_show\_sphinx

Add "Created using [Sphinx]()" to the HTML footer.

<div class="versionadded">

0.4

</div>

</div>

<div class="confval" type=":code-py:`str`" default=":code-py:`&#39;utf-8&#39;`">

html\_output\_encoding

Encoding of HTML output files. This encoding name must both be a valid Python encoding name and a valid HTML `charset` value.

<div class="versionadded">

1.0

</div>

</div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`True`">

html\_compact\_lists

If True, a list all whose items consist of a single paragraph and/or a sub-list all whose items etc... (recursive definition) will not use the `<p>` element for any of its items. This is standard docutils behaviour. Default: `True`.

<div class="versionadded">

1.0

</div>

</div>

<div class="confval" type=":code-py:`str`" default=":code-py:`&#39;. &#39;`">

html\_secnumber\_suffix

Suffix for section numbers in HTML output. Set to `' '` to suppress the final dot on section numbers.

<div class="versionadded">

1.0

</div>

</div>

<div class="confval" type=":code-py:`str`" default="The value of **language**">

html\_search\_language

Language to be used for generating the HTML full-text search index. This defaults to the global language selected with `language`. English (`'en'`) is used as a fall-back option if there is no support for this language.

Support exists for the following languages:

  - `da` -- Danish
  - `nl` -- Dutch
  - `en` -- English
  - `fi` -- Finnish
  - `fr` -- French
  - `de` -- German
  - `hu` -- Hungarian
  - `it` -- Italian
  - `ja` -- Japanese
  - `no` -- Norwegian
  - `pt` -- Portuguese
  - `ro` -- Romanian
  - `ru` -- Russian
  - `es` -- Spanish
  - `sv` -- Swedish
  - `tr` -- Turkish
  - `zh` -- Chinese

<div class="tip">

<div class="title">

Tip

</div>

Accelerating build speed

Each language (except Japanese) provides its own stemming algorithm. Sphinx uses a Python implementation by default. If you want to accelerate building the index file, you can use a third-party package ([PyStemmer]()) by running `pip install PyStemmer`.

</div>

<div class="versionadded">

1.1 Support English (`en`) and Japanese (`ja`).

</div>

<div class="versionchanged">

1.3 Added additional languages.

</div>

</div>

<div class="confval" type=":code-py:`dict[str, str]`" default=":code-py:`{}`">

html\_search\_options

A dictionary with options for the search language support. The meaning of these options depends on the language selected. Currently, only Japanese and Chinese support options.

  - Japanese
    
      - `type` -- the type of the splitter to use.  
        The other options depend on the splitter used.
        
          - `'sphinx.search.ja.DefaultSplitter'`  
            The TinySegmenter algorithm, used by default.
        
          - `'sphinx.search.ja.MecabSplitter'`:  
            The MeCab binding To use this splitter, the 'mecab' python binding or dynamic link library ('libmecab.so' for Linux, 'libmecab.dll' for Windows) is required.
        
          - `'sphinx.search.ja.JanomeSplitter'`:  
            The Janome binding. To use this splitter, [Janome](https://pypi.org/project/Janome/) is required.
        
        <div class="deprecated">
        
        1.6 `'mecab'`, `'janome'` and `'default'` is deprecated. To keep compatibility, `'mecab'`, `'janome'` and `'default'` are also acceptable.
        
        </div>
    
      - Options for `'mecab'`:
        
          - dic\_enc  
            \_<span class="title-ref">dic\_enc option</span> is the encoding for the MeCab algorithm.
        
          - dict  
            \_<span class="title-ref">dict option</span> is the dictionary to use for the MeCab algorithm.
        
          - lib  
            \_<span class="title-ref">lib option</span> is the library name for finding the MeCab library via `ctypes` if the Python binding is not installed.
        
        For example:
        
        ``` python
        html_search_options = {
            'type': 'mecab',
            'dic_enc': 'utf-8',
            'dict': '/path/to/mecab .dic',
            'lib': '/path/to/libmecab.so',
        }
        ```
    
      - Options for `'janome'`:
        
          - user\_dic  
            \_<span class="title-ref">user\_dic option</span> is the user dictionary file path for Janome.
        
          - user\_dic\_enc  
            \_<span class="title-ref">user\_dic\_enc option</span> is the encoding for the user dictionary file specified by `user_dic` option. Default is 'utf8'.

  - Chinese
    
      - `dict`  
        The `jieba` dictionary path for using a custom dictionary.

<div class="versionadded">

1.1

</div>

<div class="versionchanged">

1.4 Allow any custom splitter in the *type* setting for Japanese.

</div>

</div>

<div class="confval" type=":code-py:`str`" default=":code-py:`&#39;&#39;`">

html\_search\_scorer

The name of a JavaScript file (relative to the `configuration directory`) that implements a search results scorer. If empty, the default will be used.

The scorer must implement the following interface, and may optionally define the `score()` function for more granular control.

``` javascript
const Scorer = {
    // Implement the following function to further tweak the score for each result
    score: result => {
      const [docName, title, anchor, descr, score, filename] = result

      // ... calculate a new score ...
      return score
    },

    // query matches the full name of an object
    objNameMatch: 11,
    // or matches in the last dotted part of the object name
    objPartialMatch: 6,
    // Additive scores depending on the priority of the object
    objPrio: {
      0: 15, // used to be importantResults
      1: 5, // used to be objectResults
      2: -5, // used to be unimportantResults
    },
    //  Used when the priority is not in the mapping.
    objPrioDefault: 0,

    // query found in title
    title: 15,
    partialTitle: 7,

    // query found in terms
    term: 5,
    partialTerm: 2,
};
```

<div class="versionadded">

1.2

</div>

</div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`True`">

html\_scaled\_image\_link

Link images that have been resized with a scale option (*scale*, *width*, or *height*) to their original full-resolution image. This will not overwrite any link given by the *target* option on the the `image` directive, if present.

\> **Tip**

</div>

  - \>  
    To disable this feature on a per-image basis, add the `no-scaled-link` class to the image directive:
    
    ``` rst
    .. image:: sphinx.png
       :scale: 50%
       :class: no-scaled-link
    ```
    
    <div class="versionadded">
    
    1.3
    
    </div>
    
    <div class="versionchanged">
    
    3.0
    
    </div>
    
    Images with the `no-scaled-link` class will not be linked.

<div class="confval" type=":code-py:`str`" default=":code-py:`&#39;mathjax&#39;`">

html\_math\_renderer

The maths renderer to use for HTML output. The bundled renders are *mathjax* and *imgmath*. You must also load the relevant extension in `extensions`.

<div class="versionadded">

1.8

</div>

</div>

Options for Single HTML output `` ` -------------------------------  These options influence Single HTML output. This builder derives from the HTML builder, so the HTML options also apply where appropriate.  .. confval:: singlehtml_sidebars    :type: :code-py:`dict[str, Sequence[str]]`    :default: The value of **html_sidebars**     A dictionary defining custom sidebar templates,    mapping document names to template names.     This has the same effect as :confval:`html_sidebars`,    but the only permitted key is :code-py:`'index'`,    and all other keys are ignored.   .. _htmlhelp-options:  Options for HTML help output -----------------------------  These options influence HTML help output. This builder derives from the HTML builder, so the HTML options also apply where appropriate.  .. confval:: htmlhelp_basename    :type: :code-py:`str`    :default: :code-py:`'{project}doc'`     Output file base name for HTML help builder.    The default is the :confval:`project name <project>`    with spaces removed and ``doc``appended.  .. confval:: htmlhelp_file_suffix    :type: :code-py:`str`    :default: :code-py:`'.html'`     This is the file name suffix for generated HTML help files.     .. versionadded:: 2.0  .. confval:: htmlhelp_link_suffix    :type: :code-py:`str`    :default: The value of **htmlhelp_file_suffix**     Suffix for generated links to HTML files.     .. versionadded:: 2.0   .. _applehelp-options:  Options for Apple Help output -----------------------------  .. versionadded:: 1.3  These options influence Apple Help output. This builder derives from the HTML builder, so the HTML options also apply where appropriate.  > **Note** >     Apple Help output will only work on Mac OS X 10.6 and higher,    as it requires the :program:`hiutil` and :program:`codesign`    command-line tools, neither of which are Open Source.     You can disable the use of these tools using    :confval:`applehelp_disable_external_tools`,    but the result will not be a valid help book    until the indexer is run over the``.lproj``directories within the bundle.     .. TODO: Is this warning still relevant as of 2024-07?             Needs updating by someone with a Mac.  .. confval:: applehelp_bundle_name    :type: :code-py:`str`    :default: The value of **project**     The basename for the Apple Help Book.    The default is the :confval:`project name <project>`    with spaces removed.  .. confval:: applehelp_bundle_id    :type: :code-py:`str`    :default: :code-py:`None`     The bundle ID for the help book bundle.     > **Warning** >        You *must* set this value in order to generate Apple Help.  .. confval:: applehelp_bundle_version    :type: :code-py:`str`    :default: :code-py:`'1'`     The bundle version, as a string.  .. confval:: applehelp_dev_region    :type: :code-py:`str`    :default: :code-py:`'en-us'`     The development region.    Defaults to Apple’s recommended setting, :code-py:`'en-us'`.  .. confval:: applehelp_icon    :type: :code-py:`str`    :default: :code-py:`None`     Path to the help bundle icon file or :code-py:`None` for no icon.    According to Apple's documentation,    this should be a 16-by-16 pixel version of the application's icon    with a transparent background, saved as a PNG file.  .. confval:: applehelp_kb_product    :type: :code-py:`str`    :default: :samp:`'{project}-{release}'`     The product tag for use with :confval:`applehelp_kb_url`.  .. confval:: applehelp_kb_url    :type: :code-py:`str`    :default: :code-py:`None`     The URL for your knowledgebase server,    e.g.``<https://example.com/kbsearch.py?p='product'&q='query'&l='lang>'`.    At runtime, Help Viewer will replace`'product'``with the contents of :confval:`applehelp_kb_product`,``'query'`with the text entered by the user in the search box,    and`'lang'``with the user's system language.     Set this to to :code-py:`None` to disable remote search.  .. confval:: applehelp_remote_url    :type: :code-py:`str`    :default: :code-py:`None`     The URL for remote content.    You can place a copy of your Help Book's``Resources`directory    at this location and Help Viewer will attempt to use it    to fetch updated content.     For example, if you set it to`<https://example.com/help/Foo/>`and Help Viewer wants a copy of`index.html`for    an English speaking customer,    it will look at`<https://example.com/help/Foo/en.lproj/index.html>``.     Set this to to :code-py:`None` for no remote content.  .. confval:: applehelp_index_anchors    :type: :code-py:`bool`    :default: :code-py:`False`     Tell the help indexer to index anchors in the generated HTML.    This can be useful for jumping to a particular topic    using the``AHLookupAnchor`function    or the`openHelpAnchor:inBook:`method in your code.    It also allows you to use`help:anchor``URLs;    see the Apple documentation for more information on this topic.  .. confval:: applehelp_min_term_length    :type: :code-py:`str`    :default: :code-py:`None`     Controls the minimum term length for the help indexer.    If :code-py:`None`, use the default length.  .. confval:: applehelp_stopwords    :type: :code-py:`str`    :default: The value of **language**     Either a language specification (to use the built-in stopwords),    or the path to a stopwords plist,    or :code-py:`None` if you do not want to use stopwords.    The default stopwords plist can be found at``/usr/share/hiutil/Stopwords.plist`and contains, at time of writing, stopwords for the following languages:     * German (`de`)    * English (`en`)    * Spanish (`es`)    * French (`fr`)    * Hungarian (`hu`)    * Italian (`it`)    * Swedish (`sv``)  .. confval:: applehelp_locale    :type: :code-py:`str`    :default: The value of **language**     Specifies the locale to generate help for.    This is used to determine the name of the``.lproj`directory    inside the Help Book’s`Resources``,    and is passed to the help indexer.  .. confval:: applehelp_title    :type: :code-py:`str`    :default: :samp:`'{project} Help'`     Specifies the help book title.  .. confval:: applehelp_codesign_identity    :type: :code-py:`str`    :default: The value of **CODE_SIGN_IDENTITY**     Specifies the identity to use for code signing.    Use :code-py:`None` if code signing is not to be performed.     Defaults to the value of the :envvar:`!CODE_SIGN_IDENTITY`    environment variable, which is set by Xcode for script build phases,    or :code-py:`None` if that variable is not set.  .. confval:: applehelp_codesign_flags    :type: :code-py:`list[str]`    :default: The value of **OTHER_CODE_SIGN_FLAGS**     A *list* of additional arguments to pass to :program:`codesign` when    signing the help book.     Defaults to a list based on the value of the :envvar:`!OTHER_CODE_SIGN_FLAGS`    environment variable, which is set by Xcode for script build phases,    or the empty list if that variable is not set.  .. confval:: applehelp_codesign_path    :type: :code-py:`str`    :default: :code-py:`'/usr/bin/codesign'`     The path to the :program:`codesign` program.  .. confval:: applehelp_indexer_path    :type: :code-py:`str`    :default: :code-py:`'/usr/bin/hiutil'`     The path to the :program:`hiutil` program.  .. confval:: applehelp_disable_external_tools    :type: :code-py:`bool`    :default: :code-py:`False`     Do not run the indexer or the code signing tool,    no matter what other settings are specified.     This is mainly useful for testing,    or where you want to run the Sphinx build on a non-macOS platform    and then complete the final steps on a Mac for some reason.   .. _epub-options:  Options for EPUB output -----------------------  These options influence EPUB output. This builder derives from the HTML builder, so the HTML options also apply where appropriate.  .. note::    The actual value for some of these options is not important,    but they are required for the `Dublin Core metadata`_.     .. _Dublin Core metadata: https://dublincore.org/  .. confval:: epub_basename    :type: :code-py:`str`    :default: The value of **project**     The basename for the EPUB file.  .. confval:: epub_theme    :type: :code-py:`str`    :default: :code-py:`'epub'`     The HTML theme for the EPUB output.  Since the default themes are not    optimised for small screen space, using the same theme for HTML and EPUB    output is usually not wise.    This defaults to :code-py:`'epub'`,    a theme designed to save visual space.  .. confval:: epub_theme_options    :type: :code-py:`dict[str, Any]`    :default: :code-py:`{}`     A dictionary of options that influence the    look and feel of the selected theme.    These are theme-specific.    The options understood by the [builtin themes    <builtin-themes>](#builtin-themes ---<builtin-themes>) are described [here <builtin-themes>](#here-<builtin-themes>).     .. versionadded:: 1.2  .. confval:: epub_title    :type: :code-py:`str`    :default: The value of **project**     The title of the document.     .. versionchanged:: 2.0       It defaults to the :confval:`!project` option       (previously :confval:`!html_title`).  .. confval:: epub_description    :type: :code-py:`str`    :default: :code-py:`'unknown'`     The description of the document.     .. versionadded:: 1.4     .. versionchanged:: 1.5       Renamed from :confval:`!epub3_description`  .. confval:: epub_author    :type: :code-py:`str`    :default: The value of **author**     The author of the document.    This is put in the Dublin Core metadata.  .. confval:: epub_contributor    :type: :code-py:`str`    :default: :code-py:`'unknown'`     The name of a person, organisation, etc. that played a secondary role    in the creation of the content of an EPUB Publication.     .. versionadded:: 1.4     .. versionchanged:: 1.5       Renamed from :confval:`!epub3_contributor`  .. confval:: epub_language    :type: :code-py:`str`    :default: The value of **language**     The language of the document.    This is put in the Dublin Core metadata.  .. confval:: epub_publisher    :type: :code-py:`str`    :default: The value of **author**     The publisher of the document.    This is put in the Dublin Core metadata.    You may use any sensible string, e.g. the project homepage.  .. confval:: epub_copyright    :type: :code-py:`str`    :default: The value of **copyright**     The copyright of the document.    See :confval:`copyright` for permitted formats.  .. confval:: epub_identifier    :type: :code-py:`str`    :default: :code-py:`'unknown'`     An identifier for the document.    This is put in the Dublin Core metadata.    For published documents this is the ISBN number,    but you can also use an alternative scheme, e.g. the project homepage.  .. confval:: epub_scheme    :type: :code-py:`str`    :default: :code-py:`'unknown'`     The publication scheme for the :confval:`epub_identifier`.    This is put in the Dublin Core metadata.    For published books the scheme is``'ISBN'`.    If you use the project homepage,`'URL'``seems reasonable.  .. confval:: epub_uid    :type: :code-py:`str`    :default: :code-py:`'unknown'`     A unique identifier for the document.    This is put in the Dublin Core metadata.    You may use a `XML's Name format`_ string.    You can't use hyphen, period, numbers as a first character.     .. _XML's Name format: https://www.w3.org/TR/REC-xml/#NT-NameStartChar  .. confval:: epub_cover    :type: :code-py:`tuple[str, str]`    :default: :code-py:`()`     The cover page information.    This is a tuple containing the filenames of the cover image    and the html template.    The rendered html cover page is inserted as the first item    in the spine in :file:`content.opf`.    If the template filename is empty, no html cover page is created.    No cover at all is created if the tuple is empty.     Examples:``\`python epub\_cover = ('\_static/cover.png', 'epub-cover.html') epub\_cover = ('\_static/cover.png', '') epub\_cover = ()

> 
> 
> <div class="versionadded">
> 
> 1.1
> 
> </div>

<div class="confval" type=":code-py:`Sequence[str | tuple[str, dict[str, str]]]`" default=":code-py:`[]`">

epub\_css\_files

A list of CSS files. The entry must be a *filename* string or a tuple containing the *filename* string and the *attributes* dictionary. The *filename* must be relative to the `html_static_path`, or a full URI with scheme like `'https://example.org/style.css'`. The *attributes* dictionary is used for the `<link>` tag's attributes. For more information, see `html_css_files`.

<div class="versionadded">

1.8

</div>

</div>

<div class="confval" type=":code-py:`Sequence[tuple[str, str, str]]`" default=":code-py:`()`">

epub\_guide

Meta data for the guide element of `content.opf`. This is a sequence of tuples containing the *type*, the *uri* and the *title* of the optional guide information. See [the OPF documentation](https://idpf.org/epub) for details. If possible, default entries for the *cover* and *toc* types are automatically inserted. However, the types can be explicitly overwritten if the default entries are not appropriate.

Example:

``` python
epub_guide = (
    ('cover', 'cover.html', 'Cover Page'),
)
```

The default value is `()`.

</div>

<div class="confval" type=":code-py:`Sequence[tuple[str, str]]`" default=":code-py:`()`">

epub\_pre\_files

Additional files that should be inserted before the text generated by Sphinx. It is a list of tuples containing the file name and the title. If the title is empty, no entry is added to `toc.ncx`.

Example:

``` python
epub_pre_files = [
    ('index.html', 'Welcome'),
]
```

</div>

<div class="confval" type=":code-py:`Sequence[tuple[str, str]]`" default=":code-py:`()`">

epub\_post\_files

Additional files that should be inserted after the text generated by Sphinx. It is a list of tuples containing the file name and the title. This option can be used to add an appendix. If the title is empty, no entry is added to `toc.ncx`.

Example:

``` python
epub_post_files = [
    ('appendix.xhtml', 'Appendix'),
]
```

</div>

<div class="confval" type=":code-py:`Sequence[str]`" default=":code-py:`[]`">

epub\_exclude\_files

A sequence of files that are generated/copied in the build directory but should not be included in the EPUB file.

</div>

<div class="confval" type=":code-py:`int`" default=":code-py:`3`">

epub\_tocdepth

The depth of the table of contents in the file `toc.ncx`. It should be an integer greater than zero.

<div class="tip">

<div class="title">

Tip

</div>

A deeply nested table of contents may be difficult to navigate.

</div>

</div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`True`">

epub\_tocdup

This flag determines if a ToC entry is inserted again at the beginning of its nested ToC listing. This allows easier navigation to the top of a chapter, but can be confusing because it mixes entries of different depth in one list.

</div>

<div class="confval" type=":code-py:`&#39;default&#39; | &#39;includehidden&#39;`" default=":code-py:`&#39;default&#39;`">

epub\_tocscope

This setting control the scope of the EPUB table of contents. The setting can have the following values:

  - `'default'`  
    Include all ToC entries that are not hidden

  - `'includehidden'`  
    Include all ToC entries

<div class="versionadded">

1.2

</div>

</div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`False`">

epub\_fix\_images

Try and fix image formats that are not supported by some EPUB readers. At the moment palette images with a small colour table are upgraded. This is disabled by default because the automatic conversion may lose information. You need the Python Image Library ([Pillow]()) installed to use this option.

<div class="versionadded">

1.2

</div>

</div>

<div class="confval" type=":code-py:`int`" default=":code-py:`0`">

epub\_max\_image\_width

This option specifies the maximum width of images. If it is set to a valuevgreater than zero, images with a width larger than the given value are scaled accordingly. If it is zero, no scaling is performed. You need the Python Image Library ([Pillow]()) installed to use this option.

<div class="versionadded">

1.2

</div>

</div>

<div class="confval" type=":code-py:`&#39;footnote&#39; | &#39;no&#39; | &#39;inline&#39;`" default=":code-py:`&#39;footnote&#39;`">

epub\_show\_urls

Control how to display URL addresses. This is very useful for readers that have no other means to display the linked URL. The setting can have the following values:

  - `'inline'`  
    Display URLs inline in parentheses.

  - `'footnote'`  
    Display URLs in footnotes.

  - `'no'`  
    Do not display URLs.

The display of inline URLs can be customised by adding CSS rules for the class `link-target`.

<div class="versionadded">

1.2

</div>

</div>

<div class="confval" type=":code-py:`bool`" default="The value of **html_use_index**">

epub\_use\_index

Add an index to the EPUB document.

<div class="versionadded">

1.2

</div>

</div>

<div class="confval" type=":code-py:`&#39;horizontal&#39; | &#39;vertical&#39;`" default=":code-py:`&#39;horizontal&#39;`">

epub\_writing\_mode

It specifies writing direction. It can accept `'horizontal'` and `'vertical'`

| `epub_writing_mode`          | `'horizontal'`           | `'vertical'`               |
| ---------------------------- | ------------------------ | -------------------------- |
| [writing-mode]()             | `horizontal-tb`          | `vertical-rl`              |
| page progression             | left to right            | right to left              |
| iBook's Scroll Theme support | scroll-axis is vertical. | scroll-axis is horizontal. |

</div>

<div id="latex-options">

Options for LaTeX output `` ` ------------------------  These options influence LaTeX output.  .. confval:: latex_engine    :type: :code-py:`'pdflatex' | 'xelatex' | 'lualatex' | 'platex' | 'uplatex'`    :default: :code-py:`'pdflatex'`     The LaTeX engine to build the documentation.    The setting can have the following values:     * :code-py:`'pdflatex'` -- PDFLaTeX (default)    * :code-py:`'xelatex'` -- XeLaTeX      (default if :confval:`language` is one of ``el`,`zh\_CN`, or`zh\_TW``)    * :code-py:`'lualatex'` -- LuaLaTeX    * :code-py:`'platex'` -- pLaTeX    * :code-py:`'uplatex'` -- upLaTeX      (default if :confval:`language` is :code-py:`'ja'`)     > **Important** >``'pdflatex'`\ 's support for Unicode characters is limited.    If your project uses Unicode characters,    setting the engine to`'xelatex'`or`'lualatex'`and making sure to use an OpenType font with wide-enough glyph coverage    is often easier than trying to make`'pdflatex'`work    with the extra Unicode characters.    Since Sphinx 2.0, the default typeface is GNU FreeFont,    which has good coverage of Latin, Cyrillic, and Greek glyphs.  > **Note** >        Sphinx 2.0 adds support for occasional Cyrillic and Greek letters or       words in documents using a Latin language and`'pdflatex'``.  To enable       this, the [fontenc](#fontenc) key of [latex_elements       <latex_elements_confval>](#latex_elements ------<latex_elements_confval>) must be used appropriately.     .. note::        Contrarily to [MathJaX math rendering in HTML output <math-support>](#mathjax-math-rendering-in-html-output-<math-support>),       LaTeX requires some extra configuration to support Unicode literals in       :rst:dir:`math`:       the only comprehensive solution (as far as we know) is to       use``'xelatex'`or`'lualatex'`*and* to add`r'usepackage{unicode-math}'`(e.g. via the [preamble](#preamble) key of [latex_elements       <latex_elements_confval>](#latex_elements ------<latex_elements_confval>)).       You may prefer`r'usepackage\[math-style=literal\]{unicode-math}'`to keep a Unicode literal such as`α``(U+03B1) as-is in output,       rather than being rendered as :math:`\alpha`.     .. versionchanged:: 2.1.0       Use``'xelatex'`(and LaTeX package`xeCJK`)       by default for Chinese documents.     .. versionchanged:: 2.2.1       Use`'xelatex'`by default for Greek documents.     .. versionchanged:: 2.3       Add`'uplatex'`support.     .. versionchanged:: 4.0       Use`'uplatex'``by default for Japanese documents.  .. confval:: latex_documents    :type: :code-py:`Sequence[tuple[str, str, str, str, str, bool]]`    :default: The default LaTeX documents     This value determines how to group the document tree    into LaTeX source files.    It must be a list of tuples``(startdocname, targetname, title, author, theme, toctree\_only)``,    where the items are:     *startdocname*       String that specifies the :term:`document name` of       the LaTeX file's master document.       All documents referenced by the *startdoc* document in       ToC trees will be included in the LaTeX file.       (If you want to use the default master document for your LaTeX build,       provide your :confval:`master_doc` here.)     *targetname*       File name of the LaTeX file in the output directory.     *title*       LaTeX document title.       Can be empty to use the title of the *startdoc* document.       This is inserted as LaTeX markup,       so special characters like a backslash or ampersand       must be represented by the proper LaTeX commands       if they are to be inserted literally.     *author*       Author for the LaTeX document.       The same LaTeX markup caveat as for *title* applies.       Use``\\and`to separate multiple authors,  as in:`'John \\and Sarah'``(backslashes must be Python-escaped to reach LaTeX).     *theme*       LaTeX theme.       See :confval:`latex_theme`.     *toctree_only*       Must be :code-py:`True` or :code-py:`False`.       If True, the *startdoc* document itself is not included in the output,       only the documents referenced by it via ToC trees.       With this option, you can put extra stuff in the master document       that shows up in the HTML, but not the LaTeX output.     .. versionadded:: 0.3       The 6th item``toctree\_only``.       Tuples with 5 items are still accepted.     .. versionadded:: 1.2       In the past including your own document class required you to prepend the       document class name with the string "sphinx".       This is not necessary anymore.  .. confval:: latex_logo    :type: :code-py:`str`    :default: :code-py:`''`     If given, this must be the name of an image file    (path relative to the :term:`configuration directory`)    that is the logo of the documentation.    It is placed at the top of the title page.  .. confval:: latex_toplevel_sectioning    :type: :code-py:`'part' | 'chapter' | 'section'`    :default: :code-py:`None`     This value determines the topmost sectioning unit.  The default setting is``'section'``if :confval:`latex_theme` is``'howto'`, and`'chapter'`if it is`'manual'`.  The alternative in both cases is to specify`'part'``, which means that LaTeX document will use the :code-tex:`\\part`    command.     In that case the numbering of sectioning units one level deep gets off-sync    with HTML numbering, as by default LaTeX does not reset    :code-tex:`\\chapter` numbering (or :code-tex:`\\section` for``'howto'``theme) when encountering :code-tex:`\\part` command.     .. versionadded:: 1.4  .. confval:: latex_appendices    :type: :code-py:`Sequence[str]`    :default: :code-py:`()`     A list of document names to append as an appendix to all manuals.    This is ignored if :confval:`latex_theme` is set to :code-py:`'howto'`.  .. confval:: latex_domain_indices    :type: :code-py:`bool | Sequence[str]`    :default: :code-py:`True`     If True, generate domain-specific indices in addition to the general index.    For e.g. the Python domain, this is the global module index.     This value can be a Boolean or a list of index names that should be generated.    To find out the index name for a specific index, look at the HTML file name.    For example, the Python module index has the name``'py-modindex'`.     Example:`\`python latex\_domain\_indices = { 'py-modindex', }

</div>

> 
> 
> <div class="versionadded">
> 
> 1.0
> 
> </div>
> 
> <div class="versionchanged">
> 
> 7.4 Permit and prefer a set type.
> 
> </div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`False`">

latex\_show\_pagerefs

Add page references after internal references. This is very useful for printed copies of the manual.

<div class="versionadded">

1.0

</div>

</div>

<div class="confval" type=":code-py:`&#39;no&#39; | &#39;footnote&#39; | &#39;inline&#39;`" default=":code-py:`&#39;no&#39;`">

latex\_show\_urls

Control how to display URL addresses. This is very useful for printed copies of the manual. The setting can have the following values:

  - `'no'`  
    Do not display URLs

  - `'footnote'`  
    Display URLs in footnotes

  - `'inline'`  
    Display URLs inline in parentheses

<div class="versionadded">

1.0

</div>

<div class="versionchanged">

1.1 This value is now a string; previously it was a boolean value, and a true value selected the `'inline'` display. For backwards compatibility, `True` is still accepted.

</div>

</div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`False`">

latex\_use\_latex\_multicolumn

Use standard LaTeX's `\\multicolumn` for merged cells in tables.

  - `False`  
    Sphinx's own macros are used for merged cells from grid tables. They allow general contents (literal blocks, lists, blockquotes, ...) but may have problems if the :rst`tabularcolumns` directive was used to inject LaTeX mark-up of the type `>{..}`, `<{..}`, `@{..}` as column specification.

  - `True`  
    Use LaTeX's standard `\\multicolumn`; this is incompatible with literal blocks in horizontally merged cells, and also with multiple paragraphs in such cells if the table is rendered using `tabulary`.

<div class="versionadded">

1.6

</div>

</div>

<div class="confval" type=":code-py:`list[str]`" default=":code-py:`[&#39;booktabs&#39;, &#39;colorrows&#39;]`">

latex\_table\_style

A list of styling classes (strings). Currently supported:

  - `'booktabs'`  
    No vertical lines, and only 2 or 3 horizontal lines (the latter if there is a header), using the [booktabs]() package.

  - `'borderless'`  
    No lines whatsoever.

  - `'colorrows'`  
    The table rows are rendered with alternating background colours. The interface to customise them is via \[dedicated keys \<tablecolors\>\](\#dedicated-keys-\<tablecolors\>) of \[latexsphinxsetup\](\#latexsphinxsetup).
    
    \> **Important**

</div>

  - \>  
    With the `'colorrows'` style, the `\\rowcolors` LaTeX command becomes a no-op (this command has limitations and has never correctly supported all types of tables Sphinx produces in LaTeX). Please update your project to use the \[latex table color configuration \<tablecolors\>\](\#latex-table-color-configuration-\<tablecolors\>) keys instead.
    
    To customise the styles for a table, use the `:class:` option if the table is defined using a directive, or otherwise insert a \[rst-class \<rstclass\>\](\#rst-class-\<rstclass\>) directive before the table (cf. \[table-directives\](\#table-directives)).
    
    Currently recognised classes are `booktabs`, `borderless`, `standard`, `colorrows`, `nocolorrows`. The latter two can be combined with any of the first three. The `standard` class produces tables with both horizontal and vertical lines (as has been the default so far with Sphinx).
    
    A single-row multi-column merged cell will obey the row colour, if it is set. See also `TableMergeColor{Header,Odd,Even}` in the \[latexsphinxsetup\](\#latexsphinxsetup) section.
    
    <div class="note">
    
    <div class="title">
    
    Note
    
    </div>
    
    </div>
    
    \* It is hard-coded in LaTeX that a single cell will obey the row colour even if there is a column colour set via `\\columncolor` from a column specification (see :rst`tabularcolumns`). Sphinx provides `\\sphinxnorowcolor` which can be used in a table column specification like this:
    
    ``` latex
    >{\columncolor{blue}\sphinxnorowcolor}
    ```
    
    \* Sphinx also provides `\\sphinxcolorblend`, which however requires the [xcolor]() package. Here is an example:
    
    ``` latex
    >{\sphinxcolorblend{!95!red}}
    ```
    
    It means that in this column, the row colours will be slightly tinted by red; refer to [xcolor]() documentation for more on the syntax of its `\\blendcolors` command (a `\\blendcolors` in place of `\\sphinxcolorblend` would modify colours of the cell *contents*, not of the cell *background colour panel*...). You can find an example of usage in the \[dev-deprecated-apis\](\#dev-deprecated-apis) section of this document in PDF format.
    
    <div class="hint">
    
    <div class="title">
    
    Hint
    
    </div>
    
    If you want to use a special colour for the *contents* of the cells of a given column use `>{\noindent\color{<color>}}`, possibly in addition to the above.
    
    </div>
    
    \* Multi-row merged cells, whether single column or multi-column currently ignore any set column, row, or cell colour.
    
    \* It is possible for a simple cell to set a custom colour via the `raw` directive and the `\\cellcolor` LaTeX command used anywhere in the cell contents. This currently is without effect in a merged cell, whatever its kind.
    
    <div class="hint">
    
    <div class="title">
    
    Hint
    
    </div>
    
    </div>
    
    In a document not using `'booktabs'` globally, it is possible to style an individual table via the `booktabs` class, but it will be necessary to add `r'\usepackage{booktabs}'` to the LaTeX preamble.
    
    On the other hand one can use `colorrows` class for individual tables with no extra package (as Sphinx since 5.3.0 always loads [colortbl]()).
    
    <div class="versionadded">
    
    5.3.0
    
    </div>
    
    <div class="versionchanged">
    
    6.0.0
    
    </div>
    
    Modify default from `[]` to `['booktabs', 'colorrows']`.

<div class="confval" type=":code-py:`bool`" default=":code-py:`True if latex_engine in {&#39;xelatex&#39;, &#39;lualatex&#39;} else False`">

latex\_use\_xindy

Use [Xindy]() to prepare the index of general terms. By default, the LaTeX builder uses `makeindex` for preparing the index of general terms . Using [Xindy]() means that words with UTF-8 characters will be ordered correctly for the `language`.

  - This option is ignored if `latex_engine` is `'platex'` (Japanese documents; `mendex` replaces `makeindex` then).
  - The default is `True` for `'xelatex'` or `'lualatex'` as `makeindex` creates `.ind` files containing invalid bytes for the UTF-8 encoding if any indexed term starts with a non-ASCII character. With `'lualatex'` this then breaks the PDF build.
  - The default is `False` for `'pdflatex'`, but `True` is recommended for non-English documents as soon as some indexed terms use non-ASCII characters from the language script.

Sphinx adds some dedicated support to the `xindy` base distribution for using `'pdflatex'` engine with Cyrillic scripts. With both `'pdflatex'` and Unicode engines, Cyrillic documents handle the indexing of Latin names correctly, even those having diacritics.

<div class="versionadded">

1.8

</div>

</div>

<div class="confval" type=":code-py:`dict[str, str]`" default=":code-py:`{}`">

latex\_elements

<div class="versionadded">

0.5

</div>

\[See the full documentation for latex\_elements \<latex\_elements\_confval\>\](\#see-the-full-documentation-for-latex\_elements--\<latex\_elements\_confval\>).

</div>

<div class="confval" type=":code-py:`dict[str, str]`" default=":code-py:`{}`">

latex\_docclass

A dictionary mapping `'howto'` and `'manual'` to names of real document classes that will be used as the base for the two Sphinx classes. Default is to use `'article'` for `'howto'` and `'report'` for `'manual'`.

<div class="versionadded">

1.0

</div>

<div class="versionchanged">

1.5 In Japanese documentation (`language` is `'ja'`), by default `'jreport'` is used for `'howto'` and `'jsbook'` for `'manual'`.

</div>

</div>

<div class="confval" type=":code-py:`Sequence[str]`" default=":code-py:`()`">

latex\_additional\_files

A list of file names, relative to the `configuration directory`, to copy to the build directory when building LaTeX output. This is useful to copy files that Sphinx doesn't copy automatically, or to overwrite Sphinx LaTeX support files with custom versions. Image files that are referenced in source files (e.g. via `.. image::`) are copied automatically and should not be listed there.

<div class="attention">

<div class="title">

Attention

</div>

Filenames with the `.tex` extension will be automatically handed over to the PDF build process triggered by `sphinx-build -M latexpdf <sphinx-build -M>` or by `make latexpdf`. If the file was added only to be `\\input{}` from a modified preamble, you must add a further suffix such as `.txt` to the filename and adjust the `\\input{}` macro accordingly.

</div>

<div class="versionadded">

0.6

</div>

<div class="versionchanged">

1.2 This overrides the files provided from Sphinx such as `sphinx.sty`.

</div>

</div>

<div class="confval" type=":code-py:`str`" default=":code-py:`&#39;manual&#39;`">

latex\_theme

The "theme" that the LaTeX output should use. It is a collection of settings for LaTeX output (e.g. document class, top level sectioning unit and so on).

The bundled first-party LaTeX themes are *manual* and *howto*:

  - `manual`  
    A LaTeX theme for writing a manual. It imports the `report` document class (Japanese documents use `jsbook`).

  - `howto`  
    A LaTeX theme for writing an article. It imports the `article` document class (Japanese documents use `jreport`). `latex_appendices` is only available for this theme.

<div class="versionadded">

3.0

</div>

</div>

<div class="confval" type=":code-py:`dict[str, Any]`" default=":code-py:`{}`">

latex\_theme\_options

A dictionary of options that influence the look and feel of the selected theme. These are theme-specific.

<div class="versionadded">

3.1

</div>

</div>

<div class="confval" type=":code-py:`list[str]`" default=":code-py:`[]`">

latex\_theme\_path

A list of paths that contain custom LaTeX themes as subdirectories. Relative paths are taken as relative to the `configuration directory`.

<div class="versionadded">

3.0

</div>

</div>

<div id="text-options">

Options for text output `` ` -----------------------  These options influence text output.  .. confval:: text_add_secnumbers    :type: :code-py:`bool`    :default: :code-py:`True`     Include section numbers in text output.     .. versionadded:: 1.7  .. confval:: text_newlines    :type: :code-py:`'unix' | 'windows' | 'native'`    :default: :code-py:`'unix'`     Determines which end-of-line character(s) are used in text output.     :code-py:`'unix'`       Use Unix-style line endings ( ``n``).    :code-py:`'windows'`       Use Windows-style line endings (``rn``).    :code-py:`'native'`       Use the line ending style of the platform the documentation is built on.     .. versionadded:: 1.1  .. confval:: text_secnumber_suffix    :type: :code-py:`str`    :default: :code-py:`'. '`     Suffix for section numbers in text output.    Set to :code-py:`' '` to suppress the final dot on section numbers.     .. versionadded:: 1.7  .. confval:: text_sectionchars    :type: :code-py:`str`    :default: :code-py:`'*=-~"+\`'`     A string of 7 characters that should be used for underlining sections.    The first character is used for first-level headings,    the second for second-level headings and so on.     .. versionadded:: 1.1   .. _man-options:  Options for manual page output ------------------------------  These options influence manual page output.  .. confval:: man_pages    :type: :code-py:`Sequence[tuple[str, str, str, str, str]]`    :default: The default manual pages     This value determines how to group the document tree    into manual pages.    It must be a list of tuples``(startdocname, name, description, authors, section)``,    where the items are:     *startdocname*      String that specifies the :term:`document name` of      the manual page's master document.      All documents referenced by the *startdoc* document in      ToC trees will be included in the manual page.      (If you want to use the default master document for your manual pages build,      provide your :confval:`master_doc` here.)     *name*      Name of the manual page.      This should be a short string without spaces or special characters.      It is used to determine the file name as well as the      name of the manual page (in the NAME section).     *description*      Description of the manual page.      This is used in the NAME section.      Can be an empty string if you do not want to      automatically generate the NAME section.     *authors*      A list of strings with authors, or a single string.      Can be an empty string or list if you do not want to      automatically generate an AUTHORS section in the manual page.     *section*      The manual page section.      Used for the output file name as well as in the manual page header.     .. versionadded:: 1.0  .. confval:: man_show_urls    :type: :code-py:`bool`    :default: :code-py:`False`     Add URL addresses after links.     .. versionadded:: 1.1  .. confval:: man_make_section_directory    :type: :code-py:`bool`    :default: :code-py:`True`     Make a section directory on build man page.     .. versionadded:: 3.3     .. versionchanged:: 4.0       The default is now :code-py:`False` (previously :code-py:`True`).     .. versionchanged:: 4.0.2       Revert the change in the default.   .. _texinfo-options:  Options for Texinfo output --------------------------  These options influence Texinfo output.  .. confval:: texinfo_documents    :type: :code-py:`Sequence[tuple[str, str, str, str, str, str, str, bool]]`    :default: The default Texinfo documents     This value determines how to group the document tree    into Texinfo source files.    It must be a list of tuples``(startdocname, targetname, title, author, dir\_entry, description, category, toctree\_only)``,    where the items are:     *startdocname*       String that specifies the :term:`document name` of       the Texinfo file's master document.       All documents referenced by the *startdoc* document in       ToC trees will be included in the Texinfo file.       (If you want to use the default master document for your Texinfo build,       provide your :confval:`master_doc` here.)     *targetname*       File name (no extension) of the Texinfo file in the output directory.     *title*       Texinfo document title.       Can be empty to use the title of the *startdoc*       document.  Inserted as Texinfo markup,       so special characters like``@`and`{}`will need to       be escaped to be inserted literally.     *author*       Author for the Texinfo document.       Inserted as Texinfo markup.       Use`@\*`to separate multiple authors, as in:`'<John@*Sarah'>`.     *dir_entry*       The name that will appear in the top-level`DIR`menu file.     *description*       Descriptive text to appear in the top-level`DIR`menu file.     *category*       Specifies the section which this entry will appear in the top-level`DIR``menu file.     *toctree_only*       Must be :code-py:`True` or :code-py:`False`.       If True, the *startdoc* document itself is not included in the output,       only the documents referenced by it via ToC trees.       With this option, you can put extra stuff in the master document       that shows up in the HTML, but not the Texinfo output.     .. versionadded:: 1.1  .. confval:: texinfo_appendices    :type: :code-py:`Sequence[str]`    :default: :code-py:`[]`     A list of document names to append as an appendix to all manuals.     .. versionadded:: 1.1  .. confval:: texinfo_cross_references    :type: :code-py:`bool`    :default: :code-py:`True`     Generate inline references in a document.    Disabling inline references can make an info file more readable    with a stand-alone reader (``info``).     .. versionadded:: 4.4  .. confval:: texinfo_domain_indices    :type: :code-py:`bool | Sequence[str]`    :default: :code-py:`True`     If True, generate domain-specific indices in addition to the general index.    For e.g. the Python domain, this is the global module index.     This value can be a Boolean or a list of index names that should be generated.    To find out the index name for a specific index, look at the HTML file name.    For example, the Python module index has the name``'py-modindex'`.     Example:`\`python texinfo\_domain\_indices = { 'py-modindex', }

</div>

> 
> 
> <div class="versionadded">
> 
> 1.1
> 
> </div>
> 
> <div class="versionchanged">
> 
> 7.4 Permit and prefer a set type.
> 
> </div>

<div class="confval" type=":code-py:`dict[str, Any]`" default=":code-py:`{}`">

texinfo\_elements

A dictionary that contains Texinfo snippets that override those that Sphinx usually puts into the generated `.texi` files.

  - Keys that you may want to override include:
      - `'paragraphindent'`  
        Number of spaces to indent the first line of each paragraph, default `2`. Specify `0` for no indentation.
    
      - `'exampleindent'`  
        Number of spaces to indent the lines for examples or literal blocks, default `4`. Specify `0` for no indentation.
    
      - `'preamble'`  
        Texinfo markup inserted near the beginning of the file.
    
      - `'copying'`  
        Texinfo markup inserted within the `@copying` block and displayed after the title. The default value consists of a simple title page identifying the project.
  - Keys that are set by other options and therefore should not be overridden are `'author'`, `'body'`, `'date'`, `'direntry'` `'filename'`, `'project'`, `'release'`, and `'title'`.

<div class="versionadded">

1.1

</div>

</div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`False`">

texinfo\_no\_detailmenu

Do not generate a `@detailmenu` in the "Top" node's menu containing entries for each sub-node in the document.

<div class="versionadded">

1.2

</div>

</div>

<div class="confval" type=":code-py:`&#39;footnote&#39; | &#39;no&#39; | &#39;inline&#39;`" default=":code-py:`&#39;footnote&#39;`">

texinfo\_show\_urls

Control how to display URL addresses. The setting can have the following values:

  - `'footnote'`  
    Display URLs in footnotes.

  - `'no'`  
    Do not display URLs.

  - `'inline'`  
    Display URLs inline in parentheses.

<div class="versionadded">

1.1

</div>

</div>

<div id="qthelp-options">

Options for QtHelp output `` ` --------------------------  These options influence qthelp output. This builder derives from the HTML builder, so the HTML options also apply where appropriate.  .. confval:: qthelp_basename    :type: :code-py:`str`    :default: The value of **project**     The basename for the qthelp file.  .. confval:: qthelp_namespace    :type: :code-py:`str`    :default: :code-py:`'org.sphinx.{project_name}.{project_version}'`     The namespace for the qthelp file.  .. confval:: qthelp_theme    :type: :code-py:`str`    :default: :code-py:`'nonav'`     The HTML theme for the qthelp output.  .. confval:: qthelp_theme_options    :type: :code-py:`dict[str, Any]`    :default: :code-py:`{}`     A dictionary of options that influence the    look and feel of the selected theme.    These are theme-specific.    The options understood by the [builtin themes    <builtin-themes>](#builtin-themes ---<builtin-themes>) are described [here <builtin-themes>](#here-<builtin-themes>).   Options for XML output ----------------------  .. confval:: xml_pretty    :type: :code-py:`bool`    :default: :code-py:`True`     Pretty-print the XML.     .. versionadded:: 1.2   Options for the linkcheck builder ---------------------------------  Filtering ~~~~~~~~~  These options control which links the *linkcheck* builder checks, and which failures and redirects it ignores.  .. confval:: linkcheck_allowed_redirects    :type: :code-py:`dict[str, str]`    :default: :code-py:`{}`     A dictionary that maps a pattern of the source URI    to a pattern of the canonical URI.    The *linkcheck* builder treats the redirected link as "working" when:     * the link in the document matches the source URI pattern, and    * the redirect location matches the canonical URI pattern.     The *linkcheck* builder will emit a warning when    it finds redirected links that don't meet the rules above.    It can be useful to detect unexpected redirects when using    :option:`the fail-on-warnings mode <sphinx-build --fail-on-warning>`.     Example: ``\`python linkcheck\_allowed\_redirects = { \# All HTTP redirections from the source URI to \# the canonical URI will be treated as "working". r'<https://sphinx-doc\.org/>.*': r'https://sphinx-doc.org/en/master/.*' }

</div>

> 
> 
> <div class="versionadded">
> 
> 4.1
> 
> </div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`True`">

linkcheck\_anchors

Check the validity of `#anchor`s in links. Since this requires downloading the whole document, it is considerably slower when enabled.

<div class="versionadded">

1.2

</div>

</div>

<div class="confval" type=":code-py:`Sequence[str]`" default=":code-py:`[&quot;^!&quot;]`">

linkcheck\_anchors\_ignore

A list of regular expressions that match anchors that the *linkcheck* builder should skip when checking the validity of anchors in links. For example, this allows skipping anchors added by a website's JavaScript.

<div class="tip">

<div class="title">

Tip

</div>

Use `linkcheck_anchors_ignore_for_url` to check a URL, but skip verifying that the anchors exist.

</div>

<div class="note">

<div class="title">

Note

</div>

If you want to ignore anchors of a specific page or of pages that match a specific pattern (but still check occurrences of the same page(s) that don't have anchors), use `linkcheck_ignore` instead, for example as follows:

``` python
linkcheck_ignore = [
   'https://www.sphinx-doc.org/en/1.7/intro.html#',
]
```

</div>

<div class="versionadded">

1.5

</div>

</div>

<div class="confval" type=":code-py:`Sequence[str]`" default=":code-py:`()`">

linkcheck\_anchors\_ignore\_for\_url

A list or tuple of regular expressions matching URLs for which the *linkcheck* builder should not check the validity of anchors. This allows skipping anchor checks on a per-page basis while still checking the validity of the page itself.

<div class="versionadded">

7.1

</div>

</div>

<div class="confval" type=":code-py:`Sequence[str]`" default=":code-py:`()`">

linkcheck\_exclude\_documents

A list of regular expressions that match documents in which the *linkcheck* builder should not check the validity of links. This can be used for permitting link decay in legacy or historical sections of the documentation.

Example:

``` python
# ignore all links in documents located in a subdirectory named 'legacy'
linkcheck_exclude_documents = [r'.*/legacy/.*']
```

<div class="versionadded">

4.4

</div>

</div>

<div class="confval" type=":code-py:`Sequence[str]`" default=":code-py:`()`">

linkcheck\_ignore

A list of regular expressions that match URIs that should not be checked when doing a `linkcheck` build.

Example:

``` python
linkcheck_ignore = [r'https://localhost:\d+/']
```

<div class="versionadded">

1.1

</div>

</div>

HTTP Requests `` ` ~~~~~~~~~~~~~  These options control how the *linkcheck* builder makes HTTP requests, including how it handles redirects and authentication, and the number of workers to use.  .. confval:: linkcheck_auth    :type: :code-py:`Sequence[tuple[str, Any]]`    :default: :code-py:`[]`     Pass authentication information when doing a ``linkcheck``build.     A list of :code-py:`(regex_pattern, auth_info)` tuples where the items are:     *regex_pattern*      A regular expression that matches a URI.    *auth_info*      Authentication information to use for that URI.      The value can be anything that is understood by the``requests`library      (see [requests authentication <requests:authentication>](#requests-authentication-<requests:authentication>) for details).     The *linkcheck* builder will use the first matching`auth\_info``value    it can find in the :confval:`!linkcheck_auth` list,    so values earlier in the list have higher priority.     Example:``\`python linkcheck\_auth = \[ ('<https://foo\.yourcompany\.com/.+>', ('johndoe', 'secret')), ('<https://.+\.yourcompany\.com/.+>', HTTPDigestAuth(...)), \]

> 
> 
> <div class="versionadded">
> 
> 2.3
> 
> </div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`False`">

linkcheck\_allow\_unauthorized

When a webserver responds with an HTTP 401 (unauthorised) response, the current default behaviour of the *linkcheck* builder is to treat the link as "broken". To change that behaviour, set this option to `True`.

<div class="versionchanged">

8.0 The default value for this option changed to `False`, meaning HTTP 401 responses to checked hyperlinks are treated as "broken" by default.

</div>

<div class="versionadded">

7.3

</div>

</div>

<div class="confval" type=":code-py:`int`" default=":code-py:`300`">

linkcheck\_rate\_limit\_timeout

The *linkcheck* builder may issue a large number of requests to the same site over a short period of time. This setting controls the builder behaviour when servers indicate that requests are rate-limited, by setting the maximum duration (in seconds) that the builder will wait for between each attempt before recording a failure.

The *linkcheck* builder always respects a server's direction of when to retry (using the [Retry-After]() header). Otherwise, `linkcheck` waits for a minute before to retry and keeps doubling the wait time between attempts until it succeeds or exceeds the `!linkcheck_rate_limit_timeout` (in seconds). Custom timeouts should be given as a number of seconds.

<div class="versionadded">

3.4

</div>

</div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`False`">

linkcheck\_report\_timeouts\_as\_broken

If `linkcheck_timeout` expires while waiting for a response from a hyperlink, the *linkcheck* builder will report the link as a `timeout` by default. To report timeouts as `broken` instead, you can set `linkcheck_report_timeouts_as_broken` to `True`.

<div class="versionchanged">

8.0 The default value for this option changed to `False`, meaning timeouts that occur while checking hyperlinks will be reported using the new 'timeout' status code.

</div>

<div class="versionadded">

7.3

</div>

</div>

<div class="confval" type=":code-py:`dict[str, dict[str, str]]`" default=":code-py:`{}`">

linkcheck\_request\_headers

A dictionary that maps URL (without paths) to HTTP request headers.

The key is a URL base string like `'https://www.sphinx-doc.org/'`. To specify headers for other hosts, `"*"` can be used. It matches all hosts only when the URL does not match other settings.

The value is a dictionary that maps header name to its value.

Example:

``` python
linkcheck_request_headers = {
    "https://www.sphinx-doc.org/": {
        "Accept": "text/html",
        "Accept-Encoding": "utf-8",
    },
    "*": {
        "Accept": "text/html,application/xhtml+xml",
    }
}
```

<div class="versionadded">

3.1

</div>

</div>

<div class="confval" type=":code-py:`int`" default=":code-py:`1`">

linkcheck\_retries

The number of times the *linkcheck* builder will attempt to check a URL before declaring it broken.

<div class="versionadded">

1.4

</div>

</div>

<div class="confval" type=":code-py:`int`" default=":code-py:`30`">

linkcheck\_timeout

The duration, in seconds, that the *linkcheck* builder will wait for a response after each hyperlink request.

<div class="versionadded">

1.1

</div>

</div>

<div class="confval" type=":code-py:`int`" default=":code-py:`5`">

linkcheck\_workers

The number of worker threads to use when checking links.

<div class="versionadded">

1.1

</div>

</div>

Domain options `` ` ==============   .. _c-config:  Options for the C domain ------------------------  .. confval:: c_extra_keywords    :type: :code-py:`Set[str] | Sequence[str]`    :default: :code-py:`['alignas', 'alignof', 'bool',                        'complex', 'imaginary', 'noreturn',                        'static_assert', 'thread_local']`     A list of identifiers to be recognised as keywords by the C parser.     .. versionadded:: 4.0.3    .. versionchanged:: 7.4       :confval:`!c_extra_keywords` can now be a set.  .. confval:: c_id_attributes    :type: :code-py:`Sequence[str]`    :default: :code-py:`()`     A sequence of strings that the parser should additionally accept    as attributes.    For example, this can be used when  :code-c:`#define`    has been used for attributes, for portability.     Example: ``\`python c\_id\_attributes = \[ 'my\_id\_attribute', \]

> 
> 
> <div class="versionadded">
> 
> 3.0
> 
> </div>
> 
> <div class="versionchanged">
> 
> 7.4 `!c_id_attributes` can now be a tuple.
> 
> </div>

<div class="confval" type=":code-py:`int | None`" default=":code-py:`None`">

c\_maximum\_signature\_line\_length

If a signature's length in characters exceeds the number set, each parameter within the signature will be displayed on an individual logical line.

When `None`, there is no maximum length and the entire signature will be displayed on a single logical line.

This is a domain-specific setting, overriding `maximum_signature_line_length`.

<div class="versionadded">

7.1

</div>

</div>

<div class="confval" type=":code-py:`Sequence[str]`" default=":code-py:`()`">

c\_paren\_attributes

A sequence of strings that the parser should additionally accept as attributes with one argument. That is, if `my_align_as` is in the list, then `my_align_as(X)` is parsed as an attribute for all strings `X` that have balanced braces (`()`, `[]`, and `{}`). For example, this can be used when `#define` has been used for attributes, for portability.

Example:

``` python
c_paren_attributes = [
    'my_align_as',
]
```

<div class="versionadded">

3.0

</div>

<div class="versionchanged">

7.4 `!c_paren_attributes` can now be a tuple.

</div>

</div>

<div id="cpp-config">

Options for the C++ domain `` ` --------------------------  .. confval:: cpp_id_attributes    :type: :code-py:`Sequence[str]`    :default: :code-py:`()`     A sequence of strings that the parser should additionally accept    as attributes.    For example, this can be used when  :code-cpp:`#define`    has been used for attributes, for portability.     Example: ``\`python cpp\_id\_attributes = \[ 'my\_id\_attribute', \]

</div>

> 
> 
> <div class="versionadded">
> 
> 1.5
> 
> </div>
> 
> <div class="versionchanged">
> 
> 7.4 `!cpp_id_attributes` can now be a tuple.
> 
> </div>

<div class="confval" type=":code-py:`Sequence[str]`" default=":code-py:`()`">

cpp\_index\_common\_prefix

A list of prefixes that will be ignored when sorting C++ objects in the global index.

Example:

``` python
cpp_index_common_prefix = [
    'awesome_lib::',
]
```

<div class="versionadded">

1.5

</div>

</div>

<div class="confval" type=":code-py:`int | None`" default=":code-py:`None`">

cpp\_maximum\_signature\_line\_length

If a signature's length in characters exceeds the number set, each parameter within the signature will be displayed on an individual logical line.

When `None`, there is no maximum length and the entire signature will be displayed on a single logical line.

This is a domain-specific setting, overriding `maximum_signature_line_length`.

<div class="versionadded">

7.1

</div>

</div>

<div class="confval" type=":code-py:`Sequence[str]`" default=":code-py:`()`">

cpp\_paren\_attributes

A sequence of strings that the parser should additionally accept as attributes with one argument. That is, if `my_align_as` is in the list, then `my_align_as(X)` is parsed as an attribute for all strings `X` that have balanced braces (`()`, `[]`, and `{}`). For example, this can be used when `#define` has been used for attributes, for portability.

Example:

``` python
cpp_paren_attributes = [
    'my_align_as',
]
```

<div class="versionadded">

1.5

</div>

<div class="versionchanged">

7.4 `!cpp_paren_attributes` can now be a tuple.

</div>

</div>

Options for the Javascript domain `` ` ---------------------------------  .. confval:: javascript_maximum_signature_line_length    :type: :code-py:`int | None`    :default: :code-py:`None`     If a signature's length in characters exceeds the number set,    each parameter within the signature will be displayed on    an individual logical line.     When :code-py:`None`, there is no maximum length and the entire    signature will be displayed on a single logical line.     This is a domain-specific setting,    overriding :confval:`maximum_signature_line_length`.     .. versionadded:: 7.1   Options for the Python domain -----------------------------  .. confval:: add_module_names    :type: :code-py:`bool`    :default: :code-py:`True`     A boolean that decides whether module names are prepended    to all :term:`object` names    (for object types where a "module" of some kind is defined),    e.g. for :rst:dir:`py:function` directives.  .. confval:: modindex_common_prefix    :type: :code-py:`list[str]`    :default: :code-py:`[]`     A list of prefixes that are ignored for sorting the Python module index    (e.g., if this is set to :code-py:`['foo.']`,    then ``foo.bar`is shown under`B`, not`F``).    This can be handy if you document a project that consists of a    single package.     .. caution::       Works only for the HTML builder currently.     .. versionadded:: 0.6  .. confval:: python_display_short_literal_types    :type: :code-py:`bool`    :default: :code-py:`False`     This value controls how :py`~typing.Literal` types are displayed.     Examples    ~~~~~~~~     The examples below use the following :rst:dir:`py:function` directive:``\`rst .. py:function:: serve\_food(item: Literal\["egg", "spam", "lobster thermidor"\]) -\> None

> When `False`, :py\`\~typing.Literal\` types display as per standard Python syntax, i.e.:
> 
> ``` python
> serve_food(item: Literal["egg", "spam", "lobster thermidor"]) -> None
> ```
> 
> When `True`, :py\`\~typing.Literal\` types display with a short, [PEP 604](http://www.python.org/dev/peps/pep-0604/ "PEP 604")-inspired syntax, i.e.:
> 
> ``` python
> serve_food(item: "egg" | "spam" | "lobster thermidor") -> None
> ```
> 
> <div class="versionadded">
> 
> 6.2
> 
> </div>

<div class="confval" type=":code-py:`int | None`" default=":code-py:`None`">

python\_maximum\_signature\_line\_length

If a signature's length in characters exceeds the number set, each parameter within the signature will be displayed on an individual logical line.

When `None`, there is no maximum length and the entire signature will be displayed on a single logical line.

This is a domain-specific setting, overriding `maximum_signature_line_length`.

For the Python domain, the signature length depends on whether the type parameters or the list of arguments are being formatted. For the former, the signature length ignores the length of the arguments list; for the latter, the signature length ignores the length of the type parameters list.

For instance, with `python_maximum_signature_line_length = 20`, only the list of type parameters will be wrapped while the arguments list will be rendered on a single line

``` rst
.. py:function:: add[T: VERY_LONG_SUPER_TYPE, U: VERY_LONG_SUPER_TYPE](a: T, b: U)
```

<div class="versionadded">

7.1

</div>

</div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`False`">

python\_use\_unqualified\_type\_names

Suppress the module name of the python reference if it can be resolved.

<div class="versionadded">

4.0

</div>

<div class="caution">

<div class="title">

Caution

</div>

This feature is experimental.

</div>

</div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`True`">

trim\_doctest\_flags

Remove doctest flags (comments looking like `# doctest: FLAG, ...`) at the ends of lines and `<BLANKLINE>` markers for all code blocks showing interactive Python sessions (i.e. doctests). See the extension `~sphinx.ext.doctest` for more possibilities of including doctests.

<div class="versionadded">

1.0

</div>

<div class="versionchanged">

1.1 Now also removes `<BLANKLINE>`.

</div>

</div>

Extension options `` ` =================  Extensions frequently have their own configuration options. Those for Sphinx's first-party extensions are documented in each [extension's page </usage/extensions/index>](extension's page </usage/extensions/index>.md).   Example configuration file ========================== ``\`python \# -- Project information -----------------------------------------------------\# <https://www.sphinx-doc.org/en/master/usage/configuration.html#project-information>

project = 'Test Project' copyright = '2000-2042, The Test Project Authors' author = 'The Authors' version = release = '4.16'

\# -- General configuration ------------------------------------------------\# <https://www.sphinx-doc.org/en/master/usage/configuration.html#general-configuration>

  - exclude\_patterns = \[  
    '\_build', 'Thumbs.db', '.DS\_Store',

\] extensions = \[\] language = 'en' master\_doc = 'index' pygments\_style = 'sphinx' source\_suffix = '.rst' templates\_path = \['\_templates'\]

\# -- Options for HTML output ----------------------------------------------\# <https://www.sphinx-doc.org/en/master/usage/configuration.html#options-for-html-output>

html\_theme = 'alabaster' html\_static\_path = \['\_static'\] \`\`\`

---

c.md

---

# The C Domain

<div class="versionadded">

1.0

</div>

The C domain (name **c**) is suited for documentation of C API.

## Cross-referencing C constructs

The following roles create cross-references to C-language constructs if they are defined in the documentation:

## Anonymous Entities

C supports anonymous structs, enums, and unions. For the sake of documentation they must be given some name that starts with `@`, e.g., `@42` or `@data`. These names can also be used in cross-references, though nested symbols will be found even when omitted. The `@...` name will always be rendered as **\[anonymous\]** (possibly as a link).

Example:

``` rst
.. c:struct:: Data

   .. c:union:: @data

      .. c:var:: int a

      .. c:var:: double b

Explicit ref: :c:var:`Data.@data.a`. Short-hand ref: :c:var:`Data.a`.
```

This will be rendered as:

Explicit ref: :c`Data.@data.a`. Short-hand ref: :c`Data.a`.

<div class="versionadded">

3.0

</div>

## Aliasing Declarations

Sometimes it may be helpful list declarations elsewhere than their main documentation, e.g., when creating a synopsis of an interface. The following directive can be used for this purpose.

## Inline Expressions and Types

## Namespacing

<div class="versionadded">

3.1

</div>

The C language it self does not support namespacing, but it can sometimes be useful to emulate it in documentation, e.g., to show alternate declarations. The feature may also be used to document members of structs/unions/enums separate from their parent declaration.

The current scope can be changed using three namespace directives. They manage a stack declarations where `c:namespace` resets the stack and changes a given scope.

The `c:namespace-push` directive changes the scope to a given inner scope of the current one.

The `c:namespace-pop` directive undoes the most recent `c:namespace-push` directive.

## Configuration Variables

See \[c-config\](\#c-config).

---

cpp.md

---

# The C++ Domain

<div class="versionadded">

1.0

</div>

The C++ domain (name **cpp**) supports documenting C++ projects.

## Directives for Declaring Entities

The following directives are available. All declarations can start with a visibility statement (`public`, `private` or `protected`).

### Options

Some directives support options:

  - `:no-index-entry:` and `:no-contents-entry:`, see \[basic-domain-markup\](\#basic-domain-markup).

  - `:tparam-line-spec:`, for templated declarations. If specified, each template parameter will be rendered on a separate line.
    
    <div class="versionadded">
    
    1.6
    
    </div>

## Anonymous Entities

C++ supports anonymous namespaces, classes, enums, and unions. For the sake of documentation they must be given some name that starts with `@`, e.g., `@42` or `@data`. These names can also be used in cross-references and (type) expressions, though nested symbols will be found even when omitted. The `@...` name will always be rendered as **\[anonymous\]** (possibly as a link).

Example:

``` rst
.. cpp:class:: Data

   .. cpp:union:: @data

      .. cpp:var:: int a

      .. cpp:var:: double b

Explicit ref: :cpp:var:`Data::@data::a`. Short-hand ref: :cpp:var:`Data::a`.
```

This will be rendered as:

Explicit ref: :cpp`Data::@data::a`. Short-hand ref: :cpp`Data::a`.

<div class="versionadded">

1.8

</div>

## Aliasing Declarations

Sometimes it may be helpful list declarations elsewhere than their main documentation, e.g., when creating a synopsis of a class interface. The following directive can be used for this purpose.

## Constrained Templates

<div class="warning">

<div class="title">

Warning

</div>

The support for concepts is experimental. It is based on the current draft standard and the Concepts Technical Specification. The features may change as they evolve.

</div>

<div class="note">

<div class="title">

Note

</div>

Sphinx does not currently support `requires` clauses.

</div>

### Placeholders

Declarations may use the name of a concept to introduce constrained template parameters, or the keyword `auto` to introduce unconstrained template parameters:

``` rst
.. cpp:function:: void f(auto &&arg)

   A function template with a single unconstrained template parameter.

.. cpp:function:: void f(std::Iterator it)

   A function template with a single template parameter, constrained by the
   Iterator concept.
```

### Template Introductions

Simple constrained function or class templates can be declared with a <span class="title-ref">template introduction</span> instead of a template parameter list:

``` rst
.. cpp:function:: std::Iterator{It} void advance(It &it)

    A function template with a template parameter constrained to be an
    Iterator.

.. cpp:class:: std::LessThanComparable{T} MySortedContainer

    A class template with a template parameter constrained to be
    LessThanComparable.
```

They are rendered as follows.

Note however that no checking is performed with respect to parameter compatibility. E.g., `Iterator{A, B, C}` will be accepted as an introduction even though it would not be valid C++.

## Inline Expressions and Types

## Namespacing

Declarations in the C++ domain are as default placed in global scope. The current scope can be changed using three namespace directives. They manage a stack declarations where `cpp:namespace` resets the stack and changes a given scope.

The `cpp:namespace-push` directive changes the scope to a given inner scope of the current one.

The `cpp:namespace-pop` directive undoes the most recent `cpp:namespace-push` directive.

## Info field lists

All the C++ directives for declaring entities support the following info fields (see also \[info-field-lists\](\#info-field-lists)):

  - `tparam`: Description of a template parameter.

The :rst`cpp:function` directive additionally supports the following fields:

  - `param`, `parameter`, `arg`, `argument`: Description of a parameter.
  - `returns`, `return`: Description of a return value.
  - `retval`, `retvals`: An alternative to `returns` for describing the result of the function.
  - `throws`, `throw`, `exception`: Description of a possibly thrown exception.

<div class="versionadded">

4.3 The `retval` field type.

</div>

## Cross-referencing

These roles link to the given declaration types:

<div class="admonition">

Note on References with Templates Parameters/Arguments

These roles follow the Sphinx \[xref-syntax\](\#xref-syntax) rules. This means care must be taken when referencing a (partial) template specialization, e.g. if the link looks like this: ``:cpp`MyClass<int>``<span class="title-ref">. This is interpreted as a link to </span><span class="title-ref">int</span><span class="title-ref"> with a title of </span><span class="title-ref">MyClass</span><span class="title-ref">. In this case, escape the opening angle bracket with a backslash, like this: </span><span class="title-ref">:cpp\`MyClass\<int\></span>\`\`.

When a custom title is not needed it may be useful to use the roles for inline expressions, :rst`cpp:expr` and :rst`cpp:texpr`, where angle brackets do not need escaping.

</div>

### Declarations without template parameters and template arguments

For linking to non-templated declarations the name must be a nested name, e.g., `f` or `MyClass::f`.

### Overloaded (member) functions

When a (member) function is referenced using just its name, the reference will point to an arbitrary matching overload. The :rst`cpp:any` and :rst`cpp:func` roles use an alternative format, which simply is a complete function declaration. This will resolve to the exact matching overload. As example, consider the following class declaration:

References using the :rst`cpp:func` role:

  - Arbitrary overload: `C::f`, :cpp\`C::f\`
  - Also arbitrary overload: `C::f()`, :cpp\`C::f()\`
  - Specific overload: `void C::f()`, :cpp\`void C::f()\`
  - Specific overload: `void C::f(int)`, :cpp\`void C::f(int)\`
  - Specific overload: `void C::f(double)`, :cpp\`void C::f(double)\`
  - Specific overload: `void C::f(double) const`, :cpp\`void C::f(double) const\`

Note that the `add_function_parentheses` configuration variable does not influence specific overload references.

### Templated declarations

Assume the following declarations.

In general the reference must include the template parameter declarations, and template arguments for the prefix of qualified names. For example:

  - `template\<typename TOuter> Wrapper::Outer` (:cpp\`template\<typename TOuter\> Wrapper::Outer\`)
  - `template\<typename TOuter> template\<typename TInner> Wrapper::Outer<TOuter>::Inner` (:cpp\`template\<typename TOuter\> template\<typename TInner\> Wrapper::Outer\<TOuter\>::Inner\`)

Currently the lookup only succeed if the template parameter identifiers are equal strings. That is, `template\<typename UOuter> Wrapper::Outer` will not work.

As a shorthand notation, if a template parameter list is omitted, then the lookup will assume either a primary template or a non-template, but not a partial template specialisation. This means the following references work as well:

  - `Wrapper::Outer` (:cpp\`Wrapper::Outer\`)
  - `Wrapper::Outer::Inner` (:cpp\`Wrapper::Outer::Inner\`)
  - `template\<typename TInner> Wrapper::Outer::Inner` (:cpp\`template\<typename TInner\> Wrapper::Outer::Inner\`)

### (Full) Template Specialisations

Assume the following declarations.

In general the reference must include a template parameter list for each template argument list. The full specialisation above can therefore be referenced with `template\<> Outer\<int>` (:cpp\`template\<\> Outer\<int\><span class="title-ref">) and </span><span class="title-ref">template\<\> template\<\> Outer\<int\>::Inner\<bool\></span><span class="title-ref"> (:cpp\`template\<\> template\<\> Outer\<int\>::Inner\<bool\></span>). As a shorthand the empty template parameter list can be omitted, e.g., `Outer\<int>` (:cpp\`Outer\<int\><span class="title-ref">) and </span><span class="title-ref">Outer\<int\>::Inner\<bool\></span><span class="title-ref"> (:cpp\`Outer\<int\>::Inner\<bool\></span>).

### Partial Template Specialisations

Assume the following declaration.

References to partial specialisations must always include the template parameter lists, e.g., `template\<typename T> Outer\<T*>` (:cpp\`template\<typename T\> Outer\<T\*\>\`). Currently the lookup only succeed if the template parameter identifiers are equal strings.

## Configuration Variables

See \[cpp-config\](\#cpp-config).

---

index.md

---

# Domains

<div class="versionadded">

1.0

</div>

Originally, Sphinx was conceived for a single project, the documentation of the Python language. Shortly afterwards, it was made available for everyone as a documentation tool, but the documentation of Python modules remained deeply built in -- the most fundamental directives, like `function`, were designed for Python objects. Since Sphinx has become somewhat popular, interest developed in using it for many different purposes: C/C++ projects, JavaScript, or even reStructuredText markup (like in this documentation).

While this was always possible, it is now much easier to easily support documentation of projects using different programming languages or even ones not supported by the main Sphinx distribution, by providing a **domain** for every such purpose.

A domain is a collection of markup (reStructuredText `directive`s and `role`s) to describe and link to `object`s belonging together, e.g. elements of a programming language. Directive and role names in a domain have names like `domain:name`, e.g. `py:function`. Domains can also provide custom indices (like the Python Module Index).

Having domains means that there are no naming problems when one set of documentation wants to refer to e.g. C++ and Python classes. It also means that extensions that support the documentation of whole new languages are much easier to write.

This section describes what the domains that are included with Sphinx provide. The domain API is documented as well, in the section \[domain-api\](\#domain-api).

## Basic Markup

Most domains provide a number of `object description directives`, used to describe specific objects provided by modules. Each directive requires one or more signatures to provide basic information about what is being described, and the content should be the description.

A domain will typically keep an internal index of all entities to aid cross-referencing. Typically it will also add entries in the shown general index. If you want to suppress the addition of an entry in the shown index, you can give the directive option flag `:no-index-entry:`. If you want to exclude the object description from the table of contents, you can give the directive option flag `:no-contents-entry:`. If you want to typeset an object description, without even making it available for cross-referencing, you can give the directive option flag `:no-index:` (which implies `:no-index-entry:`). If you do not want to typeset anything, you can give the directive option flag `:no-typesetting:`. This can for example be used to create only a target and index entry for later reference. Though, note that not every directive in every domain may support these options.

<div class="versionadded">

3.2 The directive option `noindexentry` in the Python, C, C++, and Javascript domains.

</div>

<div class="versionadded">

5.2.3 The directive option `:nocontentsentry:` in the Python, C, C++, Javascript, and reStructuredText domains.

</div>

<div class="versionadded">

7.2 The directive option `no-typesetting` in the Python, C, C++, Javascript, and reStructuredText domains.

</div>

<div class="versionchanged">

7.2

  - The directive option `:noindex:` was renamed to `:no-index:`.
  - The directive option `:noindexentry:` was renamed to `:no-index-entry:`.
  - The directive option `:nocontentsentry:` was renamed to `:no-contents-entry:`.

The previous names are retained as aliases, but will be deprecated and removed in a future version of Sphinx.

</div>

An example using a Python domain directive:

``` rst
.. py:function:: spam(eggs)
                 ham(eggs)

   Spam or ham the foo.
```

This describes the two Python functions `spam` and `ham`. (Note that when signatures become too long, you can break them if you add a backslash to lines that are continued in the next line. Example:

``` rst
.. py:function:: filterwarnings(action, message='', category=Warning, \
                                module='', lineno=0, append=False)
   :no-index:
```

(This example also shows how to use the `:no-index:` flag.)

The domains also provide roles that link back to these object descriptions. For example, to link to one of the functions described in the example above, you could say :

``` rst
The function :py`spam` does a similar thing.
```

As you can see, both directive and role names contain the domain name and the directive name.

The directive option `:no-typesetting:` can be used to create a target (and index entry) which can later be referenced by the roles provided by the domain. This is particularly useful for literate programming:

`` `rst    .. py:function:: spam(eggs)       :no-typesetting:     .. code:: python        def spam(eggs):           pass     The function :py`spam` does nothing.  .. rubric:: Default Domain  For documentation describing objects from solely one domain, authors will not ``<span class="title-ref"> have to state again its name at each directive, role, etc... after having specified a default. This can be done either via the config value :confval:\`primary\_domain</span> or via this directive:

If no other default is selected, the Python domain (named `py`) is the default one, mostly for compatibility with documentation written for older versions of Sphinx.

Directives and roles that belong to the default domain can be mentioned without giving the domain name, i.e. :

``` rst
.. function:: pyfunc()

   Describes a Python function.

Reference to `pyfunc`.
```

### Cross-referencing syntax

For cross-reference roles provided by domains, the same \[cross-referencing modifiers \<xref-modifiers\>\](\#cross-referencing-modifiers-\<xref-modifiers\>) exist as for general cross-references. In short:

  - You may supply an explicit title and reference target: ``:py:mod:`mathematical functions <math>``<span class="title-ref"> will refer to the </span><span class="title-ref">math</span>\` module, but the link text will be "mathematical functions".
  - If you prefix the content with an exclamation mark (`!`), no reference/hyperlink will be created.
  - If you prefix the content with `~`, the link text will only be the last component of the target. For example, ``:py`~queue.Queue.get``<span class="title-ref"> will refer to </span><span class="title-ref">queue.Queue.get</span><span class="title-ref"> but only display </span><span class="title-ref">get</span>\` as the link text.

## Built-in domains

The following domains are included within Sphinx:

<div class="toctree" data-maxdepth="1">

standard c cpp javascript mathematics python restructuredtext

</div>

## More domains

There are several third-party domains available as extensions, including:

  - [Ada](https://pypi.org/project/sphinxcontrib-adadomain/)
  - [Chapel](https://pypi.org/project/sphinxcontrib-chapeldomain/)
  - [CoffeeScript](https://pypi.org/project/sphinxcontrib-coffee/)
  - [Common Lisp](https://pypi.org/project/sphinxcontrib-cldomain/)
  - [dqn](https://pypi.org/project/sphinxcontrib-dqndomain/)
  - [Erlang](https://pypi.org/project/sphinxcontrib-erlangdomain/)
  - [Go](https://pypi.org/project/sphinxcontrib-golangdomain/)
  - [HTTP](https://pypi.org/project/sphinxcontrib-httpdomain/)
  - [Jinja](https://pypi.org/project/sphinxcontrib-jinjadomain/)
  - [Lasso](https://pypi.org/project/sphinxcontrib-lassodomain/)
  - [MATLAB](https://pypi.org/project/sphinxcontrib-matlabdomain/)
  - [Operation](https://pypi.org/project/sphinxcontrib-operationdomain/)
  - [PHP](https://pypi.org/project/sphinxcontrib-phpdomain/)
  - [Ruby](https://pypi.org/project/sphinxcontrib-rubydomain/)
  - [Scala](https://pypi.org/project/sphinxcontrib-scaladomain/)

---

javascript.md

---

# The JavaScript Domain

<div class="versionadded">

1.0

</div>

The JavaScript domain (name **js**) provides the following directives:

<div id="js-xref-roles">

These roles are provided to refer to the described objects:

</div>

---

mathematics.md

---

# The Mathematics Domain

<div class="versionadded">

1.8

</div>

The math domain (name **math**) provides the following roles:

---

python.md

---

# The Python Domain

<div class="versionadded">

1.0

</div>

The Python domain (name **py**) provides the following directives for module declarations:

The following directives are provided for module and class contents:

<div id="signatures">

Python Signatures `` ` -----------------  Signatures of functions, methods and class constructors can be given like they would be written in Python.  Default values for optional arguments can be given (but if they contain commas, they will confuse the signature parser).  Python 3-style argument annotations can also be given as well as return type annotations::     .. py:function:: compile(source : string, filename, symbol='file') -> ast object  For functions with optional parameters that don't have default values (typically functions implemented in C extension modules without keyword argument support), you can use brackets to specify the optional parts:  .. py:function:: compile(source[, filename[, symbol]])    :no-contents-entry:    :no-index-entry:  It is customary to put the opening bracket before the comma.  Python 3.12 introduced *type parameters*, which are type variables declared directly  within the class or function definition: ``\`python class AnimalList\[AnimalT\](list\[AnimalT\]): ...

</div>

>   - def add\[T\](a: T, b: T) -\> T:  
>     return a + b

The corresponding reStructuredText documentation would be:

``` rst
.. py:class:: AnimalList[AnimalT]

.. py:function:: add[T](a: T, b: T) -> T
```

See `695` and `696` for details and the full specification.

<div id="info-field-lists">

Info field lists `` ` ----------------  .. versionadded:: 0.4 .. versionchanged:: 3.0     meta fields are added.  Inside Python object description directives, reStructuredText field lists with these fields are recognized and formatted nicely:  * ``param`,`parameter`,`arg`,`argument`,`key`,`keyword`:   Description of a parameter. *`type`: Type of a parameter.  Creates a link if possible. *`raises`,`raise`,`except`,`exception`: That (and when) a specific   exception is raised. *`var`,`ivar`,`cvar`: Description of a variable. *`vartype`: Type of a variable.  Creates a link if possible. *`returns`,`return`: Description of the return value. *`rtype`: Return type.  Creates a link if possible. *`meta`: Add metadata to description of the python object.  The metadata will   not be shown on output document.  For example,`:meta private:``indicates   the python object is private member.  It is used in   :py:mod:`sphinx.ext.autodoc` for filtering members.  > **Note** >     In current release, all``var`,`ivar`and`cvar`are represented as    "Variable".  There is no difference at all.  The field names must consist of one of these keywords and an argument (except for`returns`and`rtype``, which do not need an argument).  This is best explained by an example::     .. py:function:: send_message(sender, recipient, message_body, [priority=1])        Send a message to a recipient        :param str sender: The person sending the message       :param str recipient: The recipient of the message       :param str message_body: The body of the message       :param priority: The priority of the message, can be a number 1-5       :type priority: integer or None       :return: the message id       :rtype: int       :raises ValueError: if the message_body exceeds 160 characters       :raises TypeError: if the message_body is not a basestring  This will render like this:  .. py:function:: send_message(sender, recipient, message_body, [priority=1])    :no-contents-entry:    :no-index-entry:     Send a message to a recipient     :param str sender: The person sending the message    :param str recipient: The recipient of the message    :param str message_body: The body of the message    :param priority: The priority of the message, can be a number 1-5    :type priority: int or None    :return: the message id    :rtype: int    :raises ValueError: if the message_body exceeds 160 characters    :raises TypeError: if the message_body is not a basestring  It is also possible to combine parameter type and description, if the type is a single word, like this::     :param int priority: The priority of the message, can be a number 1-5  .. versionadded:: 1.5  Container types such as lists and dictionaries can be linked automatically using the following syntax::     :type priorities: list(int)    :type priorities: list[int]    :type mapping: dict(str, int)    :type mapping: dict[str, int]    :type point: tuple(float, float)    :type point: tuple[float, float]  Multiple types in a type field will be linked automatically if separated by the word "or"::     :type an_arg: int or None    :vartype a_var: str or int    :rtype: float or str  .. _python-xref-roles:  Cross-referencing Python objects --------------------------------  The following roles refer to objects in modules and are possibly hyperlinked if a matching identifier is found:  .. rst:role:: py:mod     Reference a module; a dotted name may be used.  This should also be used for    package names.  .. rst:role:: py:func     Reference a Python function; dotted names may be used.  The role text needs    not include trailing parentheses to enhance readability; they will be added    automatically by Sphinx if the :confval:`add_function_parentheses` config    value is``True``(the default).  .. rst:role:: py:data     Reference a module-level variable.  .. rst:role:: py:const     Reference a "defined" constant.  This may be a Python variable that is not    intended to be changed.  .. rst:role:: py:class     Reference a class; a dotted name may be used.  .. rst:role:: py:meth     Reference a method of an object.  The role text can include the type name    and the method name; if it occurs within the description of a type, the type    name can be omitted.  A dotted name may be used.  .. rst:role:: py:attr     Reference a data attribute of an object.     .. note:: The role is also able to refer to property.  .. rst:role:: py:type     Reference a type alias.  .. rst:role:: py:exc     Reference an exception.  A dotted name may be used.  .. rst:role:: py:obj     Reference an object of unspecified type.  Useful e.g. as the    :confval:`default_role`.     .. versionadded:: 0.4   Target specification ^^^^^^^^^^^^^^^^^^^^  The target can be specified as a fully qualified name (e.g.``:py\`my\_module.MyClass.my\_method`` `) or any shortened version (e.g. ``:py\`MyClass.my\_method`` ` or ``:py\`my\_method`` `). See `target resolution`_ for details on the resolution of shortened names.  [Cross-referencing modifiers <xref-modifiers>](#cross-referencing-modifiers-<xref-modifiers>) can be applied. In short:  * You may supply an explicit title and reference target: ``:py`mathematical functions <math>``will refer to the`math`module,   but the link text will be "mathematical functions".  * If you prefix the content with an exclamation mark (`\!`),   no reference/hyperlink will be created.  * If you prefix the content with`\~`, the link text will only be the last   component of the target.   For example,`:py\`\~queue.Queue.get`` ` will   refer to ``queue.Queue.get`but only display`get`as the link text.   Target resolution ^^^^^^^^^^^^^^^^^  A given link target name is resolved to an object using the following strategy:  Names in these roles are searched first without any further qualification, then with the current module name prepended, then with the current module and class name (if any) prepended.  If you prefix the name with a dot (`.``), this order is reversed. For example, in the documentation of Python's :py:mod:`codecs` module,``:py\`open`` ` always refers to the built-in function, while ``:py\`.open`` ` refers to `codecs.open`.  A similar heuristic is used to determine whether the name is an attribute of the currently documented class.  Also, if the name is prefixed with a dot, and no exact match is found, the target is taken as a suffix and all object names with that suffix are searched. For example, ``:py\`.TarFile.close`` ` references the ``tarfile.TarFile.close()`function, even if the current module is not`tarfile`.  Since this can get ambiguous, if there is more than one possible match, you will get a warning from Sphinx.  Note that you can combine the`\~`and`.`prefixes:`:py\`\~.TarFile.close`` ` will reference the ``tarfile.TarFile.close()`method, but the visible link caption will only be`close()\`\`.

</div>

---

restructuredtext.md

---

# The reStructuredText Domain

<div class="versionadded">

1.0

</div>

The reStructuredText domain (name **rst**) provides the following directives:

<div id="rst-xref-roles">

These roles are provided to refer to the described objects:

</div>

---

standard.md

---

# The Standard Domain

<div class="versionadded">

1.0

</div>

The so-called "standard" domain collects all markup that doesn't warrant a domain of its own. Its directives and roles are not prefixed with a domain name.

The standard domain is also where custom object descriptions, added using the <span class="title-ref">\~sphinx.application.Sphinx.add\_object\_type</span> API, are placed.

There is a set of directives allowing documenting command-line programs:

There is also a very generic object description directive, which is not tied to \`\`\` any domain:

---

autodoc.md

---

# `sphinx.ext.autodoc` -- Include documentation from docstrings

<div class="index">

pair: automatic; documentation single: docstring

</div>

This extension can import the modules you are documenting, and pull in documentation from docstrings in a semi-automatic way.

\> **Warning** \> `~sphinx.ext.autodoc` **imports** the modules to be documented. If any modules have side effects on import, these will be executed by `autodoc` when `sphinx-build` is run.

> If you document scripts (as opposed to library modules), make sure that the main routine is protected by an `if __name__ == '__main__'` condition.

For this to work, the docstrings must of course be written in correct reStructuredText. You can then use all of the usual Sphinx markup in the docstrings, and it will end up correctly in the documentation. Together with hand-written documentation, this technique eases the pain of having to maintain two locations for documentation, while at the same time avoiding auto-generated-looking pure API documentation.

If you prefer [NumPy](https://numpydoc.readthedocs.io/en/latest/format.html#docstring-standard) or [Google](https://google.github.io/styleguide/pyguide.html#38-comments-and-docstrings) style docstrings over reStructuredText, you can also enable the `napoleon <sphinx.ext.napoleon>` extension. `!napoleon` is a preprocessor that converts docstrings to correct reStructuredText before `autodoc` processes them.

## Getting started

### Setup

Activate the plugin by adding `'sphinx.ext.autodoc'` to the `extensions` list in `conf.py`:

`` `python    extensions = [        ...        'sphinx.ext.autodoc',    ]   Ensuring the code can be imported ``\` ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

`~sphinx.ext.autodoc` analyses the code and docstrings by introspection after **importing the modules**. For importing to work, you have to make sure that your modules can be found by Sphinx and that dependencies can be resolved (if your module does `import foo`, but `foo` is not available in the python environment that Sphinx runs in, your module import will fail).

There are two ways to ensure this:

1.  Use an environment that contains your package and Sphinx. This can e.g. be your local development environment (with an editable install), or an environment in CI in which you install Sphinx and your package. The regular installation process ensures that your package can be found by Sphinx and that all dependencies are available.
2.  It is alternatively possible to patch the Sphinx run so that it can operate directly on the sources; e.g. if you want to be able to do a Sphinx build from a source checkout.
      - Patch <span class="title-ref">sys.path</span> in `conf.py` to include your source path. For example if you have a repository structure with `doc/conf.py` and your package is at `src/my_package`, then you should add the following to your `conf.py`.
          - \`\`\`python  
            import sys from pathlib import Path
            
            sys.path.insert(0, str(Path('..', 'src').resolve()))
      - To cope with missing dependencies, specify the missing modules in the `autodoc_mock_imports` setting.

Usage `` ` ^^^^^  You can now use the [autodoc-directives](#autodoc-directives) to add formatted documentation for Python code elements like functions, classes, modules, etc. For example, to document the function ``io.open()`, reading its signature and docstring from the source file, you'd write:`\`rst .. autofunction:: io.open

You can also document whole classes or even modules automatically, `` ` using member options for the auto directives, like: ``\`rst .. automodule:: io :members:

<div class="tip">

<div class="title">

Tip

</div>

As a hint to autodoc extension, you can put a `::` separator between the module name and the object name to let autodoc know the correct module, if it is ambiguous:

``` rst
.. autoclass:: module.name::Noodle
```

</div>

Marking objects as public or private `` ` ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^  * autodoc considers a member private if its docstring contains ``:meta private:`in its [info-field-lists](#info-field-lists).   For example:`\`python def my\_function(my\_arg, my\_other\_arg): """blah blah blah

>   - meta private
> 
> """
> 
> <div class="versionadded">
> 
> 3.0
> 
> </div>

  - autodoc considers a member public if its docstring contains `:meta public:` in its \[info-field-lists\](\#info-field-lists), even if it starts with an underscore. For example:
    
    ``` python
    def _my_function(my_arg, my_other_arg):
        """blah blah blah
    
        :meta public:
        """
    ```
    
    <div class="versionadded">
    
    3.1
    
    </div>

  - autodoc considers a variable member does not have any default value if its docstring contains `:meta hide-value:` in its \[info-field-lists\](\#info-field-lists). Example:
    
    ``` python
    var1 = None  #: :meta hide-value:
    ```
    
    <div class="versionadded">
    
    3.5
    
    </div>

<div id="doc-comment">

Doc comments and docstrings `` ` ^^^^^^^^^^^^^^^^^^^^^^^^^^^  Python has no built-in support for docstrings for module data members or class attributes. To allow documenting these, ``autodoc`recognises a special format of [comment <python:comments>](#comment-<python:comments>) called a 'doc comment' or 'documentation comment'.  These comments start with a colon and an optional space character,`'\#:'`or`'\#: '`. To be recognised, the comments must appear either on the same line as the variable or on one or more lines before the variable. Multi-line doc-comments must always  appear on the lines before the variable's definition.  For example, all three of the following variables have valid doc-comments:`\`python egg\_and\_spam = 1.50 \#: A simple meal

</div>

> \#: Spam\! Lovely spam\! Lovely spam\! egg\_bacon\_sausage\_and\_spam = 2.49
> 
> \#: Truly gourmet cuisine for madam; Lobster Thermidor \#: aux Crevettes with a mornay sauce garnished with \#: truffle pate, brandy and a fried egg on top and spam. lobster\_thermidor = 35.00

Alternatively, `autodoc` can recognise a docstring `` ` on the line immediately following the definition.  In the the following class definition, all attributes have documentation recognised by ``autodoc`:`\`python class Foo: """Docstring for class Foo."""

> \#: Doc comment for class attribute Foo.bar. \#: It can have multiple lines. bar = 1
> 
> flox = 1.5 \#: Doc comment for Foo.flox. One line only.
> 
> baz = 2 """Docstring for class attribute Foo.baz."""
> 
>   - def \_\_init\_\_(self):  
>     \#: Doc comment for instance attribute qux. self.qux = 3
>     
>     self.spam = 4 """Docstring for instance attribute spam."""

<div id="autodoc-directives">

Directives `` ` ----------  :mod:`autodoc` provides several directives that are versions of the usual :rst:dir:`py:module`, :rst:dir:`py:class` and so forth. On parsing time, they import the corresponding module and extract the docstring of the given objects, inserting them into the page source under a suitable :rst:dir:`py:module`, :rst:dir:`py:class` etc. directive.  > **Note** >     Just as :rst:dir:`py:class` respects the current    :rst:dir:`py:module`, :rst:dir:`autoclass` will also do so.    Likewise, :rst:dir:`automethod` will respect the current :rst:dir:`py:class`.   Default directive options ^^^^^^^^^^^^^^^^^^^^^^^^^  To make any of the options described below the default, use the :confval:`autodoc_default_options` dictionary in :file:`conf.py`.  If using defaults for the ``:members:`,`:exclude-members:`,`:private-members:`, or`:special-members:`options, setting the option on a directive will override the default. Instead, to extend the default list with the per-directive option, the list may be prepended with a plus sign (`+`), as follows:`\`rst .. autoclass:: Noodle :members: eat :private-members: +\_spicy, \_garlickly

</div>

<div class="tip">

<div class="title">

Tip

</div>

If using `autodoc_default_options`, the defaults can be disabled per-directive with the negated form, `:no-{option}:` as an option of the directive For example:

``` rst
.. automodule:: foo
   :no-undoc-members:
```

</div>

Automatically document modules `` ` ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^  .. rst:directive:: automodule     Document a module.    By default, the directive only inserts the docstring of the module itself: ``\`rst .. automodule:: noodles

> will produce source like this:
> 
> ``` rst
> .. py:module:: noodles
> 
>    The noodles module.
> ```
> 
> The directive can also contain content of its own, which will be inserted into the resulting non-auto directive source after the docstring (but before any automatic member documentation).
> 
> Therefore, you can also mix automatic and non-automatic member documentation, as follows:
> 
> ``` rst
> .. automodule:: noodles
>    :members: Noodle
> 
>    .. py:function:: boiled_noodle(time=10)
> 
>       Create a noodle that has been boiled for *time* minutes.
> ```
> 
> **Options**
> 
> **Options for selecting members to document**
> 
> **Options for documented members**

Automatically document classes or exceptions `` ` ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^  .. rst:directive:: autoclass                    autoexception     Document a class.    For exception classes, prefer ``.. autoexception::`.    By default, the directive only inserts the docstring of the class itself:`\`rst .. autoclass:: noodles.Noodle

> will produce source like this:
> 
> ``` rst
> .. py:class:: Noodle
> 
>    The Noodle class's docstring.
> ```
> 
> The directive can also contain content of its own, which will be inserted into the resulting non-auto directive source after the docstring (but before any automatic member documentation).
> 
> Therefore, you can also mix automatic and non-automatic member documentation, as follows:
> 
> ``` rst
> .. autoclass:: noodles.Noodle
>    :members: eat, slurp
> 
>    .. py:method:: boil(time=10)
> 
>       Boil the noodle for *time* minutes.
> ```
> 
> **Advanced usage**
> 
>   - It is possible to override the signature for explicitly documented callable objects (functions, methods, classes) with the regular syntax that will override the signature gained from introspection:
>     
>     ``` rst
>     .. autoclass:: noodles.Noodle(type)
>     
>        .. automethod:: eat(persona)
>     ```
>     
>     This is useful if the signature from the method is hidden by a decorator.
>     
>     <div class="versionadded">
>     
>     0.4
>     
>     </div>
> 
> **Options**
> 
> **Options for selecting members to document**
> 
> **Options for documented members**

Automatically document function-like objects `` ` ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^  .. rst:directive:: autofunction                    automethod                    autoproperty                    autodecorator     Document a function, method, property, or decorator.    By default, the directive only inserts the docstring of the function itself: ``\`rst .. autofunction:: noodles.average\_noodle

> will produce source like this:
> 
> ``` rst
> .. py:function:: noodles.average_noodle
> 
>    The average_noodle function's docstring.
> ```
> 
> The directive can also contain content of its own, which will be inserted into the resulting non-auto directive source after the docstring.
> 
> Therefore, you can also mix automatic and non-automatic documentation, as follows:
> 
> ``` rst
> .. autofunction:: noodles.average_noodle
> 
>    .. note:: For more flexibility, use the :py`!Noodle` class.
> ```
> 
> <div class="versionadded">
> 
> 2.0 :rst`autodecorator`.
> 
> </div>
> 
> <div class="versionadded">
> 
> 2.1 :rst`autoproperty`.
> 
> </div>
> 
> \> **Note**

  - \>  
    If you document decorated functions or methods, keep in mind that `autodoc` retrieves its docstrings by importing the module and inspecting the `__doc__` attribute of the given function or method. That means that if a decorator replaces the decorated function with another, it must copy the original `__doc__` to the new function.
    
    **Advanced usage**
    
    \* It is possible to override the signature for explicitly documented callable objects (functions, methods, classes) with the regular syntax that will override the signature gained from introspection:
    
    ``` rst
    .. autoclass:: Noodle(type)
    
       .. automethod:: eat(persona)
    ```
    
    This is useful if the signature from the method is hidden by a decorator.
    
    <div class="versionadded">
    
    0.4
    
    </div>
    
    **Options**
    
      - type
    
    Do not generate an index entry for the documented function.
    
    <div class="versionadded">
    
    0.4
    
    </div>

Automatically document attributes or data `` ` ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^  .. rst:directive:: autodata                    autoattribute     Document a module level variable or constant ('data') or class attribute.    By default, the directive only inserts the docstring of the variable itself: ``\`rst .. autodata:: noodles.FLOUR\_TYPE

> will produce source like this:
> 
> ``` rst
> .. py:data:: noodles.FLOUR_TYPE
> 
>    The FLOUR_TYPE constant's docstring.
> ```
> 
> The directive can also contain content of its own, which will be inserted into the resulting non-auto directive source after the docstring.
> 
> Therefore, you can also mix automatic and non-automatic member documentation, as follows:
> 
> ``` rst
> .. autodata:: noodles.FLOUR_TYPE
> 
>    .. hint:: Cooking time can vary by which flour type is used.
> ```
> 
> <div class="versionchanged">
> 
> 0.6 :rst`autodata` and :rst`autoattribute` can now extract docstrings.
> 
> </div>
> 
> <div class="versionchanged">
> 
> 1.1 Doc-comments are now allowed on the same line of an assignment.
> 
> </div>
> 
> **Options**

Configuration `` ` -------------  There are also config values that you can set:  .. confval:: autoclass_content    :type: :code-py:`str`    :default: :code-py:`'class'`     This value selects what content will be inserted into the main body of an    :rst:dir:`autoclass` directive.  The possible values are: ``'class'`Only the class' docstring is inserted.  You can       still document`\_\_init\_\_``as a separate method using       :rst:dir:`automethod` or the``members``option to :rst:dir:`autoclass`.``'both'`Both the class' and the`\_\_init\_\_`method's docstring are concatenated       and inserted.`'init'`Only the`\_\_init\_\_`method's docstring is inserted.     .. versionadded:: 0.3     If the class has no`\_\_init\_\_`method or if the`\_\_init\_\_`method's    docstring is empty, but the class has a`\_\_new\_\_``method's docstring,    it is used instead.     .. versionadded:: 1.4  .. confval:: autodoc_class_signature    :type: :code-py:`str`    :default: :code-py:`'mixed'`     This value selects how the signature will be displayed for the class defined    by :rst:dir:`autoclass` directive.  The possible values are:``'mixed'`Display the signature with the class name.`'separated'``Display the signature as a method.     .. versionadded:: 4.1  .. confval:: autodoc_member_order    :type: :code-py:`str`    :default: :code-py:`'alphabetical'`     Define the order in which :rst:dir:`automodule` and :rst:dir:`autoclass`    members are listed. Supported values are:     *``'alphabetical'`:      Use alphabetical order.    *`'groupwise'`: order by member type. The order is:       * for modules, exceptions, classes, functions, data      * for classes: methods, then properties and attributes       Members are ordered alphabetically within groups.     *`'bysource'`:      Use the order in which the members appear in the source code.      This requires that the module must be a Python module with the      source code available.     .. versionadded:: 0.6    .. versionchanged:: 1.0       Support for`'bysource'``.  .. confval:: autodoc_default_options    :type: :code-py:`dict[str, str | bool]`    :default: :code-py:`{}`     The default options for autodoc directives.  They are applied to all autodoc    directives automatically.  It must be a dictionary which maps option names    to the values.  For example:``\`python autodoc\_default\_options = { 'members': 'var1, var2', 'member-order': 'bysource', 'special-members': '\_\_init\_\_', 'undoc-members': True, 'exclude-members': '\_\_weakref\_\_' }

> Setting `None` or `True` to the value is equivalent to giving only the option name to the directives.
> 
> The supported options are:
> 
>   - `'members'`: See :rst`automodule:members`.
>   - `'undoc-members'` See :rst`automodule:undoc-members`.
>   - `'private-members'`: See :rst`automodule:private-members`.
>   - `'special-members'`: See :rst`automodule:special-members`.
>   - `'inherited-members'`: See :rst`autoclass:inherited-members`.
>   - `'imported-members'`: See :rst`automodule:imported-members`.
>   - `'exclude-members'`: See :rst`automodule:exclude-members`.
>   - `'ignore-module-all'`: See :rst`automodule:ignore-module-all`.
>   - `'member-order'`: See :rst`automodule:member-order`.
>   - `'show-inheritance'`: See :rst`autoclass:show-inheritance`.
>   - `'class-doc-from'`: See :rst`autoclass:class-doc-from`.
>   - `'no-value'`: See :rst`autodata:no-value`.
> 
> <div class="versionadded">
> 
> 1.8
> 
> </div>
> 
> <div class="versionchanged">
> 
> 2.0 Accepts `True` as a value.
> 
> </div>
> 
> <div class="versionchanged">
> 
> 2.1 Added `'imported-members'`.
> 
> </div>
> 
> <div class="versionchanged">
> 
> 4.1 Added `'class-doc-from'`.
> 
> </div>
> 
> <div class="versionchanged">
> 
> 4.5 Added `'no-value'`.
> 
> </div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`True`">

autodoc\_docstring\_signature

Functions imported from C modules cannot be introspected, and therefore the signature for such functions cannot be automatically determined. However, it is an often-used convention to put the signature into the first line of the function's docstring.

If this boolean value is set to `True` (which is the default), autodoc will look at the first line of the docstring for functions and methods, and if it looks like a signature, use the line as the signature and remove it from the docstring content.

autodoc will continue to look for multiple signature lines, stopping at the first line that does not look like a signature. This is useful for declaring overloaded function signatures.

<div class="versionadded">

1.1

</div>

<div class="versionchanged">

3.1

Support overloaded signatures

</div>

<div class="versionchanged">

4.0

Overloaded signatures do not need to be separated by a backslash

</div>

</div>

<div class="confval" type=":code-py:`list[str]`" default=":code-py:`[]`">

autodoc\_mock\_imports

This value contains a list of modules to be mocked up. This is useful when some external dependencies are not met at build time and break the building process. You may only specify the root package of the dependencies themselves and omit the sub-modules:

``` python
autodoc_mock_imports = ['django']
```

Will mock all imports under the `django` package.

<div class="versionadded">

1.3

</div>

<div class="versionchanged">

1.6 This config value only requires to declare the top-level modules that should be mocked.

</div>

</div>

<div class="confval" type=":code-py:`str`" default=":code-py:`&#39;signature&#39;`">

autodoc\_typehints

This value controls how to represent typehints. The setting takes the following values:

  - `'signature'` -- Show typehints in the signature
  - `'description'` -- Show typehints as content of the function or method The typehints of overloaded functions or methods will still be represented in the signature.
  - `'none'` -- Do not show typehints
  - `'both'` -- Show typehints in the signature and as content of the function or method

Overloaded functions or methods will not have typehints included in the description because it is impossible to accurately represent all possible overloads as a list of parameters.

<div class="versionadded">

2.1

</div>

<div class="versionadded">

3.0

New option `'description'` is added.

</div>

<div class="versionadded">

4.1

New option `'both'` is added.

</div>

</div>

<div class="confval" type=":code-py:`str`" default=":code-py:`&#39;all&#39;`">

autodoc\_typehints\_description\_target

This value controls whether the types of undocumented parameters and return values are documented when `autodoc_typehints` is set to `'description'`. Supported values:

  - `'all'`: Types are documented for all parameters and return values, whether they are documented or not.
  - `'documented'`: Types will only be documented for a parameter or a return value that is already documented by the docstring.
  - `'documented_params'`: Parameter types will only be annotated if the parameter is documented in the docstring. The return type is always annotated (except if it is `None`).

<div class="versionadded">

4.0

</div>

<div class="versionadded">

5.0

New option `'documented_params'` is added.

</div>

</div>

<div class="confval" type=":code-py:`dict[str, str]`" default=":code-py:`{}`">

autodoc\_type\_aliases

A dictionary for users defined <span class="title-ref">type aliases</span>\_\_ that maps a type name to the full-qualified object name. It is used to keep type aliases not evaluated in the document.

The type aliases are only available if your program enables `Postponed
Evaluation of Annotations (PEP 563) <563>` feature via `from __future__ import annotations`.

For example, there is code using a type alias:

``` python
from __future__ import annotations

AliasType = Union[List[Dict[Tuple[int, str], Set[int]]], Tuple[str, List[str]]]

def f() -> AliasType:
    ...
```

If `autodoc_type_aliases` is not set, autodoc will generate internal mark-up from this code as following:

``` rst
.. py:function:: f() -> Union[List[Dict[Tuple[int, str], Set[int]]], Tuple[str, List[str]]]

   ...
```

If you set `autodoc_type_aliases` as `{'AliasType': 'your.module.AliasType'}`, it generates the following document internally:

``` rst
.. py:function:: f() -> your.module.AliasType:

   ...
```

<div class="versionadded">

3.3

</div>

</div>

<div class="confval" type=":code-py:`str`" default=":code-py:`&#39;short&#39;`">

autodoc\_typehints\_format

This value controls the format of typehints. The setting takes the following values:

  - `'fully-qualified'` -- Show the module name and its name of typehints
  - `'short'` -- Suppress the leading module names of the typehints (e.g. `io.StringIO` -\> `StringIO`)

<div class="versionadded">

4.4

</div>

<div class="versionchanged">

5.0

The default setting was changed to `'short'`

</div>

</div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`False`">

autodoc\_preserve\_defaults

If True, the default argument values of functions will be not evaluated on generating document. It preserves them as is in the source code.

<div class="versionadded">

4.0

Added as an experimental feature. This will be integrated into autodoc core in the future.

</div>

</div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`True`">

autodoc\_warningiserror

This value controls the behavior of `sphinx-build --fail-on-warning` during importing modules. If `False` is given, autodoc forcedly suppresses the error if the imported module emits warnings.

<div class="versionchanged">

8.1 This option now has no effect as `!--fail-on-warning` no longer exits early.

</div>

</div>

<div class="confval" type=":code-py:`bool`" default=":code-py:`True`">

autodoc\_inherit\_docstrings

This value controls the docstrings inheritance. If set to True the docstring for classes or methods, if not explicitly set, is inherited from parents.

<div class="versionadded">

1.7

</div>

</div>

<div class="confval" data-no-index="" type=":code-py:`Sequence[str]`" default=":code-py:`()`">

suppress\_warnings

`autodoc` supports suppressing warning messages via `suppress_warnings`. It defines the following additional warnings types:

  - autodoc
  - autodoc.import\_object

</div>

Docstring preprocessing `` ` -----------------------  autodoc provides the following additional events:  .. event:: autodoc-process-docstring (app, what, name, obj, options, lines)     .. versionadded:: 0.4     Emitted when autodoc has read and processed a docstring.  *lines* is a list    of strings -- the lines of the processed docstring -- that the event handler    can modify **in place** to change what Sphinx puts into the output.     :param app: the Sphinx application object    :param what: the type of the object which the docstring belongs to (one of ``'module'`,`'class'`,`'exception'`,`'function'`,`'method'`,`'attribute'`)    :param name: the fully qualified name of the object    :param obj: the object itself    :param options: the options given to the directive: an object with attributes`inherited\_members`,`undoc\_members`,`show\_inheritance`and`no-index`that are true if the flag option of same name was given to the       auto directive    :param lines: the lines of the docstring, see above  .. event:: autodoc-before-process-signature (app, obj, bound_method)     .. versionadded:: 2.4     Emitted before autodoc formats a signature for an object. The event handler    can modify an object to change its signature.     :param app: the Sphinx application object    :param obj: the object itself    :param bound_method: a boolean indicates an object is bound method or not  .. event:: autodoc-process-signature (app, what, name, obj, options, signature, return_annotation)     .. versionadded:: 0.5     Emitted when autodoc has formatted a signature for an object. The event    handler can return a new tuple`(signature, return\_annotation)`to change    what Sphinx puts into the output.     :param app: the Sphinx application object    :param what: the type of the object which the docstring belongs to (one of`'module'`,`'class'`,`'exception'`,`'function'`,`'method'`,`'attribute'`)    :param name: the fully qualified name of the object    :param obj: the object itself    :param options: the options given to the directive: an object with attributes`inherited\_members`,`undoc\_members`,`show\_inheritance`and`no-index`that are true if the flag option of same name was given to the       auto directive    :param signature: function signature, as a string of the form`'(parameter\_1, parameter\_2)'`, or`None`if introspection didn't       succeed and signature wasn't specified in the directive.    :param return_annotation: function return annotation as a string of the form`' -\> annotation'`, or`None``if there is no return annotation  The :mod:`sphinx.ext.autodoc` module provides factory functions for commonly needed docstring processing in event :event:`autodoc-process-docstring`:  .. autofunction:: cut_lines .. autofunction:: between  .. event:: autodoc-process-bases (app, name, obj, options, bases)     Emitted when autodoc has read and processed a class to determine the    base-classes.  *bases* is a list of classes that the event handler can    modify **in place** to change what Sphinx puts into the output.  It's    emitted only if``show-inheritance`option given.     :param app: the Sphinx application object    :param name: the fully qualified name of the object    :param obj: the object itself    :param options: the options given to the class directive    :param bases: the list of base classes signature. see above.     .. versionadded:: 4.1    .. versionchanged:: 4.3`bases`can contain a string as a base class name.       It will be processed as reStructuredText.   Skipping members ----------------  autodoc allows the user to define a custom method for determining whether a member should be included in the documentation by using the following event:  .. event:: autodoc-skip-member (app, what, name, obj, skip, options)     .. versionadded:: 0.5     Emitted when autodoc has to decide whether a member should be included in the    documentation.  The member is excluded if a handler returns`True`.  It is    included if the handler returns`False`.     If more than one enabled extension handles the`autodoc-skip-member`event, autodoc will use the first non-`None`value returned by a handler.    Handlers should return`None`to fall back to the skipping behavior of    autodoc and other enabled extensions.     :param app: the Sphinx application object    :param what: the type of the object which the docstring belongs to (one of`'module'`,`'class'`,`'exception'`,`'function'`,`'method'`,`'attribute'`)    :param name: the fully qualified name of the object    :param obj: the object itself    :param skip: a boolean indicating if autodoc will skip this member if the       user handler does not override the decision    :param options: the options given to the directive: an object with attributes`inherited\_members`,`undoc\_members`,`show\_inheritance`and`no-index\`\` that are true if the flag option of same name was given to the auto directive

---

autosectionlabel.md

---

# `sphinx.ext.autosectionlabel` -- Allow referencing sections by their title

<div class="module" data-synopsis="Allow referencing sections by their title.">

sphinx.ext.autosectionlabel

</div>

<div class="versionadded">

1.4

</div>

By default, cross-references to sections use labels (see :rst`ref`). This extension allows you to instead refer to sections by their title.

For example:

``` rst
A Plain Title
-------------

This is the text of the section.

It refers to the section title, see [A Plain Title](#a-plain-title).
```

Internally, this extension generates the labels for each section. If same section names are used in whole of document, any one is used for a target by default. The `autosectionlabel_prefix_document` configuration variable can be used to make headings which appear multiple times but in different documents unique.

## Configuration

<div class="confval" type=":code-py:`bool`" default=":code-py:`False`">

autosectionlabel\_prefix\_document

True to prefix each section label with the name of the document it is in, followed by a colon. For example, `index:Introduction` for a section called `Introduction` that appears in document `index.rst`. Useful for avoiding ambiguity when the same section heading appears in different documents.

</div>

<div class="confval" type=":code-py:`int | None`" default=":code-py:`None`">

autosectionlabel\_maxdepth

If set, autosectionlabel chooses the sections for labeling by its depth. For example, when set 1 to `autosectionlabel_maxdepth`, labels are generated only for top level sections, and deeper sections are not labeled. It defaults to `None` (i.e. all sections are labeled).

</div>

## Debugging

The `WARNING: undefined label` indicates that your reference in :rst`ref` is mis-spelled. Invoking `sphinx-build` with `-vvv` (see `-v`) will print all section names and the labels that have been generated for them. This output can help finding the right reference label.

---

autosummary.md

---

# `sphinx.ext.autosummary` -- Generate autodoc summaries

<div class="module" data-synopsis="Generate autodoc summaries">

sphinx.ext.autosummary

</div>

<div class="versionadded">

0.6

</div>

This extension generates function/method/attribute summary lists, similar to those output e.g. by Epydoc and other API doc generation tools. This is especially useful when your docstrings are long and detailed, and putting each one of them on a separate page makes them easier to read.

The `sphinx.ext.autosummary` extension does this in two parts:

1.  There is an :rst`autosummary` directive for generating summary listings that contain links to the documented items, and short summary blurbs extracted from their docstrings.

2.  A :rst`autosummary` directive also generates short "stub" files for the entries listed in its content. These files by default contain only the corresponding `sphinx.ext.autodoc` directive, but can be customized with templates.
    
    The `sphinx-autogen` script is also able to generate "stub" files from command line.

## `sphinx-autogen` -- generate autodoc stub pages

The `sphinx-autogen` script can be used to conveniently generate stub documentation pages for items included in :rst`autosummary` listings.

For example, the command :

``` rst
$ sphinx-autogen -o generated *.rst
```

will read all :rst`autosummary` tables in the `*.rst` files that have the `:toctree:` option set, and output corresponding stub pages in directory `generated` for all documented items. The generated pages by default contain text of the form:

``` rst
sphinx.util.relative_uri
========================

.. autofunction:: sphinx.util.relative_uri
```

If the `-o` option is not given, the script will place the output files in the directories specified in the `:toctree:` options.

For more information, refer to the \[sphinx-autogen documentation \</man/sphinx-autogen\>\](sphinx-autogen documentation \</man/sphinx-autogen\>.md)

## Generating stub pages automatically

If you do not want to create stub pages with `sphinx-autogen`, you can also use these config values:

<div class="confval">

autosummary\_context

A dictionary of values to pass into the template engine's context for autosummary stubs files.

<div class="versionadded">

3.1

</div>

</div>

<div class="confval">

autosummary\_generate

Boolean indicating whether to scan all found documents for autosummary directives, and to generate stub pages for each. It is enabled by default.

Can also be a list of documents for which stub pages should be generated.

The new files will be placed in the directories specified in the `:toctree:` options of the directives.

<div class="versionchanged">

2.3

Emits `autodoc-skip-member` event as `~sphinx.ext.autodoc` does.

</div>

<div class="versionchanged">

4.0

Enabled by default.

</div>

</div>

<div class="confval">

autosummary\_generate\_overwrite

If true, autosummary overwrites existing files by generated stub pages. Defaults to true (enabled).

<div class="versionadded">

3.0

</div>

</div>

<div class="confval">

autosummary\_mock\_imports

This value contains a list of modules to be mocked up. See `autodoc_mock_imports` for more details. It defaults to `autodoc_mock_imports`.

<div class="versionadded">

2.0

</div>

</div>

<div class="confval">

autosummary\_imported\_members

A boolean flag indicating whether to document classes and functions imported in modules. Default is `False`

<div class="versionadded">

2.1

</div>

<div class="versionchanged">

4.4

If `autosummary_ignore_module_all` is `False`, this configuration value is ignored for members listed in `__all__`.

</div>

</div>

<div class="confval">

autosummary\_ignore\_module\_all

If `False` and a module has the `__all__` attribute set, autosummary documents every member listed in `__all__` and no others. Default is `True`

Note that if an imported member is listed in `__all__`, it will be documented regardless of the value of `autosummary_imported_members`. To match the behaviour of `from module import *`, set `autosummary_ignore_module_all` to False and `autosummary_imported_members` to True.

<div class="versionadded">

4.4

</div>

</div>

<div class="confval">

autosummary\_filename\_map

A dict mapping object names to filenames. This is necessary to avoid filename conflicts where multiple objects have names that are indistinguishable when case is ignored, on file systems where filenames are case-insensitive.

<div class="versionadded">

3.2

</div>

</div>

## Customizing templates

<div class="versionadded">

1.0

</div>

You can customize the stub page templates, in a similar way as the HTML Jinja templates, see \[templating\](\#templating). (<span class="title-ref">\~sphinx.application.TemplateBridge</span> is not supported.)

\> **Note** \> If you find yourself spending much time tailoring the stub templates, this may indicate that it's a better idea to write custom narrative documentation instead.

Autosummary uses the following Jinja template files:

  - `autosummary/base.rst` -- fallback template
  - `autosummary/module.rst` -- template for modules
  - `autosummary/class.rst` -- template for classes
  - `autosummary/function.rst` -- template for functions
  - `autosummary/attribute.rst` -- template for class attributes
  - `autosummary/method.rst` -- template for class methods

The following variables are available in the templates:

<div class="currentmodule">

None

</div>

<div class="data">

name

Name of the documented object, excluding the module and class parts.

</div>

<div class="data">

objname

Name of the documented object, excluding the module parts.

</div>

<div class="data">

fullname

Full name of the documented object, including module and class parts.

</div>

<div class="data">

objtype

Type of the documented object, one of `"module"`, `"function"`, `"class"`, `"method"`, `"attribute"`, `"data"`, `"object"`, `"exception"`, `"newvarattribute"`, `"newtypedata"`, `"property"`.

</div>

<div class="data">

module

Name of the module the documented object belongs to.

</div>

<div class="data">

class

Name of the class the documented object belongs to. Only available for methods and attributes.

</div>

<div class="data">

underline

A string containing `len(full_name) * '='`. Use the `underline` filter instead.

</div>

<div class="data">

members

List containing names of all members of the module or class. Only available for modules and classes.

</div>

<div class="data">

inherited\_members

List containing names of all inherited members of class. Only available for classes.

<div class="versionadded">

1.8.0

</div>

</div>

<div class="data">

functions

List containing names of "public" functions in the module. Here, "public" means that the name does not start with an underscore. Only available for modules.

</div>

<div class="data">

classes

List containing names of "public" classes in the module. Only available for modules.

</div>

<div class="data">

exceptions

List containing names of "public" exceptions in the module. Only available for modules.

</div>

<div class="data">

methods

List containing names of "public" methods in the class. Only available for classes.

</div>

<div class="data">

attributes

List containing names of "public" attributes in the class/module. Only available for classes and modules.

<div class="versionchanged">

3.1

Attributes of modules are supported.

</div>

</div>

<div class="data">

modules

List containing names of "public" modules in the package. Only available for modules that are packages and the `recursive` option is on.

<div class="versionadded">

3.1

</div>

</div>

Additionally, the following filters are available

<div class="function">

escape(s)

Escape any special characters in the text to be used in formatting RST contexts. For instance, this prevents asterisks making things bold. This replaces the builtin Jinja [escape filter](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.escape) that does html-escaping.

</div>

<div class="function" data-no-index="">

underline(s, line='=')

Add a title underline to a piece of text.

</div>

For instance, `{{ fullname | escape | underline }}` should be used to produce the title of a page.

\> **Note** \> You can use the :rst`autosummary` directive in the stub pages. Stub pages are generated also based on these directives.

---

coverage.md

---

# `sphinx.ext.coverage` -- Collect doc coverage stats

<div class="module" data-synopsis="Check Python modules and C API for coverage in the documentation.">

sphinx.ext.coverage

</div>

This extension features one additional builder, the <span class="title-ref">CoverageBuilder</span>.

<div class="todo">

Write this section.

</div>

\> **Note** \> The \[sphinx-apidoc \</man/sphinx-apidoc\>\](sphinx-apidoc \</man/sphinx-apidoc\>.md) command can be used to automatically generate API documentation for all code in a project, avoiding the need to manually author these documents and keep them up-to-date.

\> **Warning** \> `~sphinx.ext.coverage` **imports** the modules to be documented. If any modules have side effects on import, these will be executed by the coverage builder when `sphinx-build` is run.

> If you document scripts (as opposed to library modules), make sure their main routine is protected by a `if __name__ == '__main__'` condition.

<div class="note">

<div class="title">

Note

</div>

For Sphinx (actually, the Python interpreter that executes Sphinx) to find your module, it must be importable. That means that the module or the package must be in one of the directories on <span class="title-ref">sys.path</span> -- adapt your <span class="title-ref">sys.path</span> in the configuration file accordingly.

</div>

To use this builder, activate the coverage extension in your configuration file and run `sphinx-build -M coverage` on the command line.

## Builder

## Configuration

Several configuration values can be used to specify what the builder should check:

<div class="confval" type="``list[str]``" default="``[]``">

coverage\_modules

List of Python packages or modules to test coverage for. When this is provided, Sphinx will introspect each package or module provided in this list as well as all sub-packages and sub-modules found in each. When this is not provided, Sphinx will only provide coverage for Python packages and modules that it is aware of: that is, any modules documented using the :rst`py:module` directive provided in the \[Python domain \</usage/domains/python\>\](Python domain \</usage/domains/python\>.md) or the :rst`automodule` directive provided by the `~sphinx.ext.autodoc` extension.

<div class="versionadded">

7.4

</div>

</div>

<div class="confval">

coverage\_ignore\_modules

</div>

<div class="confval">

coverage\_ignore\_functions

</div>

<div class="confval">

coverage\_ignore\_classes

</div>

<div class="confval">

coverage\_ignore\_pyobjects

List of [Python regular expressions]().

If any of these regular expressions matches any part of the full import path of a Python object, that Python object is excluded from the documentation coverage report.

<div class="versionadded">

2.1

</div>

</div>

<div class="confval">

coverage\_c\_path

</div>

<div class="confval">

coverage\_c\_regexes

</div>

<div class="confval">

coverage\_ignore\_c\_items

</div>

<div class="confval">

coverage\_write\_headline

Set to `False` to not write headlines.

<div class="versionadded">

1.1

</div>

</div>

<div class="confval">

coverage\_skip\_undoc\_in\_source

Skip objects that are not documented in the source with a docstring. `False` by default.

<div class="versionadded">

1.1

</div>

</div>

<div class="confval">

coverage\_show\_missing\_items

Print objects that are missing to standard output also. `False` by default.

<div class="versionadded">

3.1

</div>

</div>

<div class="confval">

coverage\_statistics\_to\_report

Print a tabular report of the coverage statistics to the coverage report. `True` by default.

Example output:

  - \`\`\`text
    
    | Module              | Coverage | Undocumented |
    | ------------------- | -------- | ------------ |
    | package.foo\_module | 100.00%  | 0            |
    | package.bar\_module | 83.33%   | 1            |

<div class="versionadded">

7.2

</div>

</div>

<div class="confval">

coverage\_statistics\_to\_stdout

Print a tabular report of the coverage statistics to standard output. `False` by default.

Example output:

``` text
+-----------------------+----------+--------------+
| Module                | Coverage | Undocumented |
+=======================+==========+==============+
| package.foo_module    | 100.00%  | 0            |
+-----------------------+----------+--------------+
| package.bar_module    | 83.33%   | 1            |
+-----------------------+----------+--------------+
```

<div class="versionadded">

7.2

</div>

</div>

\`\`\`

---

doctest.md

---

# `sphinx.ext.doctest` -- Test snippets in the documentation

<div class="module" data-synopsis="Test snippets in the documentation.">

sphinx.ext.doctest

</div>

<div class="index">

pair: automatic; testing single: doctest pair: testing; snippets

</div>

It is often helpful to include snippets of code in your documentation and demonstrate the results of executing them. But it is important to ensure that the documentation stays up-to-date with the code.

This extension allows you to test such code snippets in the documentation in a natural way. If you mark the code blocks as shown here, the `doctest` builder will collect them and run them as doctest tests.

Within each document, you can assign each snippet to a *group*. Each group consists of:

  - zero or more *setup code* blocks (e.g. importing the module to test)
  - one or more *test* blocks

When building the docs with the `doctest` builder, groups are collected for each document and run one after the other, first executing setup code blocks, then the test blocks in the order they appear in the file.

There are two kinds of test blocks:

  - *doctest-style* blocks mimic interactive sessions by interleaving Python code (including the interpreter prompt) and output.
  - *code-output-style* blocks consist of an ordinary piece of Python code, and optionally, a piece of output for that code.

## Directives

The *group* argument below is interpreted as follows: if it is empty, the block is assigned to the group named `default`. If it is `*`, the block is assigned to all groups (including the `default` group). Otherwise, it must be a comma-separated list of group names.

  - \>  
    Code in a `testcode` block is always executed all at once, no matter how many statements it contains. Therefore, output will *not* be generated for bare expressions -- use `print`. Example:
    
    ``` rst
    .. testcode::
    
       1+1         # this will give no output!
       print(2+2)  # this will give output
    
    .. testoutput::
    
       4
    ```
    
    Also, please be aware that since the doctest module does not support mixing regular output and an exception message in the same snippet, this applies to testcode/testoutput as well.

The following is an example for the usage of the directives. The test via `` ` :rst:dir:`doctest` and the test via :rst:dir:`testcode` and :rst:dir:`testoutput` are equivalent. ::     The parrot module    =================     .. testsetup:: *        import parrot     The parrot module is a module about parrots.     Doctest example:     .. doctest::        >>> parrot.voom(3000)       This parrot wouldn't voom if you put 3000 volts through it!     Test-Output example:     .. testcode::        parrot.voom(3000)     This would output:     .. testoutput::        This parrot wouldn't voom if you put 3000 volts through it!   .. _doctest-skipif:  Skipping tests conditionally ---------------------------- ``skipif`, a string option, can be used to skip directives conditionally. This may be useful e.g. when a different set of tests should be run depending on the environment (hardware, network/VPN, optional dependencies or different versions of dependencies). The`skipif`option is supported by all of the doctest directives. Below are typical use cases for`skipif``when used for different directives:  - :rst:dir:`testsetup` and :rst:dir:`testcleanup`    - conditionally skip test setup and/or cleanup   - customize setup/cleanup code per environment  - :rst:dir:`doctest`    - conditionally skip both a test and its output verification  - :rst:dir:`testcode`    - conditionally skip a test   - customize test code per environment  - :rst:dir:`testoutput`    - conditionally skip output assertion for a skipped test   - expect different output depending on the environment  The value of the``skipif``option is evaluated as a Python expression. If the result is a true value, the directive is omitted from the test run just as if it wasn't present in the file at all.  Instead of repeating an expression, the :confval:`doctest_global_setup` configuration option can be used to assign it to a variable which can then be used instead.  Here's an example which skips some tests if Pandas is not installed:  .. code-block:: py    :caption: conf.py     extensions = ['sphinx.ext.doctest']    doctest_global_setup = '''    try:        import pandas as pd    except ImportError:        pd = None    '''  .. code-block:: rst    :caption: contents.rst     .. testsetup::       :skipif: pd is None        data = pd.Series([42])     .. doctest::       :skipif: pd is None        >>> data.iloc[0]       42     .. testcode::       :skipif: pd is None        print(data.iloc[-1])     .. testoutput::       :skipif: pd is None        42   Configuration -------------  The doctest extension uses the following configuration values:  .. confval:: doctest_default_flags     By default, these options are enabled:     -``ELLIPSIS`, allowing you to put ellipses in the expected output that      match anything in the actual output;    -`IGNORE\_EXCEPTION\_DETAIL`, causing everything following the leftmost      colon and any module information in the exception name to be ignored;    -`DONT\_ACCEPT\_TRUE\_FOR\_1`, rejecting "True" in the output where "1" is      given -- the default behavior of accepting this substitution is a relic of      pre-Python 2.2 times.     .. versionadded:: 1.5  .. confval:: doctest_show_successes     Defaults to`True`.    Controls whether successes are reported.     For a project with many doctests,    it may be useful to set this to`False``to only highlight failures.     .. versionadded:: 7.2  .. confval:: doctest_path     A list of directories that will be added to `sys.path` when the doctest    builder is used.  (Make sure it contains absolute paths.)  .. confval:: doctest_global_setup     Python code that is treated like it were put in a``testsetup`directive for    *every* file that is tested, and for every group.  You can use this to    e.g. import modules you will always need in your doctests.     .. versionadded:: 0.6  .. confval:: doctest_global_cleanup     Python code that is treated like it were put in a`testcleanup`directive    for *every* file that is tested, and for every group.  You can use this to    e.g. remove any temporary files that the tests leave behind.     .. versionadded:: 1.1  .. confval:: doctest_test_doctest_blocks     If this is a nonempty string (the default is`'default'`),    standard reStructuredText doctest blocks will be tested too.    They will be assigned to the group name given.     reStructuredText doctest blocks are simply doctests    put into a paragraph of their own, like so::        Some documentation text.        >>> print(1)       1        Some more documentation text.     (Note that no special`::`is used to introduce a doctest block; docutils    recognizes them from the leading`\>\>\>``.  Also, no additional indentation is    used, though it doesn't hurt.)     If this value is left at its default value, the above snippet is interpreted    by the doctest builder exactly like the following::        Some documentation text.        .. doctest::           >>> print(1)          1        Some more documentation text.     This feature makes it easy for you to test doctests in docstrings included    with the :mod:`~sphinx.ext.autodoc` extension without marking them up with a    special directive.     Note though that you can't have blank lines in reStructuredText doctest blocks.    They will be interpreted as one block ending and another one starting.    Also, removal of``\<BLANKLINE\>`and`\# doctest:\`<span class="title-ref"> options only works in :rst:dir:\`doctest</span> blocks, though you may set `trim_doctest_flags` to achieve that in all code blocks with Python console content.

---

duration.md

---

# `sphinx.ext.duration` -- Measure durations of Sphinx processing

<div class="module" data-synopsis="Measure durations of Sphinx processing">

sphinx.ext.duration

</div>

<div class="versionadded">

2.4

</div>

This extension measures durations of Sphinx processing and show its result at end of the build. It is useful for inspecting what document is slowly built.

---

example_google.md

---

- orphan

# Example Google Style Python Docstrings

<div class="seealso">

\[example\_numpy\](\#example\_numpy)

</div>

<div class="only">

builder\_html

Download: `example_google.py <example_google.py>`

</div>

<div class="literalinclude" data-language="python">

example\_google.py

</div>

---

example_numpy.md

---

- orphan

# Example NumPy Style Python Docstrings

<div class="seealso">

\[example\_google\](\#example\_google)

</div>

<div class="only">

builder\_html

Download: `example_numpy.py <example_numpy.py>`

</div>

<div class="literalinclude" data-language="python">

example\_numpy.py

</div>

---

extlinks.md

---

# `sphinx.ext.extlinks` -- Markup to shorten external links

<div class="module" data-synopsis="Allow inserting external links with common base URLs easily.">

sphinx.ext.extlinks

</div>

<div class="moduleauthor">

Georg Brandl

</div>

<div class="versionadded">

1.0

</div>

This extension is meant to help with the common pattern of having many external links that point to URLs on one and the same site, e.g. links to bug trackers, version control web interfaces, or simply subpages in other websites. It does so by providing aliases to base URLs, so that you only need to give the subpage name when creating a link.

Let's assume that you want to include many links to issues at the Sphinx tracker, at `https://github.com/sphinx-doc/sphinx/issues/{num}`. Typing this URL again and again is tedious, so you can use `~sphinx.ext.extlinks` to avoid repeating yourself.

The extension adds a config value:

<div class="confval">

extlinks

This config value must be a dictionary of external sites, mapping unique short alias names to a *base URL* and a *caption*. For example, to create an alias for the above mentioned issues, you would add :

    extlinks = {'issue': ('https://github.com/sphinx-doc/sphinx/issues/%s',
                          'issue %s')}

Now, you can use the alias name as a new role, e.g. ``:issue:`123``<span class="title-ref">. This then inserts a link to https://github.com/sphinx-doc/sphinx/issues/123. As you can see, the target given in the role is substituted in the \*base URL\* in the place of </span><span class="title-ref">%s</span>\`.

The link caption depends on the second item in the tuple, the *caption*:

  - If *caption* is `None`, the link caption is the full URL.
  - If *caption* is a string, then it must contain `%s` exactly once. In this case the link caption is *caption* with the partial URL substituted for `%s` -- in the above example, the link caption would be `issue 123`.

To produce a literal `%` in either *base URL* or *caption*, use `%%`:

    extlinks = {'KnR': ('https://example.org/K%%26R/page/%s',
                          '[K&R; page %s]')}

You can also use the usual "explicit title" syntax supported by other roles that generate links, i.e. ``:issue:`this issue <123>``\`. In this case, the *caption* is not relevant.

<div class="versionchanged">

4.0

Support to substitute by '%s' in the caption.

</div>

</div>

\> **Note** \> Since links are generated from the role in the reading stage, they appear as ordinary links to e.g. the `linkcheck` builder.

<div class="confval">

extlinks\_detect\_hardcoded\_links

If enabled, extlinks emits a warning if a hardcoded link is replaceable by an extlink, and suggests a replacement via warning. It defaults to `False`.

<div class="versionadded">

4.5

</div>

</div>

---

githubpages.md

---

# `sphinx.ext.githubpages` -- Publish HTML docs in GitHub Pages

<div class="module" data-synopsis="Publish HTML docs in GitHub Pages">

sphinx.ext.githubpages

</div>

<div class="versionadded">

1.4

</div>

<div class="versionchanged">

2.0 Support `CNAME` file

</div>

This extension creates `.nojekyll` file on generated HTML directory to publish the document on GitHub Pages.

It also creates a `CNAME` file for custom domains when `html_baseurl` set.

---

graphviz.md

---

# `sphinx.ext.graphviz` -- Add Graphviz graphs

<div class="module" data-synopsis="Support for Graphviz graphs.">

sphinx.ext.graphviz

</div>

<div class="versionadded">

0.6

</div>

This extension allows you to embed [Graphviz](https://graphviz.org/) graphs in your documents.

It adds these directives:

There are also these config values:

<div class="confval">

graphviz\_dot

The command name with which to invoke `dot`. The default is `'dot'`; you may need to set this to a full path if `dot` is not in the executable search path.

Since this setting is not portable from system to system, it is normally not useful to set it in `conf.py`; rather, giving it on the `sphinx-build` command line via the `-D <sphinx-build -D>` option should be preferable, like this:

``` rst
sphinx-build -M html -D graphviz_dot=C:\graphviz\bin\dot.exe . _build
```

</div>

<div class="confval">

graphviz\_dot\_args

Additional command-line arguments to give to dot, as a list. The default is an empty list. This is the right place to set global graph, node or edge attributes via dot's `-G`, `-N` and `-E` options.

</div>

<div class="confval">

graphviz\_output\_format

The output format for Graphviz when building HTML files. This must be either `'png'` or `'svg'`; the default is `'png'`. If `'svg'` is used, in order to make the URL links work properly, an appropriate `target` attribute must be set, such as `"_top"` and `"_blank"`. For example, the link in the following graph should work in the svg output: :

``` rst
.. graphviz::

     digraph example {
         a [label="sphinx", href="https://www.sphinx-doc.org/", target="_top"];
         b [label="other"];
         a -> b;
     }
```

<div class="versionadded">

1.0 Previously, output always was PNG.

</div>

</div>

---

ifconfig.md

---

# `sphinx.ext.ifconfig` -- Include content based on configuration

<div class="module" data-synopsis="Include documentation content based on configuration values.">

sphinx.ext.ifconfig

</div>

This extension is quite simple, and features only one directive:

\> **Warning** \> This directive is designed to control only content of document. It could not control sections, labels and so on.

---

imgconverter.md

---

# `sphinx.ext.imgconverter` -- A reference image converter using Imagemagick

<div class="module" data-synopsis="Convert images to appropriate format for builders">

sphinx.ext.imgconverter

</div>

<div class="versionadded">

1.6

</div>

This extension converts images in your document to appropriate format for builders. For example, it allows you to use SVG images with LaTeX builder. As a result, you don't mind what image format the builder supports.

By default the extension uses [ImageMagick](https://www.imagemagick.org) to perform conversions, and will not work if ImageMagick is not installed.

\> **Note** \> ImageMagick rasterizes a SVG image on conversion. As a result, the image becomes not scalable. To avoid that, please use other image converters like [sphinxcontrib-svg2pdfconverter](https://github.com/missinglinkelectronics/sphinxcontrib-svg2pdfconverter) (which uses Inkscape or `rsvg-convert`).

## Configuration

<div class="confval">

image\_converter

A path to a conversion command. By default, the imgconverter finds the command from search paths.

On Unix platforms, the command `convert` is used by default.

On Windows, the command `magick` is used by default.

<div class="versionchanged">

3.1

Use `magick` command by default on windows

</div>

</div>

<div class="confval">

image\_converter\_args

Additional command-line arguments to give to `convert`, as a list. The default is an empty list `[]`.

On Windows, it defaults to `["convert"]`.

<div class="versionchanged">

3.1

Use `["convert"]` by default on Windows

</div>

</div>

---

index.md

---

# Extensions

Since many projects will need special features in their documentation, Sphinx allows adding "extensions" to the build process, each of which can modify almost any aspect of document processing.

This chapter describes the extensions bundled with Sphinx. For the API documentation on writing your own extension, refer to \[dev-extensions\](\#dev-extensions).

## Built-in extensions

These extensions are built in and can be activated by respective entries in the `extensions` configuration value:

<div class="toctree" data-maxdepth="1">

autodoc autosectionlabel autosummary coverage doctest duration extlinks githubpages graphviz ifconfig imgconverter inheritance intersphinx linkcode math napoleon todo viewcode

</div>

## Third-party extensions

You can find several extensions contributed by users in the [sphinx-contrib](https://github.com/sphinx-contrib/) organization. If you wish to include your extension in this organization, simply follow the instructions provided in the [github-administration](https://github.com/sphinx-contrib/github-administration) project. This is optional and there are several extensions hosted elsewhere. The [awesome-sphinxdoc](https://github.com/yoloseem/awesome-sphinxdoc) and [sphinx-extensions](https://sphinx-extensions.readthedocs.io/en/latest/) projects are both curated lists of Sphinx packages, and many packages use the [Framework :: Sphinx :: Extension](https://pypi.org/search/?c=Framework+%3A%3A+Sphinx+%3A%3A+Extension) and [Framework :: Sphinx :: Theme](https://pypi.org/search/?c=Framework+%3A%3A+Sphinx+%3A%3A+Theme) trove classifiers for Sphinx extensions and themes, respectively.

### Where to put your own extensions?

Extensions local to a project should be put within the project's directory structure. Set Python's module search path, `sys.path`, accordingly so that Sphinx can find them. For example, if your extension `foo.py` lies in the `exts` subdirectory of the project root, put into `conf.py`:

`` `python    import sys    from pathlib import Path     sys.path.append(str(Path('exts').resolve()))     extensions = ['foo']  You can also install extensions anywhere else on ``sys.path`, e.g. in the`<span class="title-ref"> </span><span class="title-ref">site-packages</span>\` directory.

---

inheritance.md

---

# `sphinx.ext.inheritance_diagram` -- Include inheritance diagrams

<div class="module" data-synopsis="Support for displaying inheritance diagrams via graphviz.">

sphinx.ext.inheritance\_diagram

</div>

<div class="versionadded">

0.6

</div>

This extension allows you to include inheritance diagrams, rendered via the `Graphviz extension <sphinx.ext.graphviz>`.

It adds this directive:

## Examples

The following are different inheritance diagrams for the internal `InheritanceDiagram` class that implements the directive.

With full names:

``` rst
.. inheritance-diagram:: sphinx.ext.inheritance_diagram.InheritanceDiagram
```

<div class="inheritance-diagram">

sphinx.ext.inheritance\_diagram.InheritanceDiagram

</div>

Showing class names only:

``` rst
.. inheritance-diagram:: sphinx.ext.inheritance_diagram.InheritanceDiagram
   :parts: 1
```

<div class="inheritance-diagram" data-parts="1">

sphinx.ext.inheritance\_diagram.InheritanceDiagram

</div>

Stopping the diagram at <span class="title-ref">sphinx.util.docutils.SphinxDirective</span> (the highest superclass still part of Sphinx), and dropping the common left-most part (`sphinx`) from all names:

``` rst
.. inheritance-diagram:: sphinx.ext.inheritance_diagram.InheritanceDiagram
   :top-classes: sphinx.util.docutils.SphinxDirective
   :parts: -1
```

<div class="inheritance-diagram" data-top-classes="sphinx.util.docutils.SphinxDirective" data-parts="-1">

sphinx.ext.inheritance\_diagram.InheritanceDiagram

</div>

## Configuration

<div class="confval">

inheritance\_graph\_attrs

A dictionary of graphviz graph attributes for inheritance diagrams.

For example:

``` rst
inheritance_graph_attrs = dict(rankdir="LR", size='"6.0, 8.0"',
                               fontsize=14, ratio='compress')
```

</div>

<div class="confval">

inheritance\_node\_attrs

A dictionary of graphviz node attributes for inheritance diagrams.

For example:

``` rst
inheritance_node_attrs = dict(shape='ellipse', fontsize=14, height=0.75,
                              color='dodgerblue1', style='filled')
```

</div>

<div class="confval">

inheritance\_edge\_attrs

A dictionary of graphviz edge attributes for inheritance diagrams.

</div>

<div class="confval">

inheritance\_alias

Allows mapping the full qualified name of the class to custom values (useful when exposing the underlying path of a class is not desirable, e.g. it's a private class and should not be instantiated by the user).

For example:

``` rst
inheritance_alias = {'_pytest.Magic': 'pytest.Magic'}
```

</div>

---

intersphinx.md

---

# `sphinx.ext.intersphinx` -- Link to other projects' documentation

<div class="module" data-synopsis="Link to other Sphinx documentation.">

sphinx.ext.intersphinx

</div>

<div class="index">

pair: automatic; linking

</div>

<div class="versionadded">

0.5

</div>

This extension can generate links to the documentation of objects in external projects, either explicitly through the :rst`external` role, or as a fallback resolution for any other cross-reference.

Usage for fallback resolution is simple: whenever Sphinx encounters a cross-reference that has no matching target in the current documentation set, it looks for targets in the external documentation sets configured in `intersphinx_mapping`. A reference like ``:py`zipfile.ZipFile``\` can then link to the Python documentation for the ZipFile class, without you having to specify where it is located exactly.

When using the :rst`external` role, you can force lookup to any external projects, and optionally to a specific external project. A link like `:external[comparison manual <comparisons>](#comparison-manual-<comparisons>)` will then link to the label "comparisons" in whichever configured external project, if it exists, and a link like `:external+python[comparison manual <comparisons>](#comparison-manual-<comparisons>)` will link to the label "comparisons" only in the doc set "python", if it exists.

Behind the scenes, this works as follows:

  - Each Sphinx HTML build creates a file named `objects.inv` that contains a mapping from object names to URIs relative to the HTML set's root.
  - Projects using the Intersphinx extension can specify the location of such mapping files in the `intersphinx_mapping` config value. The mapping will then be used to resolve both :rst`external` references, and also otherwise missing references to objects into links to the other documentation.
  - By default, the mapping file is assumed to be at the same location as the rest of the documentation; however, the location of the mapping file can also be specified individually, e.g. if the docs should be buildable without Internet access.

## Configuration

To use Intersphinx linking, add `'sphinx.ext.intersphinx'` to your `extensions` config value, and use these config values to activate linking:

<div class="confval">

intersphinx\_mapping

This config value contains the locations and names of other projects that should be linked to in this documentation.

Relative local paths for target locations are taken as relative to the base of the built documentation, while relative local paths for inventory locations are taken as relative to the source directory.

When fetching remote inventory files, proxy settings will be read from the `$HTTP_PROXY` environment variable.

**Format**

<div class="versionadded">

1.0

</div>

A dictionary mapping unique identifiers to a tuple `(target, inventory)`. Each `target` is the base URI of a foreign Sphinx documentation set and can be a local path or an HTTP URI. The `inventory` indicates where the inventory file can be found: it can be `None` (an `objects.inv` file at the same location as the base URI) or another local file path or a full HTTP URI to an inventory file.

The unique identifier can be used in the :rst`external` role, so that it is clear which intersphinx set the target belongs to. A link like `:external+python[comparison manual <comparisons>](#comparison-manual-<comparisons>)` will link to the label "comparisons" in the doc set "python", if it exists.

**Example**

To add links to modules and objects in the Python standard library documentation, use:

    intersphinx_mapping = {'python': ('https://docs.python.org/3', None)}

This will download the corresponding `objects.inv` file from the Internet and generate links to the pages under the given URI. The downloaded inventory is cached in the Sphinx environment, so it must be re-downloaded whenever you do a full rebuild.

A second example, showing the meaning of a non-`None` value of the second tuple item:

    intersphinx_mapping = {'python': ('https://docs.python.org/3',
                                      'python-inv.txt')}

This will read the inventory from `python-inv.txt` in the source directory, but still generate links to the pages under `https://docs.python.org/3`. It is up to you to update the inventory file as new objects are added to the Python documentation.

**Multiple targets for the inventory**

<div class="versionadded">

1.3

</div>

Alternative files can be specified for each inventory. One can give a tuple for the second inventory tuple item as shown in the following example. This will read the inventory iterating through the (second) tuple items until the first successful fetch. The primary use case for this to specify mirror sites for server downtime of the primary inventory:

    intersphinx_mapping = {'python': ('https://docs.python.org/3',
                                      (None, 'python-inv.txt'))}

For a set of books edited and tested locally and then published together, it could be helpful to try a local inventory file first, to check references before publication:

    intersphinx_mapping = {
        'otherbook':
            ('https://myproj.readthedocs.io/projects/otherbook/en/latest',
                ('../../otherbook/build/html/objects.inv', None)),
    }

</div>

<div class="confval">

intersphinx\_cache\_limit

The maximum number of days to cache remote inventories. The default is `5`, meaning five days. Set this to a negative value to cache inventories for unlimited time.

</div>

<div class="confval">

intersphinx\_timeout

The number of seconds for timeout. The default is `None`, meaning do not timeout.

\> **Note**

</div>

  - \>  
    timeout is not a time limit on the entire response download; rather, an exception is raised if the server has not issued a response for timeout seconds.

<div class="confval">

intersphinx\_disabled\_reftypes

<div class="versionadded">

4.3

</div>

<div class="versionchanged">

5.0

Changed default value from an empty list to `['std:doc']`.

</div>

A list of strings being either:

  - the name of a specific reference type in a domain, e.g., `std:doc`, `py:func`, or `cpp:class`,
  - the name of a domain, and a wildcard, e.g., `std:*`, `py:*`, or `cpp:*`, or
  - simply a wildcard `*`.

The default value is `['std:doc']`.

When a non-:rst`external` cross-reference is being resolved by intersphinx, skip resolution if it matches one of the specifications in this list.

For example, with `intersphinx_disabled_reftypes = ['std:doc']` a cross-reference `[installation](installation.md)` will not be attempted to be resolved by intersphinx, but `:external+otherbook[installation](installation.md)` will be attempted to be resolved in the inventory named `otherbook` in `intersphinx_mapping`. At the same time, all cross-references generated in, e.g., Python, declarations will still be attempted to be resolved by intersphinx.

If `*` is in the list of domains, then no non-:rst`external` references will be resolved by intersphinx.

</div>

## Explicitly Reference External Objects

The Intersphinx extension provides the following role.

## Showing all links of an Intersphinx mapping file

To show all Intersphinx links and their targets of an Intersphinx mapping file, run `python -msphinx.ext.intersphinx url-or-path`. This is helpful when searching for the root cause of a broken Intersphinx link in a documentation project. The following example prints the Intersphinx mapping of the Python 3 documentation:

    $ python -m sphinx.ext.intersphinx https://docs.python.org/3/objects.inv

## Using Intersphinx with inventory file under Basic Authorization

Intersphinx supports Basic Authorization like this:

    intersphinx_mapping = {'python': ('https://user:password@docs.python.org/3',
                                      None)}

The user and password will be stripped from the URL when generating the links.

---

linkcode.md

---

# `sphinx.ext.linkcode` -- Add external links to source code

<div class="module" data-synopsis="Add external links to source code.">

sphinx.ext.linkcode

</div>

<div class="moduleauthor">

Pauli Virtanen

</div>

<div class="versionadded">

1.2

</div>

This extension looks at your object descriptions (`.. class::`, `.. function::` etc.) and adds external links to code hosted somewhere on the web. The intent is similar to the `sphinx.ext.viewcode` extension, but assumes the source code can be found somewhere on the Internet.

In your configuration, you need to specify a `linkcode_resolve` function that returns an URL based on the object.

## Configuration

<div class="confval">

linkcode\_resolve

This is a function `linkcode_resolve(domain, info)`, which should return the URL to source code corresponding to the object in given domain with given information.

The function should return `None` if no link is to be added.

The argument `domain` specifies the language domain the object is in. `info` is a dictionary with the following keys guaranteed to be present (dependent on the domain):

  - `py`: `module` (name of the module), `fullname` (name of the object)
  - `c`: `names` (list of names for the object)
  - `cpp`: `names` (list of names for the object)
  - `javascript`: `object` (name of the object), `fullname` (name of the item)

Example:

\`\`\`python

</div>

  - def linkcode\_resolve(domain, info):
    
      - if domain \!= 'py':  
        return None
    
      - if not info\['module'\]:  
        return None
    
    filename = info\['module'\].replace('.', '/') return "<https://somesite/sourcerepo/%s.py>" % filename

\`\`\`

---

math.md

---

# Math support for HTML outputs in Sphinx

<div class="module" data-synopsis="Common math support for imgmath and mathjax / jsmath.">

sphinx.ext.mathbase

</div>

<div class="versionadded">

0.5

</div>

<div class="versionchanged">

1.8

Math support for non-HTML builders is integrated to sphinx-core. So mathbase extension is no longer needed.

</div>

Since mathematical notation isn't natively supported by HTML in any way, Sphinx gives a math support to HTML document with several extensions. These use the reStructuredText math :rst`directive <math>` and :rst`role <math>`.

## `sphinx.ext.imgmath` -- Render math as images

<div class="module" data-synopsis="Render math as PNG or SVG images.">

sphinx.ext.imgmath

</div>

<div class="versionadded">

1.4

</div>

This extension renders math via LaTeX and [dvipng](https://savannah.nongnu.org/projects/dvipng/) or [dvisvgm](https://dvisvgm.de/) into PNG or SVG images. This of course means that the computer where the docs are built must have both programs available.

There are various configuration values you can set to influence how the images are built:

<div class="confval">

imgmath\_image\_format

The output image format. The default is `'png'`. It should be either `'png'` or `'svg'`. The image is produced by first executing `latex` on the TeX mathematical mark-up then (depending on the requested format) either [dvipng](https://savannah.nongnu.org/projects/dvipng/) or [dvisvgm](https://dvisvgm.de/).

</div>

<div class="confval">

imgmath\_use\_preview

`dvipng` and `dvisvgm` both have the ability to collect from LaTeX the "depth" of the rendered math: an inline image should use this "depth" in a `vertical-align` style to get correctly aligned with surrounding text.

This mechanism requires the [LaTeX preview package](https://www.gnu.org/software/auctex/preview-latex.html) (available as `preview-latex-style` on Ubuntu xenial). Therefore, the default for this option is `False` but it is strongly recommended to set it to `True`.

<div class="versionchanged">

2.2

This option can be used with the `'svg'` `imgmath_image_format`.

</div>

</div>

<div class="confval">

imgmath\_add\_tooltips

Default: `True`. If false, do not add the LaTeX code as an "alt" attribute for math images.

</div>

<div class="confval">

imgmath\_font\_size

The font size (in `pt`) of the displayed math. The default value is `12`. It must be a positive integer.

</div>

<div class="confval">

imgmath\_latex

The command name with which to invoke LaTeX. The default is `'latex'`; you may need to set this to a full path if `latex` is not in the executable search path.

Since this setting is not portable from system to system, it is normally not useful to set it in `conf.py`; rather, giving it on the `sphinx-build` command line via the `-D <sphinx-build -D>` option should be preferable, like this:

``` rst
sphinx-build -M html -D imgmath_latex=C:\tex\latex.exe . _build
```

This value should only contain the path to the latex executable, not further arguments; use `imgmath_latex_args` for that purpose.

<div class="hint">

<div class="title">

Hint

</div>

To use <span class="title-ref">OpenType Math fonts</span>\_\_ with `unicode-math`, via a custom `imgmath_latex_preamble`, you can set `imgmath_latex` to `'dvilualatex'`, but must then set `imgmath_image_format` to `'svg'`. Note: this has only been tested with `dvisvgm 3.0.3`. It significantly increases image production duration compared to using standard `'latex'` with traditional TeX math fonts.

\_\_ <https://tex.stackexchange.com/questions/425098/which-opentype-math-fonts-are-available>

</div>

<div class="hint">

<div class="title">

Hint

</div>

Some fancy LaTeX mark-up (an example was reported which used TikZ to add various decorations to the equation) require multiple runs of the LaTeX executable. To handle this, set this configuration setting to `'latexmk'` (or a full path to it) as this Perl script reliably chooses dynamically how many latex runs are needed.

</div>

<div class="versionchanged">

6.2.0

Using `'xelatex'` (or a full path to it) is now supported. But you must then add `'-no-pdf'` to the `imgmath_latex_args` list of the command options. The `'svg'` `imgmath_image_format` is required. Also, you may need the `dvisvgm` binary to be relatively recent (testing was done only with its `3.0.3` release).

\> **Note**

</div>

</div>

  - \>  
    Regarding the previous note, it is currently not supported to use `latexmk` with option `-xelatex`.

<div class="confval">

imgmath\_latex\_args

Additional arguments to give to latex, as a list. The default is an empty list.

</div>

<div class="confval">

imgmath\_latex\_preamble

Additional LaTeX code to put into the preamble of the LaTeX files used to translate the math snippets. This is left empty by default. Use it e.g. to add packages which modify the fonts used for math, such as `'\\usepackage{newtxsf}'` for sans-serif fonts, or `'\\usepackage{fouriernc}'` for serif fonts. Indeed, the default LaTeX math fonts have rather thin glyphs which (in HTML output) often do not match well with the font for text.

</div>

<div class="confval">

imgmath\_dvipng

The command name to invoke `dvipng`. The default is `'dvipng'`; you may need to set this to a full path if `dvipng` is not in the executable search path. This option is only used when `imgmath_image_format` is set to `'png'`.

</div>

<div class="confval">

imgmath\_dvipng\_args

Additional arguments to give to dvipng, as a list. The default value is `['-gamma', '1.5', '-D', '110', '-bg', 'Transparent']` which makes the image a bit darker and larger then it is by default (this compensates somewhat for the thinness of default LaTeX math fonts), and produces PNGs with a transparent background. This option is used only when `imgmath_image_format` is `'png'`.

</div>

<div class="confval">

imgmath\_dvisvgm

The command name to invoke `dvisvgm`. The default is `'dvisvgm'`; you may need to set this to a full path if `dvisvgm` is not in the executable search path. This option is only used when `imgmath_image_format` is `'svg'`.

</div>

<div class="confval">

imgmath\_dvisvgm\_args

Additional arguments to give to dvisvgm, as a list. The default value is `['--no-fonts']`, which means that `dvisvgm` will render glyphs as path elements (cf the [dvisvgm FAQ](https://dvisvgm.de/FAQ)). This option is used only when `imgmath_image_format` is `'svg'`.

</div>

<div class="confval">

imgmath\_embed

Default: `False`. If true, encode LaTeX output images within HTML files (base64 encoded) and do not save separate png/svg files to disk.

<div class="versionadded">

5.2

</div>

</div>

## `sphinx.ext.mathjax` -- Render math via JavaScript

<div class="module" data-synopsis="Render math using JavaScript via MathJax.">

sphinx.ext.mathjax

</div>

<div class="warning">

<div class="title">

Warning

</div>

Version 4.0 changes the version of MathJax used to version 3. You may need to override `mathjax_path` to `https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML` or update your configuration options for version 3 (see `mathjax3_config`).

</div>

<div class="versionadded">

1.1

</div>

This extension puts math as-is into the HTML files. The JavaScript package [MathJax](https://www.mathjax.org/) is then loaded and transforms the LaTeX markup to readable math live in the browser.

Because MathJax (and the necessary fonts) is very large, it is not included in Sphinx but is set to automatically include it from a third-party site.

<div class="attention">

<div class="title">

Attention

</div>

You should use the math :rst`directive <math>` and :rst`role <math>`, not the native MathJax `$$`, `\(`, etc.

</div>

<div class="confval">

mathjax\_path

The path to the JavaScript file to include in the HTML files in order to load MathJax.

The default is the `https://` URL that loads the JS files from the <span class="title-ref">jsdelivr</span>\_\_ Content Delivery Network. See the <span class="title-ref">MathJax Getting Started page</span>\_\_ for details. If you want MathJax to be available offline or without including resources from a third-party site, you have to download it and set this value to a different path.

\_\_ <https://www.jsdelivr.com/>

\_\_ <https://www.mathjax.org/#gettingstarted>

The path can be absolute or relative; if it is relative, it is relative to the `_static` directory of the built docs.

For example, if you put MathJax into the static path of the Sphinx docs, this value would be `MathJax/MathJax.js`. If you host more than one Sphinx documentation set on one server, it is advisable to install MathJax in a shared location.

You can also give a full `https://` URL different from the CDN URL.

</div>

<div class="confval">

mathjax\_options

The options to script tag for mathjax. For example, you can set integrity option with following setting:

``` rst
mathjax_options = {
    'integrity': 'sha384-......',
}
```

The default is empty (`{}`).

<div class="versionadded">

1.8

</div>

<div class="versionchanged">

4.4.1

Allow to change the loading method (async or defer) of MathJax if "async" or "defer" key is set.

</div>

</div>

<div class="confval">

mathjax3\_config

The configuration options for MathJax v3 (which is used by default). The given dictionary is assigned to the JavaScript variable `window.MathJax`. For more information, please read <span class="title-ref">Configuring MathJax</span>\_\_.

\_\_ <https://docs.mathjax.org/en/latest/web/configuration.html#configuration>

The default is empty (not configured).

<div class="versionadded">

4.0

</div>

</div>

<div class="confval">

mathjax2\_config

The configuration options for MathJax v2 (which can be loaded via `mathjax_path`). The value is used as a parameter of `MathJax.Hub.Config()`. For more information, please read <span class="title-ref">Using in-line configuration options</span>\_\_.

  - \_\_ <https://docs.mathjax.org/en/v2.7-latest/>  
    configuration.html\#using-in-line-configuration-options

For example:

``` rst
mathjax2_config = {
    'extensions': ['tex2jax.js'],
    'jax': ['input/TeX', 'output/HTML-CSS'],
}
```

The default is empty (not configured).

<div class="versionadded">

4.0

`mathjax_config` has been renamed to `mathjax2_config`.

</div>

</div>

<div class="confval">

mathjax\_config

Former name of `mathjax2_config`.

For help converting your old MathJax configuration to to the new `mathjax3_config`, see <span class="title-ref">Converting Your v2 Configuration to v3</span>\_\_.

  - \_\_ <https://docs.mathjax.org/en/latest/web/>  
    configuration.html\#converting-your-v2-configuration-to-v3

<div class="versionadded">

1.8

</div>

<div class="versionchanged">

4.0

This has been renamed to `mathjax2_config`. `mathjax_config` is still supported for backwards compatibility.

</div>

</div>

## `sphinx.ext.jsmath` -- Render math via JavaScript

<div class="module" data-synopsis="Render math using JavaScript via JSMath.">

sphinx.ext.jsmath

</div>

This extension works just as the MathJax extension does, but uses the older package [jsMath](https://www.math.union.edu/~dpvc/jsmath/). It provides this config value:

<div class="confval">

jsmath\_path

The path to the JavaScript file to include in the HTML files in order to load JSMath. There is no default.

The path can be absolute or relative; if it is relative, it is relative to the `_static` directory of the built docs.

For example, if you put JSMath into the static path of the Sphinx docs, this value would be `jsMath/easy/load.js`. If you host more than one Sphinx documentation set on one server, it is advisable to install jsMath in a shared location.

</div>

---

napoleon.md

---

# `sphinx.ext.napoleon` -- Support for NumPy and Google style docstrings

<div class="module" data-synopsis="Support for NumPy and Google style docstrings">

sphinx.ext.napoleon

</div>

<div class="moduleauthor">

Rob Ruana

</div>

<div class="versionadded">

1.3

</div>

## Overview

Are you tired of writing docstrings that look like this:

``` text
:param path: The path of the file to wrap
:type path: str
:param field_storage: The `FileStorage` instance to wrap
:type field_storage: FileStorage
:param temporary: Whether or not to delete the file when the File
   instance is destructed
:type temporary: bool
:returns: A buffered writable file descriptor
:rtype: BufferedFileStorage
```

[reStructuredText](https://docutils.sourceforge.io/rst.html) is great, but it creates visually dense, hard to read `docstrings <287>`. Compare the jumble above to the same thing rewritten according to the [Google Python Style Guide](https://google.github.io/styleguide/pyguide.html):

``` text
Args:
    path (str): The path of the file to wrap
    field_storage (FileStorage): The `FileStorage` instance to wrap
    temporary (bool): Whether or not to delete the file when the File
       instance is destructed

Returns:
    BufferedFileStorage: A buffered writable file descriptor
```

Much more legible, no?

Napoleon is a `extension` that enables Sphinx to parse both [NumPy](https://numpydoc.readthedocs.io/en/latest/format.html#docstring-standard) and [Google](https://google.github.io/styleguide/pyguide.html#38-comments-and-docstrings) style docstrings - the style recommended by [Khan Academy](https://github.com/Khan/style-guides/blob/master/style/python.md#docstrings).

Napoleon is a pre-processor that parses [NumPy](https://numpydoc.readthedocs.io/en/latest/format.html#docstring-standard) and [Google](https://google.github.io/styleguide/pyguide.html#38-comments-and-docstrings) style docstrings and converts them to reStructuredText before Sphinx attempts to parse them. This happens in an intermediate step while Sphinx is processing the documentation, so it doesn't modify any of the docstrings in your actual source code files.

### Getting Started

1.  After \[setting up Sphinx \</usage/quickstart\>\](setting up Sphinx \</usage/quickstart\>.md) to build your docs, enable napoleon in the Sphinx `conf.py` file:
    
    ``` text
    # conf.py
    
    # Add napoleon to the extensions list
    extensions = ['sphinx.ext.napoleon']
    ```

2.  Use `sphinx-apidoc` to build your API documentation:
    
    ``` text
    $ sphinx-apidoc -f -o docs/source projectdir
    ```

### Docstrings

Napoleon interprets every docstring that `autodoc <sphinx.ext.autodoc>` can find, including docstrings on: `modules`, `classes`, `attributes`, `methods`, `functions`, and `variables`. Inside each docstring, specially formatted [Sections](#Sections) are parsed and converted to reStructuredText.

All standard reStructuredText formatting still works as expected.

### Docstring Sections

All of the following section headers are supported:

  - `Args` *(alias of Parameters)*
  - `Arguments` *(alias of Parameters)*
  - `Attention`
  - `Attributes`
  - `Caution`
  - `Danger`
  - `Error`
  - `Example`
  - `Examples`
  - `Hint`
  - `Important`
  - `Keyword Args` *(alias of Keyword Arguments)*
  - `Keyword Arguments`
  - `Methods`
  - `Note`
  - `Notes`
  - `Other Parameters`
  - `Parameters`
  - `Return` *(alias of Returns)*
  - `Returns`
  - `Raise` *(alias of Raises)*
  - `Raises`
  - `References`
  - `See Also`
  - `Tip`
  - `Todo`
  - `Warning`
  - `Warnings` *(alias of Warning)*
  - `Warn` *(alias of Warns)*
  - `Warns`
  - `Yield` *(alias of Yields)*
  - `Yields`

### Google vs NumPy

Napoleon supports two styles of docstrings: [Google](https://google.github.io/styleguide/pyguide.html#38-comments-and-docstrings) and [NumPy](https://numpydoc.readthedocs.io/en/latest/format.html#docstring-standard). The main difference between the two styles is that Google uses indentation to separate sections, whereas NumPy uses underlines.

Google style:

`` `python     def func(arg1, arg2):         """Summary line.          Extended description of function.          Args:             arg1 (int): Description of arg1             arg2 (str): Description of arg2          Returns:             bool: Description of return value          """         return True  NumPy style:  .. code-block:: python      def func(arg1, arg2):         """Summary line.          Extended description of function.          Parameters         ----------         arg1 : int             Description of arg1         arg2 : str             Description of arg2          Returns         -------         bool             Description of return value          """         return True  NumPy style tends to require more vertical space, whereas Google style ``\` tends to use more horizontal space. Google style tends to be easier to read for short and simple docstrings, whereas NumPy style tends be easier to read for long and in-depth docstrings.

The choice between styles is largely aesthetic, but the two styles should not be mixed. Choose one style for your project and be consistent with it.

<div class="seealso">

For complete examples:

  - \[example\_google\](\#example\_google)
  - \[example\_numpy\](\#example\_numpy)

</div>

### Type Annotations

`484` introduced a standard way to express types in Python code. This is an alternative to expressing types directly in docstrings. One benefit of expressing types according to `484` is that type checkers and IDEs can take advantage of them for static code analysis. `484` was then extended by `526` which introduced a similar way to annotate variables (and attributes).

Google style with Python 3 type annotations:

``` text
def func(arg1: int, arg2: str) -> bool:
    """Summary line.

    Extended description of function.

    Args:
        arg1: Description of arg1
        arg2: Description of arg2

    Returns:
        Description of return value

    """
    return True

class Class:
    """Summary line.

    Extended description of class

    Attributes:
        attr1: Description of attr1
        attr2: Description of attr2
    """

    attr1: int
    attr2: str
```

Google style with types in docstrings:

``` text
def func(arg1, arg2):
    """Summary line.

    Extended description of function.

    Args:
        arg1 (int): Description of arg1
        arg2 (str): Description of arg2

    Returns:
        bool: Description of return value

    """
    return True

class Class:
    """Summary line.

    Extended description of class

    Attributes:
        attr1 (int): Description of attr1
        attr2 (str): Description of attr2
    """
```

<div class="note">

<div class="title">

Note

</div>

[Python 2/3 compatible annotations](https://peps.python.org/pep-0484/#suggested-syntax-for-python-2-7-and-straddling-code) aren't currently supported by Sphinx and won't show up in the docs.

</div>

## Configuration

Listed below are all the settings used by napoleon and their default values. These settings can be changed in the Sphinx `conf.py` file. Make sure that "sphinx.ext.napoleon" is enabled in `conf.py`:

``` text
# conf.py

# Add any Sphinx extension module names here, as strings
extensions = ['sphinx.ext.napoleon']

# Napoleon settings
napoleon_google_docstring = True
napoleon_numpy_docstring = True
napoleon_include_init_with_doc = False
napoleon_include_private_with_doc = False
napoleon_include_special_with_doc = True
napoleon_use_admonition_for_examples = False
napoleon_use_admonition_for_notes = False
napoleon_use_admonition_for_references = False
napoleon_use_ivar = False
napoleon_use_param = True
napoleon_use_rtype = True
napoleon_preprocess_types = False
napoleon_type_aliases = None
napoleon_attr_annotations = True
```

<div class="confval">

napoleon\_google\_docstring

True to parse [Google style](https://google.github.io/styleguide/pyguide.html#38-comments-and-docstrings) docstrings. False to disable support for Google style docstrings. *Defaults to True.*

</div>

<div class="confval">

napoleon\_numpy\_docstring

True to parse [NumPy style](https://numpydoc.readthedocs.io/en/latest/format.html#docstring-standard) docstrings. False to disable support for NumPy style docstrings. *Defaults to True.*

</div>

<div class="confval">

napoleon\_include\_init\_with\_doc

True to list `__init___` docstrings separately from the class docstring. False to fall back to Sphinx's default behavior, which considers the `__init___` docstring as part of the class documentation. *Defaults to False.*

**If True**:

``` text
def __init__(self):
    """
    This will be included in the docs because it has a docstring
    """

def __init__(self):
    # This will NOT be included in the docs
```

</div>

<div class="confval">

napoleon\_include\_private\_with\_doc

True to include private members (like `_membername`) with docstrings in the documentation. False to fall back to Sphinx's default behavior. *Defaults to False.*

**If True**:

``` text
def _included(self):
    """
    This will be included in the docs because it has a docstring
    """
    pass

def _skipped(self):
    # This will NOT be included in the docs
    pass
```

</div>

<div class="confval">

napoleon\_include\_special\_with\_doc

True to include special members (like `__membername__`) with docstrings in the documentation. False to fall back to Sphinx's default behavior. *Defaults to True.*

**If True**:

``` text
def __str__(self):
    """
    This will be included in the docs because it has a docstring
    """
    return unicode(self).encode('utf-8')

def __unicode__(self):
    # This will NOT be included in the docs
    return unicode(self.__class__.__name__)
```

</div>

<div class="confval">

napoleon\_use\_admonition\_for\_examples

True to use the `.. admonition::` directive for the **Example** and **Examples** sections. False to use the `.. rubric::` directive instead. One may look better than the other depending on what HTML theme is used. *Defaults to False.*

This [NumPy style](https://numpydoc.readthedocs.io/en/latest/format.html#docstring-standard) snippet will be converted as follows:

``` text
Example
-------
This is just a quick example
```

**If True**:

``` text
.. admonition:: Example

   This is just a quick example
```

**If False**:

``` text
.. rubric:: Example

This is just a quick example
```

</div>

<div class="confval">

napoleon\_use\_admonition\_for\_notes

True to use the `.. admonition::` directive for **Notes** sections. False to use the `.. rubric::` directive instead. *Defaults to False.*

<div class="note">

<div class="title">

Note

</div>

The singular **Note** section will always be converted to a `.. note::` directive.

</div>

<div class="seealso">

`napoleon_use_admonition_for_examples`

</div>

</div>

<div class="confval">

napoleon\_use\_admonition\_for\_references

True to use the `.. admonition::` directive for **References** sections. False to use the `.. rubric::` directive instead. *Defaults to False.*

<div class="seealso">

`napoleon_use_admonition_for_examples`

</div>

</div>

<div class="confval">

napoleon\_use\_ivar

True to use the `:ivar:` role for instance variables. False to use the `.. attribute::` directive instead. *Defaults to False.*

This [NumPy style](https://numpydoc.readthedocs.io/en/latest/format.html#docstring-standard) snippet will be converted as follows:

``` text
Attributes
----------
attr1 : int
    Description of `attr1`
```

**If True**:

``` text
:ivar attr1: Description of `attr1`
:vartype attr1: int
```

**If False**:

``` text
.. attribute:: attr1

   Description of `attr1`

   :type: int
```

</div>

<div class="confval">

napoleon\_use\_param

True to use a `:param:` role for each function parameter. False to use a single `:parameters:` role for all the parameters. *Defaults to True.*

This [NumPy style](https://numpydoc.readthedocs.io/en/latest/format.html#docstring-standard) snippet will be converted as follows:

``` text
Parameters
----------
arg1 : str
    Description of `arg1`
arg2 : int, optional
    Description of `arg2`, defaults to 0
```

**If True**:

``` text
:param arg1: Description of `arg1`
:type arg1: str
:param arg2: Description of `arg2`, defaults to 0
:type arg2: `int`, *optional*
```

**If False**:

``` text
:parameters: * **arg1** (*str*) --
               Description of `arg1`
             * **arg2** (*int, optional*) --
               Description of `arg2`, defaults to 0
```

</div>

<div class="confval">

napoleon\_use\_keyword

True to use a `:keyword:` role for each function keyword argument. False to use a single `:keyword arguments:` role for all the keywords. *Defaults to True.*

This behaves similarly to `napoleon_use_param`. Note unlike docutils, `:keyword:` and `:param:` will not be treated the same way - there will be a separate "Keyword Arguments" section, rendered in the same fashion as "Parameters" section (type links created if possible)

<div class="seealso">

`napoleon_use_param`

</div>

</div>

<div class="confval">

napoleon\_use\_rtype

True to use the `:rtype:` role for the return type. False to output the return type inline with the description. *Defaults to True.*

This [NumPy style](https://numpydoc.readthedocs.io/en/latest/format.html#docstring-standard) snippet will be converted as follows:

``` text
Returns
-------
bool
    True if successful, False otherwise
```

**If True**:

``` text
:returns: True if successful, False otherwise
:rtype: bool
```

**If False**:

``` text
:returns: *bool* -- True if successful, False otherwise
```

</div>

<div class="confval">

napoleon\_preprocess\_types

True to convert the type definitions in the docstrings as references. Defaults to *False*.

<div class="versionadded">

3.2.1

</div>

<div class="versionchanged">

3.5

Do preprocess the Google style docstrings also.

</div>

</div>

<div class="confval">

napoleon\_type\_aliases

A mapping to translate type names to other names or references. Works only when `napoleon_use_param = True`. *Defaults to None.*

With:

``` text
napoleon_type_aliases = {
    "CustomType": "mypackage.CustomType",
    "dict-like": ":term:`dict-like <mapping>`",
}
```

This [NumPy style](https://numpydoc.readthedocs.io/en/latest/format.html#docstring-standard) snippet:

``` text
Parameters
----------
arg1 : CustomType
    Description of `arg1`
arg2 : dict-like
    Description of `arg2`
```

becomes:

``` text
:param arg1: Description of `arg1`
:type arg1: mypackage.CustomType
:param arg2: Description of `arg2`
:type arg2: :term:`dict-like <mapping>`
```

<div class="versionadded">

3.2

</div>

</div>

<div class="confval">

napoleon\_attr\_annotations

True to allow using `526` attributes annotations in classes. If an attribute is documented in the docstring without a type and has an annotation in the class body, that type is used.

<div class="versionadded">

3.4

</div>

</div>

<div class="confval">

napoleon\_custom\_sections

Add a list of custom sections to include, expanding the list of parsed sections. *Defaults to None.*

The entries can either be strings or tuples, depending on the intention:

  - To create a custom "generic" section, just pass a string.
  - To create an alias for an existing section, pass a tuple containing the alias name and the original, in that order.
  - To create a custom section that displays like the parameters or returns section, pass a tuple containing the custom section name and a string value, "params\_style" or "returns\_style".

If an entry is just a string, it is interpreted as a header for a generic section. If the entry is a tuple/list/indexed container, the first entry is the name of the section, the second is the section key to emulate. If the second entry value is "params\_style" or "returns\_style", the custom section will be displayed like the parameters section or returns section.

<div class="versionadded">

1.8

</div>

<div class="versionchanged">

3.5 Support `params_style` and `returns_style`

</div>

</div>

---

todo.md

---

# `sphinx.ext.todo` -- Support for todo items

<div class="module" data-synopsis="Allow inserting todo items into documents.">

sphinx.ext.todo

</div>

<div class="moduleauthor">

Daniel Bültmann

</div>

<div class="versionadded">

0.5

</div>

There are two additional directives when using this extension:

These can be configured as seen below.

## Configuration

<div class="confval">

todo\_include\_todos

If this is `True`, :rst`todo` and :rst`todolist` produce output, else they produce nothing. The default is `False`.

</div>

<div class="confval">

todo\_emit\_warnings

If this is `True`, :rst`todo` emits a warning for each TODO entries. The default is `False`.

<div class="versionadded">

1.5

</div>

</div>

<div class="confval">

todo\_link\_only

If this is `True`, :rst`todolist` produce output without file path and line, The default is `False`.

<div class="versionadded">

1.4

</div>

</div>

autodoc provides the following an additional event:

<div class="event">

todo-defined (app, node)

<div class="versionadded">

1.5

</div>

Emitted when a todo is defined. *node* is the defined `sphinx.ext.todo.todo_node` node.

</div>

---

viewcode.md

---

# `sphinx.ext.viewcode` -- Add links to highlighted source code

<div class="module" data-synopsis="Add links to a highlighted version of the source code.">

sphinx.ext.viewcode

</div>

<div class="moduleauthor">

Georg Brandl

</div>

<div class="versionadded">

1.0

</div>

This extension looks at your Python object descriptions (`.. class::`, `.. function::` etc.) and tries to find the source files where the objects are contained. When found, a separate HTML page will be output for each module with a highlighted version of the source code, and a link will be added to all object descriptions that leads to the source code of the described object. A link back from the source to the description will also be inserted.

\> **Warning** \> Basically, `viewcode` extension will import the modules being linked to. If any modules have side effects on import, these will be executed when `sphinx-build` is run.

> If you document scripts (as opposed to library modules), make sure their main routine is protected by a `if __name__ == '__main__'` condition.
> 
> In addition, if you don't want to import the modules by `viewcode`, you can tell the location of the location of source code to `viewcode` using the `viewcode-find-source` event.
> 
> If `viewcode_follow_imported_members` is enabled, you will also need to resolve imported attributes using the `viewcode-follow-imported` event.

This extension works only on HTML related builders like `html`, `applehelp`, `devhelp`, `htmlhelp`, `qthelp` and so on except `singlehtml`. By default `epub` builder doesn't support this extension (see `viewcode_enable_epub`).

## Configuration

<div class="confval">

viewcode\_follow\_imported\_members

If this is `True`, viewcode extension will emit `viewcode-follow-imported` event to resolve the name of the module by other extensions. The default is `True`.

<div class="versionadded">

1.3

</div>

<div class="versionchanged">

1.8 Renamed from `viewcode_import` to `viewcode_follow_imported_members`.

</div>

</div>

<div class="confval">

viewcode\_enable\_epub

If this is `True`, viewcode extension is also enabled even if you use epub builders. This extension generates pages outside toctree, but this is not preferred as epub format.

Until 1.4.x, this extension is always enabled. If you want to generate epub as same as 1.4.x, you should set `True`, but epub format checker's score becomes worse.

The default is `False`.

<div class="versionadded">

1.5

</div>

\> **Warning**

</div>

  - \>  
    Not all epub readers support pages generated by viewcode extension. These readers ignore links to pages are not under toctree.
    
    Some reader's rendering result are corrupted and [epubcheck](https://github.com/IDPF/epubcheck)'s score becomes worse even if the reader supports.

<div class="confval">

viewcode\_line\_numbers

Default: `False`.

If set to `True`, inline line numbers will be added to the highlighted code.

<div class="versionadded">

7.2

</div>

</div>

<div class="event">

viewcode-find-source (app, modname)

<div class="versionadded">

1.8

</div>

Find the source code for a module. An event handler for this event should return a tuple of the source code itself and a dictionary of tags. The dictionary maps the name of a class, function, attribute, etc to a tuple of its type, the start line number, and the end line number. The type should be one of "class", "def", or "other".

  - param app  
    The Sphinx application object.

  - param modname  
    The name of the module to find source code for.

</div>

<div class="event">

viewcode-follow-imported (app, modname, attribute)

<div class="versionadded">

1.8

</div>

Find the name of the original module for an attribute.

  - param app  
    The Sphinx application object.

  - param modname  
    The name of the module that the attribute belongs to.

  - param attribute  
    The name of the member to follow.

</div>

---

index.md

---

# Using Sphinx

This guide serves to demonstrate how one can get started with Sphinx and covers everything from installing Sphinx and configuring your first Sphinx project to using some of the advanced features Sphinx provides out-of-the-box. If you are looking for guidance on extending Sphinx, refer to \[/development/index\](/development/index.md).

<div class="toctree" data-maxdepth="2">

restructuredtext/index markdown referencing configuration builders/index domains/index extensions/index theming advanced/intl advanced/websupport/index

</div>

---

installation.md

---

# Installing Sphinx

Sphinx is a Python application. It can be installed in one of the ways described below.

<div class="contents" data-depth="2" data-local="" data-backlinks="none">

Installation methods

</div>

After installation, you can check that Sphinx is available by running :

``` console
$ sphinx-build --version
```

This should print out the Sphinx version number.

\> **Tip** \> For local development, it is generally recommended to install Sphinx into a non-global environment (using for example [venv](https://docs.anaconda.com/anaconda/) or [conda](https://docs.anaconda.com/miniconda/) environments). This will allow for the use of separate sphinx versions and third-party extensions for each sphinx project.

> \_\_ <https://docs.python.org/3/library/venv.html> \_\_ <https://conda.io/projects/conda/en/latest/user-guide/getting-started.html>

## PyPI package

Sphinx packages are published on the [Python Package Index](https://pypi.org/project/Sphinx/) (PyPI). The preferred tool for installing packages from PyPI is `pip`, which is included in all modern versions of Python.

Run the following command:

``` console
$ pip install -U sphinx
```

\> **Tip** \> To avoid issues when rebuilding your environment, it is advisable to pin sphinx and third-party extension versions in a [requirements.txt file](https://github.com/conda-forge/miniforge/):

``` console
$ pip install -r requirements.txt

Or, if writing documentation for a Python package,
place the dependencies in the `pyproject.toml file`__::

$ pip install .[docs]

__ https://pip.pypa.io/en/stable/reference/requirements-file-format/
__ https://packaging.python.org/en/latest/guides/writing-pyproject-toml/#dependencies-optional-dependencies
```

## Conda package

To work with `conda`, you need a conda-based Python distribution such as [anaconda](https://mamba.readthedocs.io/en/latest/installation/micromamba-installation.html), [miniconda](https://brew.sh/), [miniforge](https://www.macports.org/) or [micromamba](https://formulae.brew.sh/formula/sphinx-doc).

Sphinx is available both via the *anaconda main* channel (maintained by Anaconda Inc.)

``` console
$ conda install sphinx
```

as well as via the *conda-forge* community channel :

``` console
$ conda install -c conda-forge sphinx
```

## OS-specific package manager

You may install a global version of Sphinx into your system using OS-specific package managers. However, be aware that this is less flexible and you may run into compatibility issues if you want to work across different projects.

### Linux

#### Debian/Ubuntu

Install either `python3-sphinx` using `apt-get`:

``` console
$ apt-get install python3-sphinx
```

If it not already present, this will install Python for you.

#### RHEL, CentOS

Install `python-sphinx` using `yum`:

``` console
$ yum install python-sphinx
```

If it not already present, this will install Python for you.

#### Other distributions

Most Linux distributions have Sphinx in their package repositories. Usually the package is called `python3-sphinx`, `python-sphinx` or `sphinx`. Be aware that there are at least two other packages with `sphinx` in their name: a speech recognition toolkit (*CMU Sphinx*) and a full-text search database (*Sphinx search*).

### macOS

Sphinx can be installed using [Homebrew](https://www.macports.org/ports.php?by=library&substr=py313-sphinx), [MacPorts](https://chocolatey.org/).

#### Homebrew

``` console
$ brew install sphinx-doc
```

For more information, refer to the [package overview](https://chocolatey.org/packages/sphinx/).

#### MacPorts

Install either `python3x-sphinx` using `port`:

``` console
$ sudo port install py313-sphinx
```

To set up the executable paths, use the `port select` command:

``` console
$ sudo port select --set python python313
$ sudo port select --set sphinx py313-sphinx
```

For more information, refer to the [package overview](https://hub.docker.com/r/sphinxdoc/sphinx).

### Windows

Sphinx can be install using [Chocolatey](https://github.com/sphinx-doc/sphinx).

#### Chocolatey

``` console
$ choco install sphinx
```

You would need to [install Chocolatey](https://chocolatey.org/install) before running this.

For more information, refer to the [chocolatey page](https://github.com/sphinx-doc/sphinx/archive/master.tar.gz).

## Docker

Docker images for Sphinx are published on the [Docker Hub](https://hub.docker.com/). There are two kind of images:

  - [sphinxdoc/sphinx](https://hub.docker.com/r/sphinxdoc/sphinx)
  - [sphinxdoc/sphinx-latexpdf](https://hub.docker.com/r/sphinxdoc/sphinx-latexpdf)

Former one is used for standard usage of Sphinx, and latter one is mainly used for PDF builds using LaTeX. Please choose one for your purpose.

\> **Note** \> sphinxdoc/sphinx-latexpdf contains TeXLive packages. So the image is very large (over 2GB\!).

<div class="hint">

<div class="title">

Hint

</div>

When using docker images, please use `docker run` command to invoke sphinx commands. For example, you can use following command to create a Sphinx project:

  - \`\`\`console  
    $ docker run -it --rm -v /path/to/document:/docs sphinxdoc/sphinx sphinx-quickstart

And you can use the following command to build HTML document:

``` console
$ docker run --rm -v /path/to/document:/docs sphinxdoc/sphinx make html
```

</div>

For more details, please read [README file](https://github.com/sphinx-doc/sphinx/archive/master.zip) of docker images.

Installation of the latest development release `` ` ----------------------------------------------  You can install the latest development from *PyPI* using the ``--pre\`\` flag:

``` console
$ pip install -U --pre sphinx
```

\> **Warning** \> You will not generally need (or want) to do this, but it can be useful if you see a possible bug in the latest stable release.

## Installation from source

You can install Sphinx directly from a clone of the <span class="title-ref">Git repository</span>\_\_. This can be done either by cloning the repo and installing from the local clone, on simply installing directly via `git`.

``` console
$ git clone https://github.com/sphinx-doc/sphinx
$ cd sphinx
$ pip install .
```

``` console
$ pip install git+https://github.com/sphinx-doc/sphinx
```

You can also download a snapshot of the Git repo in either <span class="title-ref">tar.gz</span>\_\_ or <span class="title-ref">zip</span>\_\_ format. Once downloaded and extracted, these can be installed with `pip` as above.

---

markdown.md

---

# Markdown

[Markdown](https://daringfireball.net/projects/markdown/) is a lightweight markup language with a simplistic plain text formatting syntax. It exists in many syntactically different *flavors*. To support Markdown-based documentation, Sphinx can use [MyST-Parser](https://myst-parser.readthedocs.io/en/latest/). MyST-Parser is a Docutils bridge to [markdown-it-py](https://github.com/executablebooks/markdown-it-py), a Python package for parsing the [CommonMark](https://commonmark.org/) Markdown flavor.

## Configuration

To configure your Sphinx project for Markdown support, proceed as follows:

1.  Install the Markdown parser *MyST-Parser*:
    
    ``` python
    pip install --upgrade myst-parser
    ```

2.  Add *myst\_parser* to the `list of configured extensions <extensions>`:
    
    ``` python
    extensions = ['myst_parser']
    ```
    
    <div class="note">
    
    <div class="title">
    
    Note
    
    </div>
    
    MyST-Parser requires Sphinx 2.1 or newer.
    
    </div>

3.  If you want to use Markdown files with extensions other than `.md`, adjust the `source_suffix` variable. The following example configures Sphinx to parse all files with the extensions `.md` and `.txt` as Markdown:
    
    ``` python
    source_suffix = {
        '.rst': 'restructuredtext',
        '.txt': 'markdown',
        '.md': 'markdown',
    }
    ```

4.  You can further configure *MyST-Parser* to allow custom syntax that standard *CommonMark* doesn't support. Read more in the [MyST-Parser documentation](https://myst-parser.readthedocs.io/en/latest/using/syntax-optional.html).

---

quickstart.md

---

# Getting started

Sphinx is a *documentation generator* or a tool that translates a set of plain text source files into various output formats, automatically producing cross-references, indices, etc. That is, if you have a directory containing a bunch of \[/usage/restructuredtext/index\](/usage/restructuredtext/index.md) or \[/usage/markdown\](/usage/markdown.md) documents, Sphinx can generate a series of HTML files, a PDF file (via LaTeX), man pages and much more.

Sphinx focuses on documentation, in particular handwritten documentation, however, Sphinx can also be used to generate blogs, homepages and even books. Much of Sphinx's power comes from the richness of its default plain-text markup format, \[reStructuredText \</usage/restructuredtext/index\>\](reStructuredText \</usage/restructuredtext/index\>.md), along with its \[significant extensibility capabilities \</development/index\>\](significant extensibility capabilities \</development/index\>.md).

The goal of this document is to give you a quick taste of what Sphinx is and how you might use it. When you're done here, you can check out the \[installation guide \</usage/installation\>\](installation guide \</usage/installation\>.md) followed by the intro to the default markup format used by Sphinx, \[reStructuredText \</usage/restructuredtext/index\>\](reStructuredText \</usage/restructuredtext/index\>.md).

For a great "introduction" to writing docs in general -- the whys and hows, see also [Write the docs](https://www.writethedocs.org/guide/writing/beginners-guide-to-docs/), written by Eric Holscher.

## Setting up the documentation sources

The root directory of a Sphinx collection of plain-text document sources is called the `source directory`. This directory also contains the Sphinx configuration file `conf.py`, where you can configure all aspects of how Sphinx reads your sources and builds your documentation.\[1\]

Sphinx comes with a script called `sphinx-quickstart` that sets up a source directory and creates a default `conf.py` with the most useful configuration values from a few questions it asks you. To use this, run:

`` `console    $ sphinx-quickstart   Defining document structure ``\` ---------------------------

Let's assume you've run `sphinx-quickstart`. It created a source directory with `conf.py` and a root document, `index.rst`. The main function of the `root document` is to serve as a welcome page, and to contain the root of the "table of contents tree" (or *toctree*). This is one of the main things that Sphinx adds to reStructuredText, a way to connect multiple files to a single hierarchy of documents.

<div class="admonition note">

reStructuredText directives

`toctree` is a reStructuredText `directive`, a very versatile piece of markup. Directives can have arguments, options and content.

*Arguments* are given directly after the double colon following the directive's name. Each directive decides whether it can have arguments, and how many.

*Options* are given after the arguments, in form of a "field list". The `maxdepth` is such an option for the `toctree` directive.

*Content* follows the options or arguments after a blank line. Each directive decides whether to allow content, and what to do with it.

A common gotcha with directives is that **the first line of the content must be indented to the same level as the options are**.

</div>

The `toctree` directive initially is empty, and looks like so:

`` `rst    .. toctree::       :maxdepth: 2  You add documents listing them in the *content* of the directive:  .. code-block:: rst     .. toctree::       :maxdepth: 2        usage/installation       usage/quickstart       ...  This is exactly how the ``toctree`for this documentation looks.  The`<span class="title-ref"> documents to include are given as :term:\`document name</span>s, which in short means that you leave off the file name extension and use forward slashes (`/`) as directory separators.

<div class="seealso">

Read more about \[the toctree directive \<toctree-directive\>\](\#the-toctree-directive-\<toctree-directive\>).

</div>

You can now create the files you listed in the `toctree` and add content, and their section titles will be inserted (up to the `maxdepth` level) at the place where the `toctree` directive is placed. Also, Sphinx now knows about the order and hierarchy of your documents. (They may contain `toctree` directives themselves, which means you can create deeply nested hierarchies if necessary.)

## Adding content

In Sphinx source files, you can use most features of standard `reStructuredText`. There are also several features added by Sphinx. For example, you can add cross-file references in a portable way (which works for all output types) using the :rst`ref` role.

For an example, if you are viewing the HTML version, you can look at the source for this document -- use the "Show Source" link in the sidebar.

<div class="todo">

Update the below link when we add new guides on these.

</div>

<div class="seealso">

\[/usage/restructuredtext/index\](/usage/restructuredtext/index.md) for a more in-depth introduction to reStructuredText, including markup added by Sphinx.

</div>

## Running the build

Now that you have added some files and content, let's make a first build of the docs. A build is started with the `sphinx-build` program:

`` `console    $ sphinx-build -M html sourcedir outputdir  where *sourcedir* is the :term:`source directory`, and *outputdir* is the ``<span class="title-ref"> directory in which you want to place the built documentation. The :option:</span>-M \<sphinx-build -M\>\` option selects a builder; in this example Sphinx will build HTML files.

<div class="seealso">

Refer to the \[sphinx-build man page \</man/sphinx-build\>\](sphinx-build man page \</man/sphinx-build\>.md) for all options that `sphinx-build` supports.

</div>

You can also build a **live version of the documentation** that you can preview in the browser. It will detect changes and reload the page any time you make edits. To do so, use [sphinx-autobuild](https://github.com/sphinx-doc/sphinx-autobuild) to run the following command:

`` `console    $ sphinx-autobuild source-dir output-dir    However, :program:`sphinx-quickstart` script creates a :file:`Makefile` and a ``<span class="title-ref"> :file:\`make.bat</span> which make life even easier for you. These can be executed by running `make` with the name of the builder. For example.

`` `console    $ make html  This will build HTML docs in the build directory you chose. Execute ``<span class="title-ref"> :command:\`make</span> without an argument to see which targets are available.

<div class="admonition">

How do I generate PDF documents?

`make latexpdf` runs the `LaTeX builder
<sphinx.builders.latex.LaTeXBuilder>` and readily invokes the pdfTeX toolchain for you.

</div>

<div class="todo">

Move this whole section into a guide on rST or directives

</div>

## Documenting objects

One of Sphinx's main objectives is easy documentation of `objects` (in a very general sense) in any `domain`. A domain is a collection of object types that belong together, complete with markup to create and reference descriptions of these objects.

The most prominent domain is the Python domain. For example, to document Python's built-in function `enumerate()`, you would add this to one of your source files.

`` `rst    .. py:function:: enumerate(sequence[, start=0])        Return an iterator that yields tuples of an index and an item of the       *sequence*. (And so on.)  This is rendered like this:  .. py:function:: enumerate(sequence[, start=0])     Return an iterator that yields tuples of an index and an item of the    *sequence*. (And so on.)  The argument of the directive is the :dfn:`signature` of the object you ``\` describe, the content is the documentation for it. Multiple signatures can be given, each in its own line.

The Python domain also happens to be the default domain, so you don't need to prefix the markup with the domain name.

`` `rst    .. function:: enumerate(sequence[, start=0])        ...  does the same job if you keep the default setting for the default domain.  There are several more directives for documenting other types of Python ``<span class="title-ref"> objects, for example :rst:dir:\`py:class</span> or :rst`py:method`. There is also a cross-referencing `role` for each of these object types. This markup will create a link to the documentation of `enumerate()`.

    The :py`enumerate` function can be used for ...

And here is the proof: A link to <span class="title-ref">enumerate</span>.

Again, the `py:` can be left out if the Python domain is the default one. It doesn't matter which file contains the actual documentation for `enumerate()`; Sphinx will find it and create a link to it.

Each domain will have special rules for how the signatures can look like, and make the formatted output look pretty, or add specific features like links to parameter types, e.g. in the C/C++ domains.

<div class="seealso">

\[/usage/domains/index\](/usage/domains/index.md) for all the available domains and their directives/roles.

</div>

## Basic configuration

Earlier we mentioned that the `conf.py` file controls how Sphinx processes your documents. In that file, which is executed as a Python source file, you assign configuration values. For advanced users: since it is executed by Sphinx, you can do non-trivial tasks in it, like extending <span class="title-ref">sys.path</span> or importing a module to find out the version you are documenting.

The config values that you probably want to change are already put into the `conf.py` by `sphinx-quickstart` and initially commented out (with standard Python syntax: a `#` comments the rest of the line). To change the default value, remove the hash sign and modify the value. To customize a config value that is not automatically added by `sphinx-quickstart`, just add an additional assignment.

Keep in mind that the file uses Python syntax for strings, numbers, lists and so on. The file is saved in UTF-8 by default, as indicated by the encoding declaration in the first line.

<div class="seealso">

\[/usage/configuration\](/usage/configuration.md) for documentation of all available config values.

</div>

<div class="todo">

Move this entire doc to a different section

</div>

## Autodoc

When documenting Python code, it is common to put a lot of documentation in the source files, in documentation strings. Sphinx supports the inclusion of docstrings from your modules with an `extension` (an extension is a Python module that provides additional features for Sphinx projects) called *autodoc*.

<div class="seealso">

`sphinx.ext.autodoc` for the complete description of the features of autodoc.

</div>

## Intersphinx

Many Sphinx documents including the [Python documentation](https://docs.python.org/3) are published on the Internet. When you want to make links to such documents from your documentation, you can do it with `sphinx.ext.intersphinx`.

In order to use intersphinx, you need to activate it in `conf.py` by putting the string `'sphinx.ext.intersphinx'` into the `extensions` list and set up the `intersphinx_mapping` config value.

For example, to link to `io.open()` in the Python library manual, you need to setup your `intersphinx_mapping` like:

    intersphinx_mapping = {'python': ('https://docs.python.org/3', None)}

And now, you can write a cross-reference like ``:py`io.open``<span class="title-ref">. Any cross-reference that has no matching target in the current documentation set, will be looked up in the documentation sets configured in :confval:\`intersphinx\_mapping</span> (this needs access to the URL in order to download the list of valid targets). Intersphinx also works for some other `domain`'s roles including `:ref:`, however it doesn't work for `:doc:` as that is non-domain role.

<div class="seealso">

`sphinx.ext.intersphinx` for the complete description of the features of intersphinx.

</div>

## More topics to be covered

  - \[Other extensions \</usage/extensions/index\>\](Other extensions \</usage/extensions/index\>.md):
  - Static files
  - \[Selecting a theme \</usage/theming\>\](Selecting a theme \</usage/theming\>.md)
  - \[Templating \<templating\>\](\#templating-\<templating\>)
  - Using extensions
  - \[Writing extensions \<dev-extensions\>\](\#writing-extensions-\<dev-extensions\>)

**Footnotes**

1.  This is the usual layout. However, `conf.py` can also live in another directory, the `configuration directory`. Refer to the \[sphinx-build man page \</man/sphinx-build\>\](sphinx-build man page \</man/sphinx-build\>.md) for more information.

---

referencing.md

---

# Cross-references

One of Sphinx's most useful features is creating automatic cross-references through semantic cross-referencing roles. A cross reference to an object description, such as `` `spam ``<span class="title-ref">, will create a link to the place where </span><span class="title-ref">spam()</span>\` is documented, appropriate to each output format (HTML, PDF, ePUB, etc.).

## Syntax

Sphinx supports various cross-referencing roles to create links to other elements in the documentation. In general, writing ``:role:`target``\` creates a link to the object called *target* of the type indicated by *role*. The link's text depends the role but is often the same as or similar to *target*.

<div id="xref-modifiers">

The behavior can be modified in the following ways:

</div>

  - **Custom link text:** You can specify the link text explicitly using the same notation as in reStructuredText \[external links \<rst-external-links\>\](\#external-links-\<rst-external-links\>): ``:role:`custom text <target>``\` will refer to *target* and display *custom text* as the text of the link.

  - **Suppressed link:** Prefixing with an exclamation mark (`!`) prevents the creation of a link but otherwise keeps the visual output of the role.
    
    For example, writing ``:py`!target``<span class="title-ref"> displays :py</span>\!target\`, with no link generated.
    
    This is helpful for cases in which the link target does not exist; e.g. changelog entries that describe removed functionality, or third-party libraries that don't support \[intersphinx \</usage/extensions/intersphinx\>\](intersphinx \</usage/extensions/intersphinx\>.md). Suppressing the link prevents warnings in `nitpicky` mode.

  - **Modified domain reference:** When \[referencing domain objects \<ref-objects\>\](\#referencing-domain-objects-\<ref-objects\>), a tilde `~` prefix shortens the link text to the last component of the target. For example, ``:py`~queue.Queue.get``<span class="title-ref"> will refer to </span><span class="title-ref">queue.Queue.get</span><span class="title-ref"> but only display </span><span class="title-ref">get</span>\` as the link text.
    
    In HTML output, the link's `title` attribute (that is e.g. shown as a tool-tip on mouse-hover) will always be the full target name.

## Cross-referencing objects

These roles are described with their respective domains:

  - \[C \<c-xref-roles\>\](\#c-\<c-xref-roles\>)
  - \[C++ \<cpp-xref-roles\>\](\#c++-\<cpp-xref-roles\>)
  - \[JavaScript \<js-xref-roles\>\](\#javascript-\<js-xref-roles\>)
  - \[reStructuredText \<rst-xref-roles\>\](\#restructuredtext-\<rst-xref-roles\>)
  - \[Python \<python-xref-roles\>\](\#python-\<python-xref-roles\>)

## Cross-referencing arbitrary locations

  - \>  
    Reference labels must start with an underscore. When referencing a label, the underscore must be omitted (see examples above).
    
    Using :rst`ref` is advised over standard reStructuredText links to sections (like `` `Section title`_ ``) because it works across files, when section headings are changed, will raise warnings if incorrect, and works for all builders that support cross-references.

## Cross-referencing documents

<div class="versionadded">

0.6

</div>

There is also a way to directly link to documents:

## Referencing downloadable files

<div class="versionadded">

0.6

</div>

## Cross-referencing figures by figure number

<div class="versionadded">

1.3

</div>

<div class="versionchanged">

1.5 :rst`numref` role can also refer sections. And :rst`numref` allows `{name}` for the link text.

</div>

## Cross-referencing other items of interest

The following roles do possibly create a cross-reference, but do not refer to objects:

The following role creates a cross-reference to a term in a \[glossary \<glossary-directive\>\](\#glossary-\<glossary-directive\>):

## Cross-referencing anything

---

basics.md

---

# reStructuredText Primer

reStructuredText is the default plaintext markup language used by Sphinx. This section is a brief introduction to reStructuredText (reST) concepts and syntax, intended to provide authors with enough information to author documents productively. Since reStructuredText was designed to be a simple, unobtrusive markup language, this will not take too long.

<div class="seealso">

The authoritative [reStructuredText User Documentation](https://docutils.sourceforge.io/rst.html). The "ref" links in this document link to the description of the individual constructs in the reStructuredText reference.

</div>

## Paragraphs

The paragraph (`ref <paragraphs>`) is the most basic block in a reStructuredText document. Paragraphs are simply chunks of text separated by one or more blank lines. As in Python, indentation is significant in reStructuredText, so all lines of the same paragraph must be left-aligned to the same level of indentation.

## Inline markup

The standard reStructuredText inline markup is quite simple: use

  - one asterisk: `*text*` for emphasis (italics),
  - two asterisks: `**text**` for strong emphasis (boldface), and
  - backquotes: `  `text`  ` for code samples.

If asterisks or backquotes appear in running text and could be confused with inline markup delimiters, they have to be escaped with a backslash.

Be aware of some restrictions of this markup:

  - it may not be nested,
  - content may not start or end with whitespace: `* text*` is wrong,
  - it must be separated from surrounding text by non-word characters. Use a backslash escaped space to work around that: `thisis\ *one*\ word`.

These restrictions may be lifted in future versions of the docutils.

It is also possible to replace or expand upon some of this inline markup with roles. Refer to \[rst-roles\](\#rst-roles) for more information.

## Lists and Quote-like blocks

List markup (`ref <bullet-lists>`) is natural: just place an asterisk at the start of a paragraph and indent properly. The same goes for numbered lists; they can also be autonumbered using a `#` sign:

``` rst
* This is a bulleted list.
* It has two items, the second
  item uses two lines.

1. This is a numbered list.
2. It has two items too.

#. This is a numbered list.
#. It has two items too.
```

Nested lists are possible, but be aware that they must be separated from the parent list items by blank lines:

``` rst
* this is
* a list

  * with a nested list
  * and some subitems

* and here the parent list continues
```

Definition lists (`ref <definition-lists>`) are created as follows:

``` rst
term (up to a line of text)
   Definition of the term, which must be indented

   and can even consist of multiple paragraphs

next term
   Description.
```

Note that the term cannot have more than one line of text.

Quoted paragraphs (`ref <block-quotes>`) are created by just indenting them more than the surrounding paragraphs.

Line blocks (`ref <line-blocks>`) are a way of preserving line breaks:

``` rst
| These lines are
| broken exactly like in
| the source file.
```

There are also several more special blocks available:

  - field lists (`ref <field-lists>`, with caveats noted in \[rst-field-lists\](\#rst-field-lists))
  - option lists (`ref <option-lists>`)
  - quoted literal blocks (`ref <quoted-literal-blocks>`)
  - doctest blocks (`ref <doctest-blocks>`)

## Literal blocks

Literal code blocks (`ref <literal-blocks>`) are introduced by ending a paragraph with the special marker `::`. The literal block must be indented (and, like all paragraphs, separated from the surrounding ones by blank lines):

``` rst
This is a normal text paragraph. The next paragraph is a code sample::

   It is not processed in any way, except
   that the indentation is removed.

   It can span multiple lines.

This is a normal text paragraph again.
```

The handling of the `::` marker is smart:

  - If it occurs as a paragraph of its own, that paragraph is completely left out of the document.
  - If it is preceded by whitespace, the marker is removed.
  - If it is preceded by non-whitespace, the marker is replaced by a single colon.

That way, the second sentence in the above example's first paragraph would be rendered as "The next paragraph is a code sample:".

Code highlighting can be enabled for these literal blocks on a document-wide basis using the :rst`highlight` directive and on a project-wide basis using the `highlight_language` configuration option. The :rst`code-block` directive can be used to set highlighting on a block-by-block basis. These directives are discussed later.

## Doctest blocks

Doctest blocks (`ref <doctest-blocks>`) are interactive Python sessions cut-and-pasted into docstrings. They do not require the \[literal blocks \<rst-literal-blocks\>\](\#literal-blocks-\<rst-literal-blocks\>) syntax. The doctest block must end with a blank line and should *not* end with an unused prompt:

``` rst
>>> 1 + 1
2
```

## Tables

For *grid tables* (`ref <grid-tables>`), you have to "paint" the cell grid yourself. They look like this:

``` rst
+------------------------+------------+----------+----------+
| Header row, column 1   | Header 2   | Header 3 | Header 4 |
| (header rows optional) |            |          |          |
+========================+============+==========+==========+
| body row 1, column 1   | column 2   | column 3 | column 4 |
+------------------------+------------+----------+----------+
| body row 2             | ...        | ...      |          |
+------------------------+------------+----------+----------+
```

*Simple tables* (`ref <simple-tables>`) are easier to write, but limited: they must contain more than one row, and the first column cells cannot contain multiple lines. They look like this:

``` rst
=====  =====  =======
A      B      A and B
=====  =====  =======
False  False  False
True   False  False
False  True   False
True   True   True
=====  =====  =======
```

Two more syntaxes are supported: *CSV tables* and *List tables*. They use an *explicit markup block*. Refer to \[table-directives\](\#table-directives) for more information.

## Hyperlinks

### External links

Use `` `Link text <https://domain.invalid/>`_ `` for inline web links. If the link text should be the web address, you don't need special markup at all, the parser finds links and mail addresses in ordinary text.

<div class="important">

<div class="title">

Important

</div>

There must be a space between the link text and the opening \< for the URL.

</div>

You can also separate the link and the target definition (`ref
<hyperlink-targets>`), like this:

``` rst
This is a paragraph that contains `a link`_.

.. _a link: https://domain.invalid/
```

### Internal links

Internal linking is done via a special reStructuredText role provided by Sphinx, see the section on specific markup, \[ref-role\](\#ref-role).

## Sections

Section headers (`ref <sections>`) are created by underlining (and optionally overlining) the section title with a punctuation character, at least as long as the text:

``` rst
=================
This is a heading
=================
```

Normally, there are no heading levels assigned to certain characters as the structure is determined from the succession of headings. However, this convention is used in [Python Developer's Guide for documenting](https://devguide.python.org/documentation/markup/#sections) which you may follow:

  - `#` with overline, for parts
  - `*` with overline, for chapters
  - `=` for sections
  - `-` for subsections
  - `^` for subsubsections
  - `"` for paragraphs

Of course, you are free to use your own marker characters (see the reStructuredText documentation), and use a deeper nesting level, but keep in mind that most target formats (HTML, LaTeX) have a limited supported nesting depth.

## Field Lists

Field lists (`ref <field-lists>`) are sequences of fields marked up like this:

``` rst
:fieldname: Field content
```

They are commonly used in Python documentation:

``` rst
def my_function(my_arg, my_other_arg):
    """A function just for me.

    :param my_arg: The first of my arguments.
    :param my_other_arg: The second of my arguments.

    :returns: A message (just for me, of course).
    """
```

Sphinx extends standard docutils behavior and intercepts field lists specified at the beginning of documents. Refer to \[field-lists\](field-lists.md) for more information.

## Roles

A role or "custom interpreted text role" (`ref <roles>`) is an inline piece of explicit markup. It signifies that the enclosed text should be interpreted in a specific way. Sphinx uses this to provide semantic markup and cross-referencing of identifiers, as described in the appropriate section. The general syntax is ``:rolename:`content``\`.

Docutils supports the following roles:

  - `emphasis` -- equivalent of `*emphasis*`
  - `strong` -- equivalent of `**strong**`
  - `literal` -- equivalent of `  `literal`  `
  - `subscript` -- subscript text
  - `superscript` -- superscript text
  - `title-reference` -- for titles of books, periodicals, and other materials

Refer to \[roles\](roles.md) for roles added by Sphinx.

## Explicit Markup

"Explicit markup" (`ref <explicit-markup-blocks>`) is used in reStructuredText for most constructs that need special handling, such as footnotes, specially-highlighted paragraphs, comments, and generic directives.

An explicit markup block begins with a line starting with `..` followed by whitespace and is terminated by the next paragraph at the same level of indentation. (There needs to be a blank line between explicit markup and normal paragraphs. This may all sound a bit complicated, but it is intuitive enough when you write it.)

## Directives

A directive (`ref <directives>`) is a generic block of explicit markup. Along with roles, it is one of the extension mechanisms of reStructuredText, and Sphinx makes heavy use of it.

Docutils supports the following directives:

  - Admonitions: `attention`, `caution`, `danger`, `error`, `hint`, `important`, `note`, `tip`, `warning` and the generic `admonition <admonitions>`. (Most themes style only "note" and "warning" specially.)
  - Images:
      - `image` (see also [Images](#images) below)
      - `figure` (an image with caption and optional legend)
  - Additional body elements:
      - `contents <table-of-contents>` (a local, i.e. for the current file only, table of contents)
      - `container` (a container with a custom class, useful to generate an outer `<div>` in HTML)
      - `rubric` (a heading without relation to the document sectioning)
      - `topic`, `sidebar` (special highlighted body elements)
      - `parsed-literal` (literal block that supports inline markup)
      - `epigraph` (a block quote with optional attribution line)
      - `highlights`, `pull-quote` (block quotes with their own class attribute)
      - `compound <compound-paragraph>` (a compound paragraph)
  - Special tables:
      - `table` (a table with title)
      - `csv-table` (a table generated from comma-separated values)
      - `list-table` (a table generated from a list of lists)

\* Special directives:

>   - `raw <raw-data-pass-through>` (include raw target-format markup)
> 
>   - `include` (include reStructuredText from another file) -- in Sphinx, when given an absolute include file path, this directive takes it as relative to the source directory
> 
>   - `class` (assign a class attribute to the next element)
>     
>     \> **Note**

  - \>  
    When the default domain contains a `class` directive, this directive will be shadowed. Therefore, Sphinx re-exports it as `rst-class`.
    
    \> **Tip**

  - \>  
    If you want to add a class to a directive, you may consider the `:class:` `option <common-options>` instead, which is supported by most directives and allows for a more compact notation.

<!-- end list -->

  - HTML specifics:
    
      - `meta` (generation of HTML `<meta>` tags, see also \[html-meta\](\#html-meta) below)
      - `title <metadata-document-title>` (override document title)

  - Influencing markup:
    
      - `default-role` (set a new default role)
      - `role` (create a new role)
    
    Since these are only per-file, better use Sphinx's facilities for setting the `default_role`.

\> **Warning** \> Do *not* use the directives `sectnum`, `header` and `footer`.

Directives added by Sphinx are described in \[directives\](directives.md).

Basically, a directive consists of a name, arguments, options and content. (Keep this terminology in mind, it is used in the next chapter describing custom directives.) Looking at this example, :

``` rst
.. function:: foo(x)
              foo(y, z)
   :module: some.module.name

   Return a line of text input from the user.
```

`function` is the directive name. It is given two arguments here, the remainder of the first line and the second line, as well as one option `module` (as you can see, options are given in the lines immediately following the arguments and indicated by the colons). Options must be indented to the same level as the directive content.

The directive content follows after a blank line and is indented relative to the directive start or if options are present, by the same amount as the options.

Be careful as the indent is not a fixed number of whitespace, e.g. three, but any number whitespace. This can be surprising when a fixed indent is used throughout the document and can make a difference for directives which are sensitive to whitespace. Compare:

``` rst
.. code-block::
   :caption: A cool example

       The output of this line starts with four spaces.

.. code-block::

       The output of this line has no spaces at the beginning.
```

In the first code block, the indent for the content was fixated by the option line to three spaces, consequently the content starts with four spaces. In the latter the indent was fixed by the content itself to seven spaces, thus it does not start with a space.

## Images

reStructuredText supports an image directive (`ref <image>`), used like so:

``` rst
.. image:: gnu.png
   (options)
```

When used within Sphinx, the file name given (here `gnu.png`) must either be relative to the source file, or absolute which means that they are relative to the top source directory. For example, the file `sketch/spam.rst` could refer to the image `images/spam.png` as `../images/spam.png` or `/images/spam.png`.

Sphinx will automatically copy image files over to a subdirectory of the output directory on building (e.g. the `_static` directory for HTML output.)

Interpretation of image size options (`width` and `height`) is as follows: if the size has no unit or the unit is pixels, the given size will only be respected for output channels that support pixels. Other units (like `pt` for points) will be used for HTML and LaTeX output (the latter replaces `pt` by `bp` as this is the TeX unit such that `72bp=1in`).

Sphinx extends the standard docutils behavior by allowing an asterisk for the extension:

``` rst
.. image:: gnu.*
```

Sphinx then searches for all images matching the provided pattern and determines their type. Each builder then chooses the best image out of these candidates. For instance, if the file name `gnu.*` was given and two files `gnu.pdf` and `gnu.png` existed in the source tree, the LaTeX builder would choose the former, while the HTML builder would prefer the latter. Supported image types and choosing priority are defined at \[/usage/builders/index\](/usage/builders/index.md).

Note that image file names should not contain spaces.

<div class="versionchanged">

0.4 Added the support for file names ending in an asterisk.

</div>

<div class="versionchanged">

0.6 Image paths can now be absolute.

</div>

<div class="versionchanged">

1.5 latex target supports pixels (default is `96px=1in`).

</div>

## Footnotes

For footnotes (`ref <footnotes>`), use `[#name]_` to mark the footnote location, and add the footnote body at the bottom of the document after a "Footnotes" rubric heading, like so:

``` rst
Lorem ipsum [#f1]_ dolor sit amet ... [#f2]_

.. rubric:: Footnotes

.. [#f1] Text of the first footnote.
.. [#f2] Text of the second footnote.
```

You can also explicitly number the footnotes (`[1]_`) or use auto-numbered footnotes without names (`[#]_`).

## Citations

Standard reStructuredText citations (`ref <citations>`) are supported, with the additional feature that they are "global", i.e. all citations can be referenced from all files. Use them like so:

``` rst
Lorem ipsum [Ref]_ dolor sit amet.

.. [Ref] Book or article reference, URL or whatever.
```

Citation usage is similar to footnote usage, but with a label that is not numeric or begins with `#`.

## Substitutions

reStructuredText supports "substitutions" (`ref <substitution-definitions>`), which are pieces of text and/or markup referred to in the text by `|name|`. They are defined like footnotes with explicit markup blocks, like this:

``` rst
.. |name| replace:: replacement *text*
```

or this:

``` rst
.. |caution| image:: warning.png
             :alt: Warning!
```

See the `reStructuredText reference for substitutions
<substitution-definitions>` for details.

<div class="index">

\! pair: global; substitutions

</div>

If you want to use some substitutions for all documents, put them into `rst_prolog` or `rst_epilog` or put them into a separate file and include it into all documents you want to use them in, using the `include` directive. (Be sure to give the include file a file name extension differing from that of other source files, to avoid Sphinx finding it as a standalone document.)

Sphinx defines some default substitutions, see \[default-substitutions\](\#default-substitutions).

## Comments

Every explicit markup block which isn't a valid markup construct (like the footnotes above) is regarded as a comment (`ref <comments>`). For example:

``` rst
.. This is a comment.
```

You can indent text after a comment start to form multiline comments:

``` rst
..
   This whole indented block
   is a comment.

   Still in the comment.
```

## HTML Metadata

The `meta` directive allows specifying the HTML [metadata element](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta) of a Sphinx documentation page. For example, the directive:

``` rst
.. meta::
   :description: The Sphinx documentation builder
   :keywords: Sphinx, documentation, builder
```

will generate the following HTML output:

`` `html    <meta name="description" content="The Sphinx documentation builder">    <meta name="keywords" content="Sphinx, documentation, builder">  Also, Sphinx will add the keywords as specified in the meta directive to the ``<span class="title-ref"> search index. Thereby, the </span><span class="title-ref">lang</span>\` attribute of the meta element is considered. For example, the directive:

``` rst
.. meta::
   :keywords: backup
   :keywords lang=en: pleasefindthiskey pleasefindthiskeytoo
   :keywords lang=de: bittediesenkeyfinden
```

adds the following words to the search indices of builds with different language configurations:

  - `pleasefindthiskey`, `pleasefindthiskeytoo` to *English* builds;
  - `bittediesenkeyfinden` to *German* builds;
  - `backup` to builds in all languages.

## Source encoding

Since the easiest way to include special characters like em dashes or copyright signs in reStructuredText is to directly write them as Unicode characters, one has to specify an encoding. Sphinx assumes source files to be encoded in UTF-8 by default; you can change this with the `source_encoding` config value.

## Gotchas

There are some problems one commonly runs into while authoring reStructuredText documents:

  - **Separation of inline markup:** As said above, inline markup spans must be separated from the surrounding text by non-word characters, you have to use a backslash-escaped space to get around that. See `the reference
    <substitution-definitions>` for the details.
  - **No nested inline markup:** Something like ``*see `foo`*`` is not possible.

---

directives.md

---

# Directives

\[As previously discussed \<rst-directives\>\](\#as-previously-discussed-\<rst-directives\>), a directive is a generic block of explicit markup. While Docutils provides a number of directives, Sphinx provides many more and uses directives as one of the primary extension mechanisms.

See \[/usage/domains/index\](/usage/domains/index.md) for roles added by domains.

<div class="seealso">

Refer to the \[reStructuredText Primer \<rst-directives\>\](\#restructuredtext-primer-\<rst-directives\>) for an overview of the directives provided by Docutils.

</div>

## Table of contents

<div class="index">

pair: table of; contents

</div>

Since reStructuredText does not have facilities to interconnect several documents, or split documents into multiple output files, Sphinx uses a custom directive to add relations between the single files the documentation is made of, as well as tables of contents. The `toctree` directive is the central element.

\> **Note** \> Simple "inclusion" of one file in another can be done with the `include` directive.

<div class="note">

<div class="title">

Note

</div>

To create table of contents for current document (.rst file), use the standard reStructuredText `contents directive <table-of-contents>`.

</div>

  - \---\<metadata\>) to let a document be built, but notify Sphinx that it is not  
    reachable via a toctree.
    
    The "root document" (selected by `root_doc`) is the "root" of the TOC tree hierarchy. It can be used as the documentation's main page, or as a "full table of contents" if you don't give a `:maxdepth:` option.
    
    <div class="versionchanged">
    
    0.6 Added support for external links and "self" references.
    
    </div>
    
    **Options**

### Special names

<div class="index">

pair: genindex; toctree pair: modindex; toctree pair: search; toctree

</div>

Sphinx reserves some document names for its own use; you should not try to create documents with these names -- it will cause problems.

The special document names (and pages generated for them) are:

  - `genindex`
    
    This is used for the general index, which is populated with entries from :rst`index` directives and all index-generating \[object descriptions \<basic-domain-markup\>\](\#object-descriptions-\<basic-domain-markup\>). For example, see Sphinx's \[genindex\](\#genindex).

  - `modindex`
    
    This is used for the Python module index, which contains one entry per :rst`py:module` directive. For example, see Sphinx's \[py-modindex\](\#py-modindex).

  - `search`
    
    This is used for the search page, which contains a form that uses the generated JSON search index and JavaScript to full-text search the generated documents for search words; it works on every major browser. For example, see Sphinx's \[search\](\#search).

  - Every name beginning with `_`
    
    Though few such names are currently used by Sphinx, you should not create documents or document-containing directories with such names. (Using `_` as a prefix for a custom template directory is fine.)

\> **Warning** \> Be careful with unusual characters in filenames. Some formats may interpret these characters in unexpected ways:

>   - Do not use the colon `:` for HTML based formats. Links to other parts may not work.
>   - Do not use the plus `+` for the ePub format. Some resources may not be found.

## Paragraph-level markup

These directives create short paragraphs and can be used inside information units as well as normal text.

### Admonitions, messages, and warnings

<div class="index">

admonition, admonitions pair: attention; admonition pair: caution; admonition pair: danger; admonition pair: error; admonition pair: hint; admonition pair: important; admonition pair: note; admonition pair: tip; admonition pair: warning; admonition

</div>

The admonition directives create 'admonition' elements, a standardised system of communicating different types of information, from a helpful :rst`tip` to matters of paramount :rst`danger`. These directives can be used anywhere an ordinary body element can, and can contain arbitrary body elements. There are nine specific named admonitions and the generic :rst`admonition` directive.

  - \>  
    Information with regard to which the reader should exercise care. The content of the directive should be written in complete sentences and include all appropriate punctuation.
    
    Example:
    
    <div class="caution">
    
    <div class="title">
    
    Caution
    
    </div>
    
    Exercise due caution.
    
    </div>

<!-- end list -->

  - \>  
    Information that is of paramount importance and which the reader must not ignore. The content of the directive should be written in complete sentences and include all appropriate punctuation.
    
    Example:
    
    <div class="important">
    
    <div class="title">
    
    Important
    
    </div>
    
    This is a statement of paramount importance.
    
    </div>

<!-- end list -->

  - \>  
    An especially important bit of information that the reader should know. The content of the directive should be written in complete sentences and include all appropriate punctuation.
    
    Example:
    
    <div class="note">
    
    <div class="title">
    
    Note
    
    </div>
    
    This function is not suitable for sending tins of spam.
    
    </div>

<!-- end list -->

  - \>  
    Some useful tidbit of information for the reader. The content of the directive should be written in complete sentences and include all appropriate punctuation.
    
    Example:
    
    <div class="tip">
    
    <div class="title">
    
    Tip
    
    </div>
    
    Remember your sun cream\!
    
    </div>

<!-- end list -->

  - \>  
    An important bit of information that the reader should be very aware of. The content of the directive should be written in complete sentences and include all appropriate punctuation.
    
    Example:
    
    <div class="warning">
    
    <div class="title">
    
    Warning
    
    </div>
    
    Beware of the dog.
    
    </div>

### Describing changes between versions

<div class="index">

pair: added; in version pair: changes; in version pair: removed; in version

</div>

### Presentational

  - \>  
    If the *title* of the rubric is "Footnotes" (or the selected language's equivalent), this rubric is ignored by the LaTeX writer, since it is assumed to only contain footnote definitions and therefore would create an empty heading.
    
    **Options**
    
      - type  
        a list of class names, separated by spaces
    
    Assign [class attributes](). This is a `common option <common-options>`.
    
      - type  
        text
    
    An implicit target name that can be referenced using :rst`ref`. This is a `common option <common-options>`.
    
      - type  
        number from 1 to 6
    
    <div class="versionadded">
    
    7.4.1
    
    </div>
    
    Use this option to specify the heading level of the rubric. In this case the rubric will be rendered as `<h1>` to `<h6>` for HTML output, or as the corresponding non-numbered sectioning command for LaTeX (see `latex_toplevel_sectioning`).

## Showing code examples

<div class="index">

pair: code; examples single: sourcecode

</div>

There are multiple ways to show syntax-highlighted literal code blocks in Sphinx:

  - using \[reStructuredText doctest blocks \<rst-doctest-blocks\>\](\#restructuredtext-doctest-blocks-\<rst-doctest-blocks\>);
  - using \[reStructuredText literal blocks \<rst-literal-blocks\>\](\#restructuredtext-literal-blocks-\<rst-literal-blocks\>), optionally in combination with the :rst`highlight` directive;
  - using the :rst`code-block` directive;
  - and using the :rst`literalinclude` directive.

Doctest blocks can only be used to show interactive Python sessions, while the remaining three can be used for other languages. Of these three, literal blocks are useful when an entire document, or at least large sections of it, use code blocks with the same syntax and which should be styled in the same manner. On the other hand, the :rst`code-block` directive makes more sense when you want more fine-tuned control over the styling of each block or when you have a document containing code blocks using multiple varied syntaxes. Finally, the :rst`literalinclude` directive is useful for including entire code files in your documentation.

In all cases, Syntax highlighting is provided by [Pygments](https://pygments.org). When using literal blocks, this is configured using any :rst`highlight` directives in the source file. When a `highlight` directive is encountered, it is used until the next `highlight` directive is encountered. If there is no `highlight` directive in the file, the global highlighting language is used. This defaults to `python` but can be configured using the `highlight_language` config value. The following values are supported:

  - `none` (no highlighting)
  - `default` (similar to `python3` but with a fallback to `none` without warning highlighting fails; the default when `highlight_language` isn't set)
  - `guess` (let Pygments guess the lexer based on contents, only works with certain well-recognizable languages)
  - `python`
  - `rest`
  - `c`
  - ... and any other [lexer alias that Pygments supports](https://pygments.org/docs/lexers)

If highlighting with the selected language fails (i.e. Pygments emits an "Error" token), the block is not highlighted in any way.

\> **Important** \> The list of lexer aliases supported is tied to the Pygment version. If you want to ensure consistent highlighting, you should fix your version of Pygments.

  - \>  
    To only select `[second-section]` of an INI file such as the following, use `:start-at: [second-section]` and `:end-before: [third-section]`:
    
    ``` ini
    [first-section]
    var_in_first=true
    
    [second-section]
    var_in_second=true
    
    [third-section]
    var_in_third=true
    ```
    
    These options can be useful when working with tag comments. Using `:start-after: [initialise]` and `:end-before: [initialised]` keeps the lines between between the two comments below:
    
    ``` py
    if __name__ == "__main__":
        # [initialise]
        app.start(":8000")
        # [initialised]
    ```
    
    When lines have been selected in any of the ways described above, the line numbers in `emphasize-lines` refer to these selected lines, counted consecutively starting from 1.
    
      - type  
        text
    
    Prepend a line before the included code. This can be useful for example when highlighting PHP code that doesn't include the `<?php` or `?>` markers.
    
    <div class="versionadded">
    
    1.0
    
    </div>
    
      - type  
        text
    
    Append a line after the included code. This can be useful for example when highlighting PHP code that doesn't include the `<?php` or `?>` markers.
    
    <div class="versionadded">
    
    1.0
    
    </div>
    
    Show the diff of two files. For example:
    
    ``` rst
    ```
    
    <div class="literalinclude" data-diff="example.txt.orig">
    
    example.txt
    
    </div>
    
    This shows the diff between `example.txt` and `example.txt.orig` with unified diff format.
    
    <div class="versionadded">
    
    1.3
    
    </div>
    
    <div class="versionchanged">
    
    0.6
    
    </div>
    
    Added support for absolute filenames.
    
    <div class="versionchanged">
    
    1.6
    
    </div>
    
    With both `start-after` and `lines` in use, the first line as per `start-after` is considered to be with line number `1` for `lines`.

<div id="glossary-directive">

Glossary `` ` --------  .. rst:directive:: .. glossary::     This directive must contain a reStructuredText definition-list-like markup    with terms and definitions.  The definitions will then be referenceable with the    :rst:role:`term` role.  Example::        .. glossary::           environment             A structure where information about all documents under the root is             saved, and used for cross-referencing.  The environment is pickled             after the parsing stage, so that successive runs only need to read             and parse new and changed documents.           source directory             The directory which, including its subdirectories, contains all             source files for one Sphinx project.     In contrast to regular definition lists, *multiple* terms per entry are    allowed, and inline markup is allowed in terms.  You can link to all of the    terms.  For example::        .. glossary::           term 1          term 2             Definition of both terms.     (When the glossary is sorted, the first term determines the sort order.)     If you want to specify "grouping key" for general index entries, you can put    a "key" as "term : key". For example::        .. glossary::           term 1 : A          term 2 : B             Definition of both terms.     Note that "key" is used for grouping key as is.    The "key" isn't normalized; key "A" and "a" become different groups.    The whole characters in "key" is used instead of a first character; it is    used for "Combining Character Sequence" and "Surrogate Pairs" grouping key.     In i18n situation, you can specify "localized term : key" even if original    text only have "term" part. In this case, translated "localized term" will be    categorized in "key" group.      .. versionchanged:: 1.1       Now supports multiple terms and inline markup in terms.     .. versionchanged:: 1.4       Index key for glossary term should be considered *experimental*.      .. rubric:: Options     .. rst:directive:option:: sorted        Sort the entries alphabetically.        .. versionadded:: 0.6        .. versionchanged:: 4.4          In internationalized documentation, sort according to translated terms.    Meta-information markup -----------------------  .. rst:directive:: .. sectionauthor:: name <email>     Identifies the author of the current section.  The argument should include    the author's name such that it can be used for presentation and email    address.  The domain name portion of the address should be lower case.    Example::        .. sectionauthor:: Guido van Rossum <guido@python.org>     By default, this markup isn't reflected in the output in any way (it helps    keep track of contributions), but you can set the configuration value    :confval:`show_authors` to ``True``to make them produce a paragraph in the    output.   .. rst:directive:: .. codeauthor:: name <email>     The :rst:dir:`codeauthor` directive, which can appear multiple times, names    the authors of the described code, just like :rst:dir:`sectionauthor` names    the author(s) of a piece of documentation.  It too only produces output if    the :confval:`show_authors` configuration value is``True`.   Index-generating markup -----------------------  Sphinx automatically creates index entries from all object descriptions (like functions, classes or attributes) like discussed in [/usage/domains/index](/usage/domains/index.md).  However, there is also explicit markup available, to make the index more comprehensive and enable index entries in documents where information is not mainly contained in information units, such as the language reference.  .. rst:directive:: .. index:: <entries>     This directive contains one or more index entries.  Each entry consists of a    type and a value, separated by a colon.     For example::        .. index::          single: execution; context          pair: module; __main__          pair: module; sys          triple: module; search; path          seealso: scope        The execution context       ---------------------        ...     This directive contains five entries, which will be converted to entries in    the generated index which link to the exact location of the index statement    (or, in case of offline media, the corresponding page number).     Since index directives generate cross-reference targets at their location in    the source, it makes sense to put them *before* the thing they refer to --    e.g. a heading, as in the example above.     The possible entry types are:     single       Creates a single index entry.       Can be made a sub-entry by separating the sub-entry text with a semicolon       (this notation is also used below to describe what entries are created).       Examples:`\`rst .. index:: single: execution single: execution; context

</div>

>   - `single: execution` creates an index entry labelled `execution`.
> 
> <!-- end list -->
> 
>   - \- `single: execution; context` creates an sub-entry of `execution`  
>     labelled `context`.
> 
> pair A shortcut to create two index entries. The pair of values must be separated by a semicolon. Example:
> 
> ``` rst
> .. index:: pair: loop; statement
> ```
> 
> This would create two index entries; `loop; statement` and `statement; loop`. triple A shortcut to create three index entries. All three values must be separated by a semicolon. Example:
> 
> ``` rst
> .. index:: triple: module; search; path
> ```
> 
> This would create three index entries; `module; search path`, `search; path, module`, and `path; module search`. see A shortcut to create an index entry that refers to another entry. Example:
> 
> ``` rst
> .. index:: see: entry; other
> ```
> 
> This would create an index entry referring from `entry` to `other` (i.e. 'entry': See 'other'). seealso Like `see`, but inserts 'see also' instead of 'see'. module, keyword, operator, object, exception, statement, builtin These **deprecated** shortcuts all create two index entries. For example, `module: hashlib` creates the entries `module; hashlib` and `hashlib; module`.
> 
> <div class="deprecated">
> 
> 1.0 These Python-specific entry types are deprecated.
> 
> </div>
> 
> <div class="versionchanged">
> 
> 7.1 Removal version set to Sphinx 9.0. Using these entry types will now emit warnings with the `index` category.
> 
> </div>
> 
> You can mark up "main" index entries by prefixing them with an exclamation mark. The references to "main" entries are emphasized in the generated index. For example, if two pages contain :
> 
> ``` rst
> .. index:: Python
> ```
> 
> and one page contains :
> 
> ``` rst
> .. index:: ! Python
> ```
> 
> then the backlink to the latter page is emphasized among the three backlinks.
> 
> For index directives containing only "single" entries, there is a shorthand notation:
> 
> ``` rst
> .. index:: BNF, grammar, syntax, notation
> ```
> 
> This creates four index entries.
> 
> <div class="versionchanged">
> 
> 1.1
> 
> </div>
> 
> Added `see` and `seealso` types, as well as marking main entries.
> 
> **Options**
> 
>   - type  
>     text
> 
> Define implicit target name that can be referenced by using :rst`ref`. For example:
> 
> ``` rst
> .. index:: Python
>    :name: py-index
> ```
> 
> <div class="versionadded">
> 
> 3.0
> 
> </div>

<div id="tags">

Including content based on tags `` ` -------------------------------  .. rst:directive:: .. only:: <expression>     Include the content of the directive only if the *expression* is true.  The    expression should consist of tags, like this::        .. only:: html and draft     Undefined tags are false, defined tags are true    (tags can be defined via the :option:`--tag <sphinx-build --tag>`    command-line option or within :file:`conf.py`, see [here <conf-tags>](#here-<conf-tags>)).    Boolean expressions (like ``(latex or html) and draft`) are supported    and may use parentheses.     The *format* and the *name* of the current builder (`html`,`latex`or`text`) are always set as a tag [#]_.  To make the distinction between    format and name explicit, they are also added with the prefix`[format]()`and`[builder]()`, e.g. the epub builder defines the tags`html`,`epub`,`format\_html`and`builder\_epub``.     These standard tags are set *after* the configuration file is read, so they    are not available there.     All tags must follow the standard Python identifier syntax as set out in    the `Identifiers and keywords    <https://docs.python.org/3/reference/lexical_analysis.html#identifiers>`_    documentation.  That is, a tag expression may only consist of tags that    conform to the syntax of Python variables.  In ASCII, this consists of the    uppercase and lowercase letters``A`through`Z`, the underscore`\_`and, except for the first character, the digits`0`through`9``.     .. versionadded:: 0.6    .. versionchanged:: 1.2       Added the name of the builder and the prefixes.     > **Warning** >        This directive is designed to control only content of document.  It could       not control sections, labels and so on.  .. _table-directives:  Tables ------  Use [reStructuredText tables <rst-tables>](#restructuredtext-tables-<rst-tables>), i.e. either  - grid table syntax (:duref:`ref <grid-tables>`), - simple table syntax (:duref:`ref <simple-tables>`), - :dudir:`csv-table` syntax, - or :dudir:`list-table` syntax.  The :dudir:`table` directive serves as optional wrapper of the *grid* and *simple* syntaxes.  They work fine in HTML output, but rendering tables to LaTeX is complex. Check the :confval:`latex_table_style`.  .. versionchanged:: 1.6    Merged cells (multi-row, multi-column, both) from grid tables containing    complex contents such as multiple paragraphs, blockquotes, lists, literal    blocks, will render correctly to LaTeX output.  .. rst:directive:: .. tabularcolumns:: column spec     This directive influences only the LaTeX output for the next table in    source.  The mandatory argument is a column specification (known as an    "alignment preamble" in LaTeX idiom).  Please refer to a LaTeX    documentation, such as the `wiki page`_, for basics of such a column    specification.     .. _wiki page: https://en.wikibooks.org/wiki/LaTeX/Tables     .. versionadded:: 0.3     > **Note** >        :rst:dir:`tabularcolumns` conflicts with``:widths:`option of table       directives.  If both are specified,`:widths:`option will be ignored.     Sphinx will render tables with more than 30 rows with`longtable`.    Besides the`l`,`r`,`c`and`p{width}`column specifiers, one can    also use`X{a}{b}`(new in version 1.5) which configures the column    width to be a fraction`a/b`of the total line width and`Y{f}`(new    in version 1.6) where`f`is a decimal: for example`Y{0.2}`means that    the column will occupy`0.2`times the line width.     When this directive is used for a table with at most 30 rows, Sphinx will    render it with`tabulary`.  One can then use specific column types`L`(left),`R`(right),`C`(centered) and`J`(justified).  They have    the effect of a`p{width}`(i.e. each cell is a LaTeX`parbox`) with    the specified internal text alignment and an automatically computed`width`.     > **Warning** >        - Cells that contain list-like elements such as object descriptions,         blockquotes or any kind of lists are not compatible with the`LRCJ`column types.  The column type must then be some`p{width}`with an         explicit`width`(or`X{a}{b}`or`Y{f}`).        - Literal blocks do not work with`tabulary`at all.  Sphinx will         fall back to`tabular`or`longtable``environments and generate a         suitable column specification.  In absence of the :rst:dir:`tabularcolumns` directive, and for a table with at most 30 rows and no problematic cells as described in the above warning, Sphinx uses``tabulary`and the`J`column-type for every column.  .. versionchanged:: 1.6     Formerly, the`L`column-type was used (text is flushed-left).  To revert    to this, include`newcolumntype{T}{L}`in the LaTeX preamble, as in fact    Sphinx uses`T`and sets it by default to be an alias of`J`.  .. hint::     A frequent issue with`tabulary`is that columns with little contents    appear to be "squeezed".  One can add to the LaTeX preamble for example`setlength{tymin}{40pt}`to ensure a minimal column width of`40pt`,    the`tabulary`default of`10pt`being too small.  .. hint::     To force usage of the LaTeX`longtable`environment pass`longtable`as    a`:class:``option to :dudir:`table`, :dudir:`csv-table`, or    :dudir:`list-table`.  Use [rst-class <rstclass>](#rst-class-<rstclass>) for other tables.  Math ----  The input language for mathematics is LaTeX markup.  This is the de-facto standard for plain-text math notation and has the added advantage that no further translation is necessary when building LaTeX output.  Keep in mind that when you put math markup in **Python docstrings** read by :mod:`autodoc <sphinx.ext.autodoc>`, you either have to double all backslashes, or use Python raw strings (``r"raw"`).  .. rst:directive:: math     Directive for displayed math (math that takes the whole line for itself).     The directive supports multiple equations, which should be separated by a    blank line::        .. math::           (a + b)^2 = a^2 + 2ab + b^2           (a - b)^2 = a^2 - 2ab + b^2     In addition, each single equation is set within a`split`environment,    which means that you can have multiple aligned lines in an equation,    aligned at`&`and separated by`\\``::        .. math::           (a + b)^2  &=  (a + b)(a + b) \\                     &=  a^2 + 2ab + b^2     For more details, look into the documentation of the `AmSMath LaTeX    package`_.     When the math is only one line of text, it can also be given as a directive    argument::        .. math:: (a + b)^2 = a^2 + 2ab + b^2     .. rubric:: Options     .. rst:directive:option:: class: class names       :type: a list of class names, separated by spaces        Assign `class attributes`_.       This is a :dudir:`common option <common-options>`.        .. _class attributes: https://docutils.sourceforge.io/docs/ref/doctree.html#classes     .. rst:directive:option:: name: label       :type: text        An implicit target name that can be referenced using :rst:role:`ref`.       This is a :dudir:`common option <common-options>`.     .. rst:directive:option:: label: label       :type: text        Normally, equations are not numbered.  If you want your equation to get a       number, use the``label``option.  When given, it selects an internal label       for the equation, by which it can be cross-referenced, and causes an equation       number to be issued.  See :rst:role:`eq` for an example.  The numbering       style depends on the output format.     .. rst:directive:option:: nowrap        Prevent wrapping of the given math in a math environment.       When you give this option, you must make sure       yourself that the math is properly set up.       For example::           .. math::             :nowrap:              \begin{eqnarray}                y    & = & ax^2 + bx + c \\                f(x) & = & x^2 + 2xy + y^2             \end{eqnarray}    .. seealso::     [math-support](#math-support)       Rendering options for math with HTML builders.     :confval:`latex_engine`       Explains how to configure LaTeX builder to support Unicode literals in       math mark-up.   Grammar production displays ---------------------------  Special markup is available for displaying the productions of a formal grammar. The markup is simple and does not attempt to model all aspects of BNF (or any derived forms), but provides enough to allow context-free grammars to be displayed in a way that causes uses of a symbol to be rendered as hyperlinks to the definition of the symbol.  There is this directive:  .. rst:directive:: .. productionlist:: [productionGroup]     This directive is used to enclose a group of productions.  Each production    is given on a single line and consists of a name, separated by a colon from    the following definition.  If the definition spans multiple lines, each    continuation line must begin with a colon placed at the same column as in    the first line.    Blank lines are not allowed within``productionlist`directive arguments.     The definition can contain token names which are marked as interpreted text    (e.g., "`sum ::= <span class="title-ref">integer</span> "+" <span class="title-ref">integer</span>``") -- this generates    cross-references to the productions of these tokens.  Outside of the    production list, you can reference to token productions using    :rst:role:`token`.     The *productionGroup* argument to :rst:dir:`productionlist` serves to    distinguish different sets of production lists that belong to different    grammars.  Multiple production lists with the same *productionGroup* thus    define rules in the same scope.     Inside of the production list, tokens implicitly refer to productions    from the current group. You can refer to the production of another    grammar by prefixing the token with its group name and a colon, e.g,    "``otherGroup:sum`". If the group of the token should not be shown in    the production, it can be prefixed by a tilde, e.g.,    "`\~otherGroup:sum`". To refer to a production from an unnamed    grammar, the token should be prefixed by a colon, e.g., "`:sum`".     Outside of the production list,    if you have given a *productionGroup* argument you must prefix the    token name in the cross-reference with the group name and a colon,    e.g., "`myGroup:sum`" instead of just "`sum`".    If the group should not be shown in the title of the link either    an explicit title can be given (e.g., "`myTitle \<myGroup:sum\>`"),    or the target can be prefixed with a tilde (e.g., "`\~myGroup:sum`").     Note that no further reStructuredText parsing is done in the production,    so that you don't have to escape`\*`or`|\`\` characters.

</div>

The following is an example taken from the Python Reference Manual:

``` rst
.. productionlist::
   try_stmt: try1_stmt | try2_stmt
   try1_stmt: "try" ":" `suite`
            : ("except" [`expression` ["," `target`]] ":" `suite`)+
            : ["else" ":" `suite`]
            : ["finally" ":" `suite`]
   try2_stmt: "try" ":" `suite`
            : "finally" ":" `suite`
```

**Footnotes**

---

domains.md

---

# MOVED: Domains

## MOVED: Basic Markup

<span id="basic-markup">
<span id="basic-domain-markup">
<span id="directive-default-domain">
<span id="cross-referencing-syntax">

See \[/usage/domains/index\](/usage/domains/index.md).

## MOVED: Python Domain

<span id="the-python-domain">
<span id="python-domain">
<span id="directive-py-module">
<span id="directive-option-py-module-platform">
<span id="directive-option-py-module-synopsis">
<span id="directive-option-py-module-deprecated">
<span id="directive-py-currentmodule">
<span id="directive-py-function">
<span id="directive-option-py-function-async">
<span id="directive-option-py-function-canonical">
<span id="directive-option-py-function-single-line-parameter-list">
<span id="directive-option-py-function-single-line-type-parameter-list">
<span id="directive-py-data">
<span id="directive-option-py-data-type">
<span id="directive-option-py-data-value">
<span id="directive-option-py-data-canonical">
<span id="directive-py-exception">
<span id="index-0">
<span id="directive-option-py-exception-final">
<span id="directive-option-py-exception-single-line-parameter-list">
<span id="directive-option-py-exception-single-line-type-parameter-list">
<span id="directive-py-class">
<span id="index-1">
<span id="directive-option-py-class-canonical">
<span id="directive-option-py-class-final">
<span id="directive-option-py-class-single-line-parameter-list">
<span id="directive-option-py-class-single-line-type-parameter-list">
<span id="directive-py-attribute">
<span id="directive-option-py-attribute-type">
<span id="directive-option-py-attribute-value">
<span id="directive-option-py-attribute-canonical">
<span id="directive-py-property">
<span id="directive-option-py-property-abstractmethod">
<span id="directive-option-py-property-classmethod">
<span id="directive-option-py-property-type">
<span id="directive-py-method">
<span id="directive-option-py-method-abstractmethod">
<span id="directive-option-py-method-async">
<span id="directive-option-py-method-canonical">
<span id="directive-option-py-method-classmethod">
<span id="directive-option-py-method-final">
<span id="directive-option-py-method-single-line-parameter-list">
<span id="directive-option-py-method-single-line-type-parameter-list">
<span id="directive-option-py-method-staticmethod">
<span id="directive-py-staticmethod">
<span id="directive-py-classmethod">
<span id="directive-py-decorator">
<span id="directive-option-py-decorator-single-line-parameter-list">
<span id="directive-option-py-decorator-single-line-type-parameter-list">
<span id="directive-py-decoratormethod">
<span id="python-signatures">
<span id="signatures">
<span id="index-2">
<span id="index-3">
<span id="info-field-lists">
<span id="id1">
<span id="cross-referencing-python-objects">
<span id="python-roles">
<span id="role-py-mod">
<span id="role-py-func">
<span id="role-py-data">
<span id="role-py-const">
<span id="role-py-class">
<span id="role-py-meth">
<span id="role-py-attr">
<span id="role-py-exc">
<span id="role-py-obj">

See \[/usage/domains/python\](/usage/domains/python.md).

## MOVED: C Domain

<span id="the-c-domain">
<span id="c-domain">
<span id="directive-c-member">
<span id="directive-c-var">
<span id="directive-c-function">
<span id="directive-option-c-function-single-line-parameter-list">
<span id="directive-c-macro">
<span id="directive-option-c-macro-single-line-parameter-list">
<span id="directive-c-struct">
<span id="directive-c-union">
<span id="directive-c-enum">
<span id="directive-c-enumerator">
<span id="directive-c-type">
<span id="cross-referencing-c-constructs">
<span id="c-roles">
<span id="role-c-member">
<span id="role-c-data">
<span id="role-c-var">
<span id="role-c-func">
<span id="role-c-macro">
<span id="role-c-struct">
<span id="role-c-union">
<span id="role-c-enum">
<span id="role-c-enumerator">
<span id="role-c-type">
<span id="anonymous-entities">
<span id="aliasing-declarations">
<span id="directive-c-alias">
<span id="directive-option-c-alias-maxdepth">
<span id="directive-option-c-alias-noroot">
<span id="inline-expressions-and-types">
<span id="role-c-expr">
<span id="role-c-texpr">
<span id="namespacing">
<span id="directive-c-namespace">
<span id="directive-c-namespace-push">
<span id="directive-c-namespace-pop">
<span id="configuration-variables">

See \[/usage/domains/c\](/usage/domains/c.md).

## MOVED: C++ Domain

<span id="cpp-domain">
<span id="id2">
<span id="directives-for-declaring-entities">
<span id="directive-cpp-class">
<span id="directive-cpp-struct">
<span id="directive-cpp-function">
<span id="directive-option-cpp-function-single-line-parameter-list">
<span id="directive-cpp-member">
<span id="directive-cpp-var">
<span id="directive-cpp-type">
<span id="directive-cpp-enum">
<span id="directive-cpp-enum-struct">
<span id="directive-cpp-enum-class">
<span id="directive-cpp-enumerator">
<span id="directive-cpp-union">
<span id="directive-cpp-concept">
<span id="options">
<span id="id3">
<span id="id4">
<span id="directive-cpp-alias">
<span id="directive-option-cpp-alias-maxdepth">
<span id="directive-option-cpp-alias-noroot">
<span id="constrained-templates">
<span id="placeholders">
<span id="template-introductions">
<span id="id5">
<span id="role-cpp-expr">
<span id="role-cpp-texpr">
<span id="id6">
<span id="directive-cpp-namespace">
<span id="directive-cpp-namespace-push">
<span id="directive-cpp-namespace-pop">
<span id="id7">
<span id="cross-referencing">
<span id="cpp-roles">
<span id="role-cpp-any">
<span id="role-cpp-class">
<span id="role-cpp-struct">
<span id="role-cpp-func">
<span id="role-cpp-member">
<span id="role-cpp-var">
<span id="role-cpp-type">
<span id="role-cpp-concept">
<span id="role-cpp-enum">
<span id="role-cpp-enumerator">
<span id="declarations-without-template-parameters-and-template-arguments">
<span id="overloaded-member-functions">
<span id="templated-declarations">
<span id="full-template-specialisations">
<span id="partial-template-specialisations">
<span id="id8">

See \[/usage/domains/cpp\](/usage/domains/cpp.md).

## MOVED: Standard Domain

<span id="the-standard-domain">
<span id="domains-std">
<span id="directive-option">
<span id="directive-envvar">
<span id="directive-program">
<span id="directive-describe">
<span id="directive-object">

See \[/usage/domains/standard\](/usage/domains/standard.md).

## MOVED: JavaScript Domain

<span id="the-javascript-domain">
<span id="directive-js-module">
<span id="directive-js-function">
<span id="directive-option-js-function-single-line-parameter-list">
<span id="directive-js-method">
<span id="directive-option-js-method-single-line-parameter-list">
<span id="directive-js-class">
<span id="directive-option-js-class-single-line-parameter-list">
<span id="directive-js-data">
<span id="directive-js-attribute">
<span id="js-roles">
<span id="role-js-mod">
<span id="role-js-func">
<span id="role-js-meth">
<span id="role-js-class">
<span id="role-js-data">
<span id="role-js-attr">

See \[/usage/domains/javascript\](/usage/domains/javascript.md).

## MOVED: reStructuredText Domain

<span id="the-restructuredtext-domain">
<span id="directive-rst-directive">
<span id="directive-rst-directive-option">
<span id="directive-option-rst-directive-option-type">
<span id="directive-rst-role">
<span id="rst-roles">
<span id="role-rst-dir">
<span id="role-rst-role">

See \[/usage/domains/restructuredtext\](/usage/domains/restructuredtext.md).

## MOVED: Math Domain

<span id="the-math-domain">
<span id="math-domain">
<span id="role-math-numref">

See \[/usage/domains/mathematics\](/usage/domains/mathematics.md).

## MOVED: More domains

<span id="more-domains">

See \[/usage/domains/index\](/usage/domains/index.md).

---

field-lists.md

---

# Field Lists

\[As previously discussed \<rst-field-lists\>\](\#as-previously-discussed-\<rst-field-lists\>), field lists are sequences of fields marked up like this:

``` rst
:fieldname: Field content
```

Sphinx extends standard docutils behavior for field lists and adds some extra functionality that is covered in this section.

\> **Note** \> The values of field lists will be parsed as strings. You cannot use Python collections such as lists or dictionaries.

## File-wide metadata

A field list near the top of a file is normally parsed by docutils as the *docinfo* and shown on the page. However, in Sphinx, a field list preceding any other markup is moved from the *docinfo* to the Sphinx environment as document metadata, and is not displayed in the output.

\> **Note** \> A field list appearing after the document title *will* be part of the *docinfo* as normal and will be displayed in the output.

## Special metadata fields

Sphinx provides custom behavior for bibliographic fields compared to docutils.

At the moment, these metadata fields are recognized:

  - `tocdepth`  
    The maximum depth for a table of contents of this file. :
    
    ``` rst
    :tocdepth: 2
    ```
    
    \> **Note**

  - \>  
    This metadata affects the depth of the local toctree. But it does not affect the depth of the *global* toctree. So this does not change the sidebar of themes that use the global toctree.
    
    <div class="versionadded">
    
    0.4
    
    </div>

  - `nocomments`  
    If set, the web application won't display a comment form for a page generated from this source file. :
    
    ``` rst
    :nocomments:
    ```

  - `orphan`  
    If set, warnings about this file not being included in any toctree will be suppressed. :
    
    ``` rst
    :orphan:
    ```
    
    <div class="versionadded">
    
    1.0
    
    </div>

  - `nosearch`  
    If set, full text search for this file is disabled. :
    
    ``` rst
    :nosearch:
    ```
    
    <div class="note">
    
    <div class="title">
    
    Note
    
    </div>
    
    object search is still available even if `nosearch` option is set.
    
    </div>
    
    <div class="versionadded">
    
    3.0
    
    </div>

---

index.md

---

# reStructuredText

reStructuredText (reST) is the default plaintext markup language used by both Docutils and Sphinx. Docutils provides the basic reStructuredText syntax, while Sphinx extends this to support additional functionality.

The below guides go through the most important aspects of reStructuredText. For the authoritative reference, refer to the [docutils documentation](https://docutils.sourceforge.io/rst.html).

<div class="toctree" data-maxdepth="2">

basics roles directives field-lists

</div>

<div class="toctree" hidden="">

domains

</div>

---

roles.md

---

# Roles

Sphinx uses interpreted text roles to insert semantic markup into documents. They are written as ``:rolename:`content``\`.

\> **Note** \> The default role (`` `content ``<span class="title-ref">) has no special meaning by default. You are free to use it for anything you like, e.g. variable names; use the :confval:\`default\_role</span> config value to set it to a known role -- the :rst`any` role to find anything or the :rst`py:obj` role to find Python objects are very useful for this.

See \[/usage/domains/index\](/usage/domains/index.md) for roles added by domains.

## Cross-references

See \[/usage/referencing/\](/usage/referencing/.md).

Cross-reference roles include:

  - :rst`any`
  - :rst`doc`
  - :rst`download`
  - :rst`envvar`
  - :rst`keyword`
  - :rst`numref`
  - :rst`option` (and the deprecated :rst`!cmdoption`)
  - :rst`ref`
  - :rst`term`
  - :rst`token`

## Inline code highlighting

Math `` ` ----  .. rst:role:: math     Role for inline math.  Use like this::        Since Pythagoras, we know that :math:`a^2 + b^2 = c^2`.     Displays: Since Pythagoras, we know that :math:`a^2 + b^2 = c^2`.  .. rst:role:: eq     Same as :rst:role:`math:numref`.   Other semantic markup ---------------------  The following roles don't do anything special except formatting the text in a different style:  .. rst:role:: abbr     An abbreviation.  If the role content contains a parenthesized explanation,    it will be treated specially: it will be shown in a tool-tip in HTML, and    output only once in LaTeX.     For example: ```LIFO (last-in, first-out)```displays    :abbr:`LIFO (last-in, first-out)`.     .. versionadded:: 0.6  .. rst:role:: command     The name of an OS-level command, such as``rm``.     For example: :command:`rm`  .. rst:role:: dfn     Mark the defining instance of a term in the text.  (No index entries are    generated.)     For example: :dfn:`binary mode`  .. rst:role:: file     The name of a file or directory.  Within the contents, you can use curly    braces to indicate a "variable" part, for example::        ... is installed in :file:`/usr/lib/python3.{x}/site-packages` ...     Displays: ... is installed in :file:`/usr/lib/python3.{x}/site-packages` ...     In the built documentation, the``x`will be displayed differently to    indicate that it is to be replaced by the Python minor version.  .. rst:role:: guilabel     Labels presented as part of an interactive user interface should be marked    using`guilabel``.  This includes labels from text-based interfaces such as    those created using :mod:`curses` or other text-based libraries.  Any label    used in the interface should be marked with this role, including button    labels, window titles, field names, menu and menu selection names, and even    values in selection lists.     .. versionchanged:: 1.0       An accelerator key for the GUI label can be included using an ampersand;       this will be stripped and displayed underlined in the output (for example:```&Cancel```displays :guilabel:`&Cancel`).  To include a literal       ampersand, double it.  .. rst:role:: kbd     Mark a sequence of keystrokes.  What form the key sequence takes may depend    on platform- or application-specific conventions.  When there are no    relevant conventions, the names of modifier keys should be spelled out, to    improve accessibility for new users and non-native speakers.  For example,    an *xemacs* key sequence may be marked like```C-x C-f``, but without    reference to a specific application or platform, the same sequence should be    marked as``Control-x Control-f```, displaying :kbd:`C-x C-f` and    :kbd:`Control-x Control-f` respectively.  .. rst:role:: mailheader     The name of an RFC 822-style mail header.  This markup does not imply that    the header is being used in an email message, but can be used to refer to    any header of the same "style."  This is also used for headers defined by    the various MIME specifications.  The header name should be entered in the    same way it would normally be found in practice, with the camel-casing    conventions being preferred where there is more than one common usage. For    example:```Content-Type```displays :mailheader:`Content-Type`.  .. rst:role:: makevar     The name of a :command:`make` variable.     For example: :makevar:`help`  .. rst:role:: manpage     A reference to a Unix manual page including the section, e.g.```ls(1)```displays :manpage:`ls(1)`. Creates a hyperlink to an    external site rendering the manpage if :confval:`manpages_url` is defined.     .. versionchanged:: 7.3       Allow specifying a target with``\<\>`, like hyperlinks.       For example,``blah <ls(1)>```displays :manpage:`blah <ls(1)>`.  .. rst:role:: menuselection     Menu selections should be marked using the``menuselection`role.  This is    used to mark a complete sequence of menu selections, including selecting    submenus and choosing a specific operation, or any subsequence of such a    sequence.  The names of individual selections should be separated by`--\>``.     For example, to mark the selection "Start > Programs", use this markup::        :menuselection:`Start --> Programs`     Displays: :menuselection:`Start --> Programs`     When including a selection that includes some trailing indicator, such as    the ellipsis some operating systems use to indicate that the command opens a    dialog, the indicator should be omitted from the selection name.``menuselection``also supports ampersand accelerators just like    :rst:role:`guilabel`.  .. rst:role:: mimetype     The name of a MIME type, or a component of a MIME type (the major or minor    portion, taken alone).     For example: :mimetype:`text/plain`  .. rst:role:: newsgroup     The name of a Usenet newsgroup.     For example: :newsgroup:`comp.lang.python`  .. todo:: Is this not part of the standard domain?  .. rst:role:: program     The name of an executable program.  This may differ from the file name for    the executable for some platforms.  In particular, the``.exe``(or other)    extension should be omitted for Windows programs.     For example: :program:`curl`  .. rst:role:: regexp     A regular expression. Quotes should not be included.     For example: :regexp:`([abc])+`  .. rst:role:: samp     A piece of literal text, such as code.  Within the contents, you can use    curly braces to indicate a "variable" part, as in :rst:role:`file`.  For    example, in```print(1+{variable})``, the part`variable``would be    emphasized: :samp:`print(1+{variable})`     If you don't need the "variable part" indication, use the standard    :rst:role:`code` role instead.     .. versionchanged:: 1.8       Allowed to escape curly braces with double backslash.  For example, in```print(f"answer=\\{1+{variable}*2\\}")``, the part`variable``would be emphasized and the escaped curly braces would be displayed:       :samp:`print(f"answer=\\{1+{variable}*2\\}")`  There is also an :rst:role:`index` role to generate index entries.  The following roles generate external links:  .. rst:role:: cve     A reference to a `Common Vulnerabilities and Exposures`_ record.    This generates appropriate index entries.    The text "CVE *number*\ " is generated;    with a link to an online copy of the specified CVE.    You can link to a specific section by using```number#anchor```.     .. _Common Vulnerabilities and Exposures: https://www.cve.org/     For example: :cve:`2020-10735`     .. versionadded:: 8.1  .. rst:role:: cwe     A reference to a `Common Weakness Enumeration`_.    This generates appropriate index entries.    The text "CWE *number*\ " is generated; in the HTML output,    with a link to an online copy of the specified CWE.    You can link to a specific section by using```number#anchor```.     .. _Common Weakness Enumeration: https://cwe.mitre.org/     For example: :cwe:`787`     .. versionadded:: 8.1  .. rst:role:: pep     A reference to a Python Enhancement Proposal.  This generates appropriate    index entries. The text "PEP *number*\ " is generated; in the HTML output,    this text is a hyperlink to an online copy of the specified PEP.  You can    link to a specific section by saying```number#anchor```.     For example: :pep:`8`  .. rst:role:: rfc     A reference to an Internet Request for Comments.  This generates appropriate    index entries. The text "RFC *number*\ " is generated; in the HTML output,    this text is a hyperlink to an online copy of the specified RFC.  You can    link to a specific section by saying```number#anchor```.     For example: :rfc:`2324`  Note that there are no special roles for including hyperlinks as you can use the standard reStructuredText markup for that purpose.   .. _default-substitutions:  Substitutions -------------  The documentation system provides some substitutions that are defined by default. They are set in the build configuration file.  .. describe:: |release|     Replaced by the project release the documentation refers to.  This is meant    to be the full version string including alpha/beta/release candidate tags,    e.g.``2.5.2b3``.  Set by :confval:`release`.  .. describe:: |version|     Replaced by the project version the documentation refers to. This is meant to    consist only of the major and minor version parts, e.g.``2.5``, even for    version 2.5.1.  Set by :confval:`version`.  .. describe:: |today|     Replaced by either today's date (the date on which the document is read), or    the date set in the build configuration file.  Normally has the format``April 14, 2007\`<span class="title-ref">. Set by :confval:\`today\_fmt</span> and `today`.

<div class="describe">

Replaced by the translation progress of the document. This substitution is intended for use by document translators as a marker for the translation progress of the document.

</div>

---

theming.md

---

# HTML theming

Sphinx provides a number of builders for HTML and HTML-based formats.

## Builders

<div class="todo">

Populate when the 'builders' document is split up.

</div>

## Themes

<div class="versionadded">

0.6

</div>

\> **Note** \> This section provides information about using pre-existing HTML themes. If you wish to create your own theme, refer to \[extension-html-theme\](\#extension-html-theme).

Sphinx supports changing the appearance of its HTML output via *themes*. A theme is a collection of HTML templates, stylesheet(s) and other static files. Additionally, it has a configuration file which specifies from which theme to inherit, which highlighting style to use, and what options exist for customizing the theme's look and feel.

Themes are meant to be project-unaware, so they can be used for different projects without change.

### Using a theme

Using a \[theme provided with Sphinx \<builtin-themes\>\](\#theme-provided-with-sphinx-\<builtin-themes\>) is easy. Since these do not need to be installed, you only need to set the `html_theme` config value. For example, to enable the `classic` theme, add the following to `conf.py`:

``` python
html_theme = "classic"
```

You can also set theme-specific options using the `html_theme_options` config value. These options are generally used to change the look and feel of the theme. For example, to place the sidebar on the right side and a black background for the relation bar (the bar with the navigation links at the page's top and bottom), add the following `conf.py`:

``` python
html_theme_options = {
    "rightsidebar": "true",
    "relbarbgcolor": "black"
}
```

If the theme does not come with Sphinx, it can be in two static forms or as a Python package. For the static forms, either a directory (containing `theme.toml` and other needed files), or a zip file with the same contents is supported. The directory or zipfile must be put where Sphinx can find it; for this there is the config value `html_theme_path`. This can be a list of directories, relative to the directory containing `conf.py`, that can contain theme directories or zip files. For example, if you have a theme in the file `blue.zip`, you can put it right in the directory containing `conf.py` and use this configuration:

``` python
html_theme = "blue"
html_theme_path = ["."]
```

The third form is a Python package. If a theme you want to use is distributed as a Python package, you can use it after installing

`` `console     # installing theme package     $ pip install sphinxjp.themes.dotted  Once installed, this can be used in the same manner as a directory or ``\` zipfile-based theme:

``` python
html_theme = "dotted"
```

For more information on the design of themes, including information about writing your own themes, refer to \[extension-html-theme\](\#extension-html-theme).

### Builtin themes

<div class="cssclass">

longtable, standard

</div>

<table style="width:58%;">
<colgroup>
<col style="width: 29%" />
<col style="width: 29%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Theme overview</strong></td>
<td></td>
</tr>
<tr class="even">
<td><p><img src="/_static/themes/alabaster.png" alt="alabaster" /></p>
<p><em>alabaster</em></p></td>
<td><p><img src="/_static/themes/classic.png" alt="classic" /></p>
<p><em>classic</em></p></td>
</tr>
<tr class="odd">
<td><p><img src="/_static/themes/sphinxdoc.png" alt="sphinxdoc" /></p>
<p><em>sphinxdoc</em></p></td>
<td><p><img src="/_static/themes/scrolls.png" alt="scrolls" /></p>
<p><em>scrolls</em></p></td>
</tr>
<tr class="even">
<td><p><img src="/_static/themes/agogo.png" alt="agogo" /></p>
<p><em>agogo</em></p></td>
<td><p><img src="/_static/themes/traditional.png" alt="traditional" /></p>
<p><em>traditional</em></p></td>
</tr>
<tr class="odd">
<td><p><img src="/_static/themes/nature.png" alt="nature" /></p>
<p><em>nature</em></p></td>
<td><p><img src="/_static/themes/haiku.png" alt="haiku" /></p>
<p><em>haiku</em></p></td>
</tr>
<tr class="even">
<td><p><img src="/_static/themes/pyramid.png" alt="pyramid" /></p>
<p><em>pyramid</em></p></td>
<td><p><img src="/_static/themes/bizstyle.png" alt="bizstyle" /></p>
<p><em>bizstyle</em></p></td>
</tr>
</tbody>
</table>

Sphinx comes with a selection of themes to choose from.

Note that from these themes only the Alabaster and Scrolls themes are mobile-optimated, the other themes resort to horizontal scrolling if the screen is too narrow.

<div class="cssclass">

clear

</div>

These themes are:

  - **basic**  
    This is a basically unstyled layout used as the base for the other themes, and usable as the base for custom themes as well. The HTML contains all important elements like sidebar and relation bar. There are these options (which are inherited by the other themes):
    
      - **nosidebar** (true or false): Don't include the sidebar. Defaults to `False`.
    
      - **sidebarwidth** (int or str): Width of the sidebar in pixels. This can be an int, which is interpreted as pixels or a valid CSS dimension string such as '70em' or '50%'. Defaults to 230 pixels.
    
      - **body\_min\_width** (int or str): Minimal width of the document body. This can be an int, which is interpreted as pixels or a valid CSS dimension string such as '70em' or '50%'. Use 0 if you don't want a width limit. Defaults may depend on the theme (often 450px).
    
      - **body\_max\_width** (int or str): Maximal width of the document body. This can be an int, which is interpreted as pixels or a valid CSS dimension string such as '70em' or '50%'. Use 'none' if you don't want a width limit. Defaults may depend on the theme (often 800px).
    
      - **navigation\_with\_keys** (true or false): Allow navigating with the following keyboard shortcuts:
        
          - `Left arrow`: previous page
          - `Right arrow`: next page
        
        Defaults to `False`.
    
      - **enable\_search\_shortcuts** (true or false): Allow jumping to the search box with `/` and allow removal of search highlighting with `Esc`.
        
        Defaults to `True`.
    
      - **globaltoc\_collapse** (true or false): Only expand subsections of the current document in `globaltoc.html` (see `html_sidebars`). Defaults to `True`.
        
        <div class="versionadded">
        
        3.1
        
        </div>
    
      - **globaltoc\_includehidden** (true or false): Show even those subsections in `globaltoc.html` (see `html_sidebars`) which have been included with the `:hidden:` flag of the :rst`toctree` directive. Defaults to `False`.
        
        <div class="versionadded">
        
        3.1
        
        </div>
    
      - **globaltoc\_maxdepth** (int): The maximum depth of the toctree in `globaltoc.html` (see `html_sidebars`). Set it to -1 to allow unlimited depth. Defaults to the max depth selected in the toctree directive.
        
        <div class="versionadded">
        
        3.2
        
        </div>

  - **alabaster**  
    [Alabaster theme]() is a modified "Kr" Sphinx theme from @kennethreitz (especially as used in his Requests project), which was itself originally based on @mitsuhiko's theme used for Flask & related projects. Refer to its [installation page]() for information on how to configure `html_sidebars` for its use.

  - **classic**  
    This is the classic theme, which looks like [the Python 2 documentation](https://docs.python.org/2/). It can be customized via these options:
    
      - **rightsidebar** (true or false): Put the sidebar on the right side. Defaults to `False`.
      - **stickysidebar** (true or false): Make the sidebar "fixed" so that it doesn't scroll out of view for long body content. This may not work well with all browsers. Defaults to `False`.
      - **collapsiblesidebar** (true or false): Add an *experimental* JavaScript snippet that makes the sidebar collapsible via a button on its side. Defaults to `False`.
      - **externalrefs** (true or false): Display external links differently from internal links. Defaults to `False`.
    
    There are also various color and font options that can change the color scheme without having to write a custom stylesheet:
    
      - **footerbgcolor** (CSS color): Background color for the footer line.
      - **footertextcolor** (CSS color): Text color for the footer line.
      - **sidebarbgcolor** (CSS color): Background color for the sidebar.
      - **sidebarbtncolor** (CSS color): Background color for the sidebar collapse button (used when *collapsiblesidebar* is `True`).
      - **sidebartextcolor** (CSS color): Text color for the sidebar.
      - **sidebarlinkcolor** (CSS color): Link color for the sidebar.
      - **relbarbgcolor** (CSS color): Background color for the relation bar.
      - **relbartextcolor** (CSS color): Text color for the relation bar.
      - **relbarlinkcolor** (CSS color): Link color for the relation bar.
      - **bgcolor** (CSS color): Body background color.
      - **textcolor** (CSS color): Body text color.
      - **linkcolor** (CSS color): Body link color.
      - **visitedlinkcolor** (CSS color): Body color for visited links.
      - **headbgcolor** (CSS color): Background color for headings.
      - **headtextcolor** (CSS color): Text color for headings.
      - **headlinkcolor** (CSS color): Link color for headings.
      - **codebgcolor** (CSS color): Background color for code blocks.
      - **codetextcolor** (CSS color): Default text color for code blocks, if not set differently by the highlighting style.
      - **bodyfont** (CSS font-family): Font for normal text.
      - **headfont** (CSS font-family): Font for headings.

  - **sphinxdoc**  
    The theme originally used by this documentation. It features a sidebar on the right side. There are currently no options beyond *nosidebar* and *sidebarwidth*.
    
    \> **Note**

  - \>  
    The Sphinx documentation now uses [an adjusted version of the sphinxdoc theme](https://github.com/sphinx-doc/sphinx/tree/master/doc/_themes/sphinx13).

  - **scrolls**  
    A more lightweight theme, based on [the Jinja documentation](https://jinja.palletsprojects.com/). The following color options are available:
    
      - **headerbordercolor**
      - **subheadlinecolor**
      - **linkcolor**
      - **visitedlinkcolor**
      - **admonitioncolor**

  - **agogo**  
    A theme created by Andi Albrecht. The following options are supported:
    
      - **bodyfont** (CSS font family): Font for normal text.
      - **headerfont** (CSS font family): Font for headings.
      - **pagewidth** (CSS length): Width of the page content, default 70em.
      - **documentwidth** (CSS length): Width of the document (without sidebar), default 50em.
      - **sidebarwidth** (CSS length): Width of the sidebar, default 20em.
      - **rightsidebar** (true or false): Put the sidebar on the right side. Defaults to `True`.
      - **bgcolor** (CSS color): Background color.
      - **headerbg** (CSS value for "background"): background for the header area, default a grayish gradient.
      - **footerbg** (CSS value for "background"): background for the footer area, default a light gray gradient.
      - **linkcolor** (CSS color): Body link color.
      - **headercolor1**, **headercolor2** (CSS color): colors for \<h1\> and \<h2\> headings.
      - **headerlinkcolor** (CSS color): Color for the backreference link in headings.
      - **textalign** (CSS *text-align* value): Text alignment for the body, default is `justify`.

  - **nature**  
    A greenish theme. There are currently no options beyond *nosidebar* and *sidebarwidth*.

  - **pyramid**  
    A theme from the Pyramid web framework project, designed by Blaise Laflamme. There are currently no options beyond *nosidebar* and *sidebarwidth*.

  - **haiku**  
    A theme without sidebar inspired by the [Haiku OS user guide](https://www.haiku-os.org/docs/userguide/en/contents.html). The following options are supported:
    
      - **full\_logo** (true or false, default `False`): If this is true, the header will only show the `html_logo`. Use this for large logos. If this is false, the logo (if present) will be shown floating right, and the documentation title will be put in the header.
      - **textcolor**, **headingcolor**, **linkcolor**, **visitedlinkcolor**, **hoverlinkcolor** (CSS colors): Colors for various body elements.

  - **traditional**  
    A theme resembling the old Python documentation. There are currently no options beyond *nosidebar* and *sidebarwidth*.

  - **epub**  
    A theme for the epub builder. This theme tries to save visual space which is a sparse resource on ebook readers. The following options are supported:
    
      - **relbar1** (true or false, default `True`): If this is true, the `relbar1` block is inserted in the epub output, otherwise it is omitted.
      - **footer** (true or false, default `True`): If this is true, the `footer` block is inserted in the epub output, otherwise it is omitted.

  - **bizstyle**  
    A simple bluish theme. The following options are supported beyond *nosidebar* and *sidebarwidth*:
    
      - **rightsidebar** (true or false): Put the sidebar on the right side. Defaults to `False`.

<div class="versionadded">

1.3 'alabaster', 'sphinx\_rtd\_theme' and 'bizstyle' theme.

</div>

<div class="versionchanged">

1.3 The 'default' theme has been renamed to 'classic'. 'default' is still available, however it will emit a notice that it is an alias for the new 'alabaster' theme.

</div>

### Third Party Themes

There are many third-party themes created for Sphinx. Some of these are for general use, while others are specific to an individual project.

[sphinx-themes.org](https://sphinx-themes.org/) is a gallery that showcases various themes for Sphinx, with demo documentation rendered under each theme. Themes can also be found on [PyPI](https://pypi.org/search/?q=&o=&c=Framework+%3A%3A+Sphinx+%3A%3A+Theme) (using the classifier `Framework :: Sphinx :: Theme`), [GitHub](https://github.com/search?utf8=%E2%9C%93&q=sphinx+theme) and [GitLab](https://gitlab.com/explore?name=sphinx+theme).

---

AUTHORS.rst

---

Maintainers
===========

*Listed alphabetically in forename, surname order*

-   Adam Turner \<\@AA-Turner\>
-   Bénédikt Tran \<\@picnixz\>
-   Chris Sewell \<\@chrisjsewell\>
-   François Freitag \<\@francoisfreitag\>
-   Jakob Lykke Andersen \<\@jakobandersen\>
-   Jean-François B. \<\@jfbu\>
-   Stephen Finucane \<\@stephenfin\>
-   Takayuki Shimizukawa \<\@shimizukawa\>
-   Takeshi Komiya \<\@tk0miya\>

Contributors
============

*Listed alphabetically in forename, surname order*

-   Aaron Carlisle \-- basic theme and templating improvements
-   Adam Dangoor \-- improved static typing
-   Adrián Chaves (Gallaecio) \-- coverage builder improvements
-   Alastair Houghton \-- Apple Help builder
-   Alex Gaynor \-- linkcheck retry on errors
-   Alexander Todorov \-- inheritance\_diagram tests and improvements
-   Andi Albrecht \-- agogo theme
-   Antonio Valentino \-- qthelp builder, docstring inheritance
-   Antti Kaihola \-- doctest extension (skipif option)
-   Barry Warsaw \-- setup command improvements
-   Ben Egan \-- Napoleon improvements
-   Benjamin Peterson \-- unittests
-   Blaise Laflamme \-- pyramid theme
-   Brecht Machiels \-- builder entry-points
-   Bruce Mitchener \-- Minor epub improvement
-   Buck Evan \-- dummy builder
-   Charles Duffy \-- original graphviz extension
-   Chris Holdgraf \-- improved documentation structure
-   Chris Lamb \-- reproducibility fixes
-   Christopher Perkins \-- autosummary integration
-   Dan MacKinlay \-- metadata fixes
-   Daniel Bültmann \-- todo extension
-   Daniel Eades \-- improved static typing
-   Daniel Hahler \-- testing and CI improvements
-   Daniel Pizetta \-- inheritance diagram improvements
-   Dave Kuhlman \-- original LaTeX writer
-   Dimitri Papadopoulos Orfanos \-- linting and spelling
-   Dmitry Shachnev \-- modernisation and reproducibility
-   Doug Hellmann \-- graphviz improvements
-   Eric Larson \-- better error messages
-   Eric N. Vander Weele \-- autodoc improvements
-   Eric Wieser \-- autodoc improvements
-   Etienne Desautels \-- apidoc module
-   Ezio Melotti \-- collapsible sidebar JavaScript
-   Filip Vavera \-- napoleon todo directive
-   Glenn Matthews \-- python domain signature improvements
-   Gregory Szorc \-- performance improvements
-   Henrique Bastos \-- SVG support for graphviz extension
-   Hernan Grecco \-- search improvements
-   Hong Xu \-- svg support in imgmath extension and various bug fixes
-   Horst Gutmann \-- internationalization support
-   Hugo van Kemenade \-- support FORCE\_COLOR and NO\_COLOR
-   Ian Lee \-- quickstart improvements
-   Jacob Mason \-- websupport library (GSOC project)
-   James Addison \-- linkcheck and HTML search improvements
-   Jeppe Pihl \-- literalinclude improvements
-   Jeremy Maitin-Shepard \-- C++ domain improvements
-   Joel Wurtz \-- cellspanning support in LaTeX
-   John Waltman \-- Texinfo builder
-   Jon Dufresne \-- modernisation
-   Josip Dzolonga \-- coverage builder
-   Juan Luis Cano Rodríguez \-- new tutorial (2021)
-   Julien Palard \-- Colspan and rowspan in text builder
-   Justus Magin \-- napoleon improvements
-   Kevin Dunn \-- MathJax extension
-   KINEBUCHI Tomohiko \-- typing Sphinx as well as docutils
-   Kurt McKee \-- documentation updates
-   Lars Hupfeldt Nielsen - OpenSSL FIPS mode md5 bug fix
-   Louis Maddox \-- better docstrings
-   Łukasz Langa \-- partial support for autodoc
-   Marco Buttu \-- doctest extension (pyversion option)
-   Martin Hans \-- autodoc improvements
-   Martin Larralde \-- additional napoleon admonitions
-   Martin Liška \-- option directive and role improvements
-   Martin Mahner \-- nature theme
-   Matthew Fernandez \-- todo extension fix
-   Matthew Woodcraft \-- text output improvements
-   Matthias Geier \-- style improvements
-   Michael Droettboom \-- inheritance\_diagram extension
-   Michael Wilson \-- Intersphinx HTTP basic auth support
-   Nathan Damon \-- bugfix in validation of static paths in html builders
-   Nils Kattenbeck \-- pygments dark style
-   Pauli Virtanen \-- autodoc improvements, autosummary extension
-   Rafael Fontenelle \-- internationalisation
-   A. Rafey Khan \-- improved intersphinx typing
-   Roland Meister \-- epub builder
-   Sebastian Wiesner \-- image handling, distutils support
-   Stefan Seefeld \-- toctree improvements
-   Stefan van der Walt \-- autosummary extension
-   T. Powers \-- HTML output improvements
-   Taku Shimizu \-- epub3 builder
-   Thomas Lamb \-- linkcheck builder
-   Thomas Waldmann \-- apidoc module fixes
-   Tim Hoffmann \-- theme improvements
-   Vince Salvino \-- JavaScript search improvements
-   Will Maier \-- directory HTML builder
-   Zac Hatfield-Dodds \-- doctest reporting improvements, intersphinx performance

Former maintainers
==================

*Listed alphabetically in forename, surname order*

Former maintainers are those who haven\'t committed in the last two years. Those on the list below may become active maintainers again at any time.

-   Armin Ronacher \<\@mitsuhiko\>
-   Daniel Neuhäuser \<\@DasIch\>
-   Georg Brandl \<<georg@python.org>\>
-   Rob Ruana \<\@RobRuana\>
-   Robert Lehmann \<\@lehmannro\>
-   Timotheus Kampik \<\@TimKam\>
-   Yoshiki Shibukawa \<\@shibukawa\>

Many thanks for all contributions!


---

CHANGES.rst

---

Release 8.2.0 (in development)
==============================

Dependencies
------------

-   \#13000: Drop Python 3.10 support.

Incompatible changes
--------------------

Deprecated
----------

-   \#13037: Deprecate the `SingleHTMLBuilder.fix_refuris` method. Patch by James Addison.

Features added
--------------

Bugs fixed
----------

-   \#13060: HTML Search: use `Map` to store per-file term scores. Patch by James Addison

Testing
-------


---

CODE_OF_CONDUCT.rst

---

Sphinx Code of Conduct
======================

Like the technical community as a whole, the Sphinx team and community is made up of volunteers from all over the world. Diversity is a strength, but it can also lead to communication issues and unhappiness. To that end, we have a few ground rules that we ask people to adhere to.

-   **Be friendly and patient.**
-   **Be welcoming.** We strive to be a community that welcomes and supports people of all backgrounds and identities. This includes, but is not limited to members of any race, ethnicity, culture, national origin, colour, immigration status, social and economic class, educational level, sex, sexual orientation, gender identity and expression, age, size, family status, political belief, religion, and mental and physical ability.
-   **Be considerate.** Your work will be used by other people, and you in turn will depend on the work of others. Any decision you take will affect users and colleagues, and you should take those consequences into account when making decisions. Remember that we\'re a world-wide community, so you might not be communicating in someone else\'s primary language.
-   **Be respectful.** Not all of us will agree all the time, but disagreement is no excuse for poor behavior and poor manners. We might all experience some frustration now and then, but we cannot allow that frustration to turn into a personal attack. It\'s important to remember that a community where people feel uncomfortable or threatened is not a productive one. Members of the Sphinx community should be respectful when dealing with other members as well as with people outside the Sphinx community.
-   **Be careful in the words that you choose.** We are a community of professionals, and we conduct ourselves professionally. Be kind to others. Do not insult or put down other participants. Harassment and other exclusionary behavior aren\'t acceptable. This includes, but is not limited to:
    -   Violent threats or language directed against another person.
    -   Discriminatory jokes and language.
    -   Posting sexually explicit or violent material.
    -   Posting (or threatening to post) other people\'s personally identifying information (\"doxing\").
    -   Personal insults, especially those using racist or sexist terms.
    -   Unwelcome sexual attention.
    -   Advocating for, or encouraging, any of the above behavior.
    -   Repeated harassment of others. In general, if someone asks you to stop, then stop.
-   **When we disagree, try to understand why.** Disagreements, both social and technical, happen all the time and Sphinx is no exception. It is important that we resolve disagreements and differing views constructively. Remember that we\'re different. Different people have different perspectives on issues. Being unable to understand why someone holds a viewpoint doesn\'t mean that they\'re wrong. Don\'t forget that it is human to err and blaming each other doesn\'t get us anywhere. Instead, focus on helping to resolve issues and learning from mistakes.

This isn\'t an exhaustive list of things that you can\'t do. Rather, take it in the spirit in which it\'s intended - a guide to make it easier to enrich all of us and the technical communities in which we participate. This code of conduct applies to all spaces of the Sphinx community.

**Attribution**

Original text courtesy of the Speak Up! project: <http://web.archive.org/web/20141109123859/http://speakup.io/coc.html>.


---

CONTRIBUTING.rst

---

Contributing to Sphinx
======================

Interested in contributing to Sphinx? Hurrah! We welcome all forms of contribution, including code patches, documentation improvements and bug reports/feature requests.

Our contributing guide can be found online at:

<https://www.sphinx-doc.org/en/master/internals/contributing.html>

You can also browse it from this repository from `doc/internals/contributing.rst`

Sphinx uses GitHub to host source code, track patches and bugs, and more. Please make an effort to provide as much detail as possible when filing bugs.


---

EXAMPLES.rst

---

Projects using Sphinx
=====================

This is an incomplete list of projects that use Sphinx for their documentation. If you would like to add a project, please [create an issue or pull request on GitHub](https://github.com/sphinx-doc/sphinx/).

I\'ve grouped the list into sections to make it easier to find interesting examples.

Documentation using the alabaster theme
---------------------------------------

-   [Alabaster](https://alabaster.readthedocs.io/)
-   [Blinker](https://blinker.readthedocs.io/)
-   [Calibre](https://manual.calibre-ebook.com/)
-   [CherryPy](https://cherrypy.readthedocs.io/)
-   [Click](https://click.palletsprojects.com/) (customized)
-   [coala](https://docs.coala.io/) (customized)
-   [CodePy](https://documen.tician.de/codepy/)
-   [Django Q](https://django-q.readthedocs.io/)
-   [Eve](https://docs.python-eve.org/) (Python REST API framework)
-   [Fabric](https://docs.fabfile.org/)
-   [Fityk](https://fityk.nieto.pl/)
-   [Flask](https://flask.palletsprojects.com/)
-   [Flask-OpenID](https://pythonhosted.org/Flask-OpenID/)
-   [Invoke](https://docs.pyinvoke.org/)
-   [Jinja](https://jinja.palletsprojects.com/)
-   [Lino](https://www.lino-framework.org/) (customized)
-   [Linux kernel](https://www.kernel.org/doc/html/latest/index.html) (customized)
-   [marbl](https://getmarbl.readthedocs.io/)
-   [MeshPy](https://documen.tician.de/meshpy/)
-   [Molecule](https://molecule.readthedocs.io/)
-   [Momotor LTI](https://momotor.org/doc/lti/canvas/)
-   [Podman](https://docs.podman.io/)
-   [PyCUDA](https://documen.tician.de/pycuda/)
-   [PyOpenCL](https://documen.tician.de/pyopencl/)
-   [PyLangAcq](https://pylangacq.org/)
-   [python-apt](https://apt-team.pages.debian.net/python-apt/)
-   [PyVisfile](https://documen.tician.de/pyvisfile/)
-   [Requests](https://requests.readthedocs.io/)
-   [searx](https://asciimoo.github.io/searx/)
-   [Spyder](https://docs.spyder-ide.org/) (customized)
-   [Tablib](http://docs.python-tablib.org/)
-   [urllib3](https://urllib3.readthedocs.io/) (customized)
-   [Werkzeug](https://werkzeug.palletsprojects.com/)
-   [Write the Docs](https://www.writethedocs.org/)

Documentation using the classic theme
-------------------------------------

-   [Advanced Generic Widgets](https://xoomer.virgilio.it/infinity77/AGW_Docs/) (customized)
-   [Apache CouchDB](https://docs.couchdb.org/) (customized)
-   [APSW](https://rogerbinns.github.io/apsw/)
-   [Arb](https://arblib.org/)
-   [Beautiful Soup](https://www.crummy.com/software/BeautifulSoup/bs4/doc/)
-   [Blender API](https://docs.blender.org/api/current/)
-   [Bugzilla](https://bugzilla.readthedocs.io/)
-   [Buildbot](https://docs.buildbot.net/latest/)
-   [CMake](https://cmake.org/documentation/) (customized)
-   [Chaco](https://docs.enthought.com/chaco/) (customized)
-   [DEAP](https://deap.readthedocs.io/) (customized)
-   [Director](https://pythonhosted.org/director/)
-   [EZ-Draw](https://pageperso.lis-lab.fr/~edouard.thiel/ez-draw/doc/en/html/ez-manual.html) (customized)
-   [Generic Mapping Tools (GMT)](https://docs.generic-mapping-tools.org/latest/) (customized)
-   [Genomedata](https://noble.gs.washington.edu/proj/genomedata/doc/1.3.3/)
-   [GetFEM](https://getfem.org/) (customized)
-   [Glasgow Haskell Compiler](https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/) (customized)
-   [Grok](https://web.archive.org/web/20230708190705/http://grok.zope.org/doc/current/) (customized)
-   [GROMACS](https://manual.gromacs.org/documentation/)
-   [GSL Shell](https://www.nongnu.org/gsl-shell/)
-   [Hands-on Python Tutorial](http://anh.cs.luc.edu:80/python/hands-on/3.1/handsonHtml/)
-   [Kaa](https://freevo.github.io/kaa-base/) (customized)
-   [Leo](https://leo-editor.github.io/leo-editor/) (customized)
-   [Mayavi](https://docs.enthought.com/mayavi/mayavi/) (customized)
-   [MediaGoblin](https://mediagoblin.readthedocs.io/) (customized)
-   [mpmath](https://mpmath.org/doc/current/)
-   [OpenCV](https://docs.opencv.org/) (customized)
-   [OpenEXR](https://excamera.com/articles/26/doc/index.html)
-   [OpenGDA](https://alfred.diamond.ac.uk/documentation/)
-   [phpDocumentor](https://docs.phpdoc.org/) (customized)
-   [Plone](https://docs.plone.org/) (customized)
-   [PyEMD](https://pyemd.readthedocs.io/)
-   [Pyevolve](https://pyevolve.sourceforge.net/)
-   [Pygame](https://www.pygame.org/docs/) (customized)
-   [PyMQI](https://dsuch.github.io/pymqi/)
-   [PyQt4](https://pyqt.sourceforge.net/Docs/PyQt4/) (customized)
-   [PyQt5](https://pyqt.sourceforge.net/Docs/PyQt5/) (customized)
-   [Python 2](https://docs.python.org/2/)
-   [Python 3](https://docs.python.org/3/) (customized)
-   [Python Packaging Authority](https://www.pypa.io/) (customized)
-   [Ring programming language](https://ring-lang.github.io/doc1.20/) (customized)
-   [SageMath](https://doc.sagemath.org/) (customized)
-   [Segway](https://noble.gs.washington.edu/proj/segway/doc/1.1.0/segway.html)
-   [simuPOP](https://bopeng.github.io/simuPOP/) (customized)
-   [SymPy](https://docs.sympy.org/)
-   [TurboGears](https://turbogears.readthedocs.io/) (customized)
-   [tvtk](https://docs.enthought.com/mayavi/tvtk/)
-   [Varnish](https://www.varnish-cache.org/docs/) (customized, alabaster for index)
-   [Waf](https://waf.io/apidocs/)
-   [wxPython Phoenix](https://wxpython.org/Phoenix/docs/html/main.html) (customized)
-   [z3c](https://www.ibiblio.org/paulcarduner/z3ctutorial/)
-   [zc.async](https://pythonhosted.org/zc.async/) (customized)
-   [Zope](https://www.zope.dev/) (customized)

Documentation using the sphinxdoc theme
---------------------------------------

-   [ABRT](https://abrt.readthedocs.io/)
-   [cartopy](https://scitools.org.uk/cartopy/docs/latest/)
-   [Jython](https://jython.readthedocs.io/)
-   [LLVM](https://llvm.org/docs/)
-   [PyCantonese](https://pycantonese.org/)
-   [Pyre](https://pyre.readthedocs.io/)
-   [pySPACE](https://pyspace.github.io/pyspace/)
-   [Pysparse](https://pysparse.sourceforge.net/)
-   [PyTango](https://pytango.readthedocs.io)
-   [Python Wild Magic](https://vmlaker.github.io/pythonwildmagic/) (customized)
-   [RDKit](https://www.rdkit.org/docs/)
-   [Reteisi](https://www.reteisi.org/contents.html) (customized)
-   [Turbulenz](http://docs.turbulenz.com/)

Documentation using the nature theme
------------------------------------

-   [Alembic](https://alembic.sqlalchemy.org/)
-   [Cython](https://docs.cython.org/)
-   [easybuild](https://easybuild.readthedocs.io/)
-   [libLAS](https://liblas.org/) (customized)
-   [Lmod](https://lmod.readthedocs.io/)
-   [MapServer](https://mapserver.org/) (customized)
-   [PyWavelets](https://pywavelets.readthedocs.io/)
-   [Setuptools](https://setuptools.readthedocs.io/)
-   [Spring Python](https://docs.spring.io/spring-python/1.2.x/sphinx/html/)
-   [StatsModels](https://www.statsmodels.org/) (customized)
-   [Sylli](https://sylli.sourceforge.net/)

Documentation using another builtin theme
-----------------------------------------

-   [Breathe](https://breathe.readthedocs.io/) (haiku)
-   [Breezy (fork of Bazaar)](https://www.breezy-vcs.org/doc/en/) (agogo)
-   [MPipe](https://vmlaker.github.io/mpipe/) (sphinx13)
-   [NLTK](https://www.nltk.org/) (agogo)
-   [PyPubSub](https://pypubsub.readthedocs.io/) (bizstyle)
-   [Pylons](https://docs.pylonsproject.org/projects/pylons-webframework/) (pyramid)
-   [Pyramid web framework](https://docs.pylonsproject.org/projects/pyramid/) (pyramid)
-   [RxDock](https://rxdock.gitlab.io/documentation/devel/html/) (bizstyle)
-   [Sphinx](https://www.sphinx-doc.org/) (sphinx13) :-)
-   [Valence](https://docs.valence.desire2learn.com/) (haiku, customized)

Documentation using Read the Docs Sphinx Theme
----------------------------------------------

[Read the Docs Sphinx Theme documentation](https://sphinx-rtd-theme.readthedocs.io/)

-   [Aesara (fork of Theano)](https://aesara.readthedocs.io/)
-   [Annotator](https://docs.annotatorjs.org/)
-   [Ansible](https://docs.ansible.com/) (customized)
-   [Arcade](https://arcade.academy/)
-   [aria2](https://aria2.github.io/manual/en/html/)
-   [ASE](https://wiki.fysik.dtu.dk/ase/)
-   [asvin](https://asvin.readthedocs.io/)
-   [Autofac](https://docs.autofac.org/)
-   [BigchainDB](https://docs.bigchaindb.com/)
-   [Blender Reference Manual](https://docs.blender.org/manual/)
-   [Blocks](https://blocks.readthedocs.io/)
-   [bootstrap-datepicker](https://bootstrap-datepicker.readthedocs.io/)
-   [Certbot](https://certbot.eff.org/docs/)
-   [CKAN](https://docs.ckan.org/)
-   [Copr Buildsystem](https://docs.pagure.org/copr.copr/) (customized)
-   [Coreboot](https://doc.coreboot.org/)
-   [Chainer](https://docs.chainer.org/) (customized)
-   [citeproc-js](https://citeproc-js.readthedocs.io/)
-   [cloud-init](https://cloudinit.readthedocs.io/)
-   [CodeIgniter](https://www.codeigniter.com/user_guide/)
-   [Conda](https://conda.io/docs/)
-   [Corda](https://docs.corda.net/)
-   [Dask](https://dask.pydata.org/)
-   [Databricks](https://docs.databricks.com/) (customized)
-   [Dataiku DSS](https://doc.dataiku.com/)
-   [DNF](https://dnf.readthedocs.io/)
-   [Distro Tracker](https://qa.pages.debian.net/distro-tracker/)
-   [Django-cas-ng](https://djangocas.dev/docs/)
-   [dj-stripe](https://dj-stripe.github.io/dj-stripe/)
-   [edX](https://docs.edx.org/)
-   [Electrum](https://docs.electrum.org/)
-   [ESWP3](https://eswp3.readthedocs.io/)
-   [Ethereum Homestead](https://www.ethdocs.org/)
-   [Exhale](https://exhale.readthedocs.io/)
-   [Faker](https://faker.readthedocs.io/)
-   [Fidimag](https://fidimag.readthedocs.io/)
-   [Flake8](https://flake8.pycqa.org/)
-   [Flatpak](https://docs.flatpak.org/)
-   [FluidDyn](https://fluiddyn.readthedocs.io/)
-   [Fluidsim](https://fluidsim.readthedocs.io/)
-   [Gallium](https://gallium.readthedocs.io/)
-   [GeoNode](https://docs.geonode.org/)
-   [Glances](https://glances.readthedocs.io/)
-   [Godot](https://godot.readthedocs.io/)
-   [Graylog](https://docs.graylog.org/)
-   [GPAW](https://wiki.fysik.dtu.dk/gpaw/) (customized)
-   [HDF5 for Python (h5py)](https://docs.h5py.org/)
-   [HyperKitty](https://hyperkitty.readthedocs.io/)
-   [Hyperledger Fabric](https://hyperledger-fabric.readthedocs.io/)
-   [IdentityServer](https://docs.identityserver.io/)
-   [Idris](https://docs.idris-lang.org/)
-   [Inkscape](https://inkscape-manuals.readthedocs.io/) (customized)
-   [javasphinx](https://bronto-javasphinx.readthedocs.io/)
-   [Jupyter Notebook](https://jupyter-notebook.readthedocs.io/)
-   [Kanboard](https://docs.kanboard.org/)
-   [Lasagne](https://lasagne.readthedocs.io/)
-   [latexindent.pl](https://latexindentpl.readthedocs.io/)
-   [Learning Apache Spark with Python](https://runawayhorse001.github.io/LearningApacheSpark)
-   [LibCEED](https://libceed.readthedocs.io/)
-   [Linguistica](https://linguistica-uchicago.github.io/lxa5/)
-   [Mailman](https://docs.list.org/)
-   [MathJax](https://docs.mathjax.org/)
-   [MDTraj](https://mdtraj.org/) (customized)
-   [Mesa 3D](https://docs.mesa3d.org/)
-   [micca - MICrobial Community Analysis](https://micca.readthedocs.io/)
-   [MicroPython](https://docs.micropython.org/)
-   [Mink](https://mink.behat.org/)
-   [Mockery](https://docs.mockery.io/)
-   [mod\_wsgi](https://modwsgi.readthedocs.io/)
-   [MoinMoin](https://moin-20.readthedocs.io/)
-   [Mopidy](https://docs.mopidy.com/)
-   [mpi4py](https://mpi4py.readthedocs.io/)
-   [MyHDL](https://docs.myhdl.org/)
-   [Mypy](https://mypy.readthedocs.io/)
-   [Netgate Docs](https://docs.netgate.com/)
-   [Nextcloud Server](https://docs.nextcloud.com/#server)
-   [Nextflow](https://www.nextflow.io/docs/latest/index.html)
-   [nghttp2](https://nghttp2.org/documentation/)
-   [NICOS](https://forge.frm2.tum.de/nicos/doc/nicos-master/) (customized)
-   [OpenFAST](https://openfast.readthedocs.io/)
-   [Panda3D](https://docs.panda3d.org/) (customized)
-   [Pelican](https://docs.getpelican.com/)
-   [picamera](https://picamera.readthedocs.io/)
-   [Pillow](https://pillow.readthedocs.io/)
-   [pip](https://pip.pypa.io/)
-   [Paver](https://paver.readthedocs.io/)
-   [peewee](https://docs.peewee-orm.com/)
-   [Phinx](https://docs.phinx.org/)
-   [phpMyAdmin](https://docs.phpmyadmin.net/)
-   [PHPUnit](https://phpunit.readthedocs.io/)
-   [PHPWord](https://phpword.readthedocs.io/)
-   [PROS](https://pros.cs.purdue.edu/v5/) (customized)
-   [Pweave](https://mpastell.com/pweave/)
-   [pyca/cryptograhpy](https://cryptography.io/)
-   [pyglet](https://pyglet.readthedocs.io/)
-   [PyNaCl](https://pynacl.readthedocs.io/)
-   [pyOpenSSL](https://www.pyopenssl.org/)
-   [PyPy](https://doc.pypy.org/)
-   [python-sqlparse](https://sqlparse.readthedocs.io/)
-   [PyVISA](https://pyvisa.readthedocs.io/)
-   [Read The Docs](https://docs.readthedocs.io/)
-   [RenderDoc](https://renderdoc.org/docs/)
-   [ROCm Platform](https://rocmdocs.amd.com/)
-   [Free your information from their silos (French)](https://redaction-technique.org/) (customized)
-   [Releases Sphinx extension](https://releases.readthedocs.io/)
-   [Qtile](https://docs.qtile.org/)
-   [Quex](https://quex.sourceforge.net/doc/html/main.html)
-   [QuTiP](https://qutip.readthedocs.io/en/latest/)
-   [Sawtooth](https://sawtooth.splinter.dev/docs)
-   [Scapy](https://scapy.readthedocs.io/)
-   [SimGrid](https://simgrid.org/doc/latest/)
-   [SimPy](https://simpy.readthedocs.io/)
-   [six](https://six.readthedocs.io/)
-   [Solidity](https://solidity.readthedocs.io/)
-   [Sonos Controller (SoCo)](https://docs.python-soco.com/)
-   [Sphinx AutoAPI](https://sphinx-autoapi.readthedocs.io/)
-   [sphinx-argparse](https://sphinx-argparse.readthedocs.io/)
-   [sphinx-tabs](https://sphinx-tabs.readthedocs.io/)
-   [Sphinx-Gallery](https://sphinx-gallery.readthedocs.io/) (customized)
-   [Sphinx with Github Webpages](https://runawayhorse001.github.io/SphinxGithub)
-   [SpotBugs](https://spotbugs.readthedocs.io/)
-   [StarUML](https://docs.staruml.io/)
-   [Sublime Text Unofficial Documentation](https://docs.sublimetext.info/)
-   [SunPy](https://docs.sunpy.org/)
-   [Sylius](https://docs.sylius.com/)
-   [Syncthing](https://docs.syncthing.net/)
-   [Tango Controls](https://tango-controls.readthedocs.io/) (customized)
-   [ThreatConnect](https://docs.threatconnect.com/)
-   [TrueNAS](https://www.ixsystems.com/documentation/truenas/) (customized)
-   [Tuleap](https://tuleap.net/doc/en/)
-   [TYPO3](https://docs.typo3.org/) (customized)
-   [Veyon](https://docs.veyon.io/)
-   [Ubiquity](https://micro-framework.readthedocs.io/)
-   [uWSGI](https://uwsgi-docs.readthedocs.io/)
-   [virtualenv](https://virtualenv.readthedocs.io/)
-   [Wagtail](https://docs.wagtail.io/)
-   [Web Application Attack and Audit Framework (w3af)](https://docs.w3af.org/)
-   [Weblate](https://docs.weblate.org/)
-   [x265](https://x265.readthedocs.io/)
-   [Zeek](https://docs.zeek.org/)
-   [Zulip](https://zulip.readthedocs.io/)

Documentation using Sphinx Bootstrap Theme
------------------------------------------

[Sphinx Bootstrap Theme documentation](https://ryan-roemer.github.io/sphinx-bootstrap-theme/)

-   [Bootstrap Theme](https://ryan-roemer.github.io/sphinx-bootstrap-theme/)
-   [C/C++ Software Development with Eclipse](https://eclipsebook.in/)
-   [Dataverse](https://guides.dataverse.org/)
-   [e-cidadania](https://e-cidadania.readthedocs.io/)
-   [Hangfire](https://docs.hangfire.io/)
-   [Hedge](https://documen.tician.de/hedge/)
-   [ObsPy](https://docs.obspy.org/)
-   [OPNFV](https://docs.opnfv.org/)
-   [Pootle](https://docs.translatehouse.org/projects/pootle/)
-   [PyUblas](https://documen.tician.de/pyublas/)
-   [seaborn](https://seaborn.pydata.org/)

Documentation using PyData Sphinx Theme
---------------------------------------

[Pydata Sphinx Theme documentation](https://pydata-sphinx-theme.readthedocs.io/)

-   [Arviz](https://python.arviz.org/en/stable/)
-   [Astropy](https://docs.astropy.org/)
-   [Binder](https://mybinder.readthedocs.io/en/latest/)
-   [Bokeh](https://docs.bokeh.org/en/latest/)
-   [CuPy](https://docs.cupy.dev/en/stable/)
-   [EnOSlib](https://discovery.gitlabpages.inria.fr/enoslib/)
-   [Fairlearn](https://fairlearn.org/main/)
-   [Feature-engine](https://feature-engine.readthedocs.io/en/latest/)
-   [Jupyter](https://docs.jupyter.org/en/latest/)
-   [Jupyter Book](https://jupyterbook.org/en/stable/intro.html)
-   [Matplotlib](https://matplotlib.org/stable/index.html)
-   [MegEngine](https://megengine.org.cn/doc/stable/en/)
-   [MNE-Python](https://mne.tools/stable/)
-   [NetworkX](https://networkx.org/documentation/stable/)
-   [Numpy](https://numpy.org/doc/stable/)
-   [Pandas](https://pandas.pydata.org/docs/)
-   [PhaseFieldX](https://phasefieldx.readthedocs.io/)
-   [Pystra (continuation of PyRe)](https://pystra.github.io/pystra/)
-   [PyVista](https://docs.pyvista.org/)
-   [SciPy](https://docs.scipy.org/doc/scipy/)
-   [Seaborn](https://seaborn.pydata.org/)
-   [SEPAL](https://docs.sepal.io/en/latest/index.html)

Documentation using Furo theme
------------------------------

[Furo theme documentation](https://pradyunsg.me/furo/)

-   [Furo theme](https://pradyunsg.me/furo/)
-   [pytest](https://docs.pytest.org/)
-   [Python Packaging User Guide](https://packaging.python.org/)
-   [Python Developer\'s Guide](https://devguide.python.org/)

Documentation using a custom theme or integrated in a website
-------------------------------------------------------------

-   [AIOHTTP](https://docs.aiohttp.org/)
-   [Apache Cassandra](https://cassandra.apache.org/doc/)
-   [Boto 3](https://boto3.readthedocs.io/)
-   [CakePHP](https://book.cakephp.org/)
-   [Ceph](https://docs.ceph.com/docs/master/)
-   [Chef](https://docs.chef.io/)
-   [CKAN](https://docs.ckan.org/)
-   [Confluent Platform](https://docs.confluent.io/)
-   [Django](https://docs.djangoproject.com/)
-   [django CMS](https://docs.django-cms.org/)
-   [Doctrine](https://www.doctrine-project.org/)
-   [Enterprise Toolkit for Acrobat products](https://www.adobe.com/devnet-docs/acrobatetk/)
-   [FreeFEM](https://doc.freefem.org/introduction/)
-   [fmt](https://fmt.dev/)
-   [Gameduino](https://excamera.com/sphinx/gameduino/)
-   [gensim](https://radimrehurek.com/gensim/)
-   [GeoServer](https://docs.geoserver.org/)
-   [gevent](https://www.gevent.org/)
-   [GHC - Glasgow Haskell Compiler](https://downloads.haskell.org/~ghc/master/users-guide/)
-   [Guzzle](https://docs.guzzlephp.org/)
-   [H2O.ai](https://docs.h2o.ai/)
-   [Heka](https://hekad.readthedocs.io/)
-   [Istihza (Turkish Python documentation project)](https://python-istihza.yazbel.com/)
-   [JupyterHub](https://jupyterhub.readthedocs.io/)
-   [Kombu](https://kombu.readthedocs.io/)
-   [Lasso](http://www.lassoguide.com/)
-   [Mako](https://docs.makotemplates.org/)
-   [MirrorBrain](https://mirrorbrain-docs.readthedocs.io/)
-   [Mitiq](https://mitiq.readthedocs.io/)
-   [MongoDB](https://docs.mongodb.com/)
-   [Music21](https://web.mit.edu/music21/doc/)
-   [MyHDL](https://docs.myhdl.org/)
-   [ndnSIM](https://ndnsim.net/current/)
-   [nose](https://nose.readthedocs.io/)
-   [ns-3](https://www.nsnam.org/documentation/)
-   [ObjectListView](https://objectlistview.sourceforge.net/python/)
-   [OpenERP](https://doc.odoo.com/)
-   [OpenCV](https://docs.opencv.org/)
-   [Open Dylan](https://opendylan.org/)
-   [OpenTURNS](https://openturns.github.io/openturns/latest/)
-   [Open vSwitch](https://docs.openvswitch.org/)
-   [PlatformIO](https://docs.platformio.org/)
-   [Psycopg](https://www.psycopg.org/docs/)
-   [PyEphem](https://rhodesmill.org/pyephem/)
-   [Pygments](https://pygments.org/docs/)
-   [Plone User Manual (German)](https://www.hasecke.com/plone-benutzerhandbuch/4.0/)
-   [PSI4](https://www.psicode.org/psi4manual/master/index.html)
-   [PyMOTW](https://pymotw.com/2/)
-   [python-aspectlib](https://python-aspectlib.readthedocs.io/) ([sphinx\_py3doc\_enhanced\_theme](https://pypi.org/project/sphinx_py3doc_enhanced_theme/))
-   [QGIS](https://qgis.org/en/docs/index.html)
-   [Roundup](https://www.roundup-tracker.org/)
-   [SaltStack](https://docs.saltstack.com/)
-   [scikit-learn](https://scikit-learn.org/stable/)
-   [Scrapy](https://doc.scrapy.org/)
-   [Selenium](https://docs.seleniumhq.org/docs/)
-   [Self](https://www.selflanguage.org/)
-   [Substance D](https://docs.pylonsproject.org/projects/substanced/)
-   [Sulu](https://docs.sulu.io/)
-   [SQLAlchemy](https://docs.sqlalchemy.org/)
-   [tinyTiM](https://tinytim.sourceforge.net/docs/2.0/)
-   [Twisted](https://twistedmatrix.com/documents/current/)
-   [Ubuntu Packaging Guide](https://packaging.ubuntu.com/html/)
-   [WTForms](https://wtforms.readthedocs.io/)

Homepages and other non-documentation sites
-------------------------------------------

-   [Alan Crosswell\'s Using the Django REST Framework and DRF-JSONAPI](https://www.columbia.edu/~alan/django-jsonapi-training/)
-   [Arizona State University PHY494/PHY598/CHM598 Simulation approaches to Bio-and Nanophysics](https://becksteinlab.physics.asu.edu/pages/courses/2013/SimBioNano/) (classic)
-   [Benoit Boissinot](https://bboissin.appspot.com/) (classic, customized)
-   [EBI Cloud Consultancy Team](https://tsi-ccdoc.readthedocs.io/) (sphinx\_rtd\_theme)
-   [Eric Holscher](https://ericholscher.com/) (alabaster)
-   [Florian Diesch](https://www.florian-diesch.de/)
-   [Institute for the Design of Advanced Energy Systems (IDAES)](https://idaes-pse.readthedocs.io/) (sphinx\_rtd\_theme)
-   [IDAES Examples](https://idaes.github.io/examples-pse/) (sphinx\_rtd\_theme)
-   [Lei Ma\'s Statistical Mechanics lecture notes](https://statisticalphysics.leima.is/) (sphinx\_bootstrap\_theme)
-   [PyXLL](https://www.pyxll.com/) (sphinx\_bootstrap\_theme, customized)
-   [SciPy Cookbook](https://scipy-cookbook.readthedocs.io/) (sphinx\_rtd\_theme)
-   [Tech writer at work blog](https://documatt.com/blog/) (custom theme)
-   [UC Berkeley ME233 Advanced Control Systems II course](https://berkeley-me233.github.io/) (sphinxdoc)
-   [Željko Svedružić\'s Biomolecular Structure and Function Laboratory (BioSFLab)](https://svedruziclab.github.io/) (sphinx\_bootstrap\_theme)

Books produced using Sphinx
---------------------------

-   [\"The Art of Community\" (Japanese translation)](https://www.oreilly.co.jp/books/9784873114958/)
-   [\"Die Wahrheit des Sehens. Der DEKALOG von Krzysztof Kieślowski\"](https://literatur.hasecke.com/post/die-wahrheit-des-sehens-dekalog-kieslowski/)
-   [\"Expert Python Programming\"](https://www.packtpub.com/application-development/expert-python-programming)
-   [\"Expert Python Programming\" (Japanese translation)](https://www.amazon.co.jp/dp/4048686291/)
-   [\"Expert Python Programming 2nd Edition\" (Japanese translation)](https://www.amazon.co.jp/dp/4048930613/)
-   [\"The Hitchhiker\'s Guide to Python\"](https://docs.python-guide.org/)
-   [\"LassoGuide\"](http://www.lassoguide.com/)
-   [\"Learning Sphinx\" (in Japanese)](https://www.oreilly.co.jp/books/9784873116488/)
-   [\"Learning System Programming with Go (Japanese)\"](https://www.lambdanote.com/products/go)
-   [\"Mercurial: the definitive guide (Second edition)\"](https://book.mercurial-scm.org/)
-   [\"Mithril \-- The fastest clientside MVC (Japanese)\"](https://www.oreilly.co.jp/books/9784873117447/)
-   \"Pioneers and Prominent Men of Utah\"
-   [\"Pomodoro Technique Illustrated\" (Japanese translation)](https://www.amazon.co.jp/dp/4048689525/)
-   [\"Professional Software Development\"](https://mixmastamyk.bitbucket.io/pro_soft_dev/)
-   [\"Python Professional Programming\" (in Japanese)](https://www.amazon.co.jp/dp/4798032948/)
-   [\"Python Professional Programming 2nd Edition\" (in Japanese)](https://www.amazon.co.jp/dp/479804315X/)
-   [\"Python Professional Programming 3rd Edition\" (in Japanese)](https://www.amazon.co.jp/dp/4798053821/)
-   [Python Course by Yuri Petrov (Russian)](https://www.yuripetrov.ru/edu/python)
-   [\"Real World HTTP \-- Learning The Internet and Web Technology via its history and code (Japanese)\"](https://www.oreilly.co.jp/books/9784873118048/)
-   [\"Redmine Primer 5th Edition (in Japanese)\"](https://www.shuwasystem.co.jp/products/7980html/4825.html)
-   [\"The repoze.bfg Web Application Framework\"](https://www.amazon.com/repoze-bfg-Web-Application-Framework-Version/dp/0615345379)
-   [\"The Self-Taught Programmer\" (Japanese translation)](https://www.amazon.co.jp/dp/4822292274/)
-   [\"Simple and Steady Way of Learning for Software Engineering\" (in Japanese)](https://www.amazon.co.jp/dp/477414259X/)
-   [\"Software-Dokumentation mit Sphinx\"](https://www.amazon.de/dp/1497448689/)
-   [\"Theoretical Physics Reference\"](https://www.theoretical-physics.net/)
-   [\"The Varnish Book\"](https://info.varnish-software.com/the-varnish-book)

Theses produced using Sphinx
----------------------------

-   [\"Content Conditioning and Distribution for Dynamic Virtual Worlds\"](https://www.cs.princeton.edu/research/techreps/TR-941-12)
-   [\"The Sphinx Thesis Resource\"](https://jterrace.github.io/sphinxtr/)

Projects integrating Sphinx functionality
-----------------------------------------

-   [Read the Docs](https://readthedocs.org/), a software-as-a-service documentation hosting platform, uses Sphinx to automatically build documentation updates that are pushed to GitHub.
-   [Spyder](https://docs.spyder-ide.org/current/panes/help.html), the Scientific Python Development Environment, uses Sphinx in its help pane to render rich documentation for functions, classes and methods automatically or on-demand.


---

LICENSE.rst

---

License for Sphinx
==================

Unless otherwise indicated, all code in the Sphinx project is licenced under the two clause BSD licence below.

Copyright (c) 2007-2024 by the Sphinx team (see AUTHORS file). All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

-   Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
-   Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.


---

README.rst

---

Sphinx
======

[![Package on PyPI](https://img.shields.io/pypi/v/sphinx.svg)](https://pypi.org/project/Sphinx/)

[![Build Status](https://github.com/sphinx-doc/sphinx/actions/workflows/main.yml/badge.svg)](https://github.com/sphinx-doc/sphinx/actions/workflows/main.yml)

[![Documentation Status](https://readthedocs.org/projects/sphinx/badge/?version=master)](https://www.sphinx-doc.org/)

[![BSD 2 Clause](https://img.shields.io/badge/License-BSD%202--Clause-blue.svg)](https://opensource.org/licenses/BSD-2-Clause)

**Sphinx makes it easy to create intelligent and beautiful documentation.**

Sphinx uses reStructuredText as its markup language, and many of its strengths come from the power and straightforwardness of reStructuredText and its parsing and translating suite, the Docutils.

Features
--------

-   **Output formats**: HTML, PDF, plain text, EPUB, TeX, manual pages, and more
-   **Extensive cross-references**: semantic markup and automatic links for functions, classes, glossary terms and similar pieces of information
-   **Hierarchical structure**: easy definition of a document tree, with automatic links to siblings, parents and children
-   **Automatic indices**: general index as well as a module index
-   **Code highlighting**: automatic highlighting using the Pygments highlighter
-   **Templating**: Flexible HTML output using the Jinja 2 templating engine
-   **Extension ecosystem**: Many extensions are available, for example for automatic function documentation or working with Jupyter notebooks.
-   **Language Support**: Python, C, C++, JavaScript, mathematics, and many other languages through extensions.

For more information, refer to [the documentation](https://www.sphinx-doc.org/).

Installation
------------

The following command installs Sphinx from the [Python Package Index](https://pypi.org/project/Sphinx/). You will need a working installation of Python and pip.

``` {.shell}
pip install -U sphinx
```

Contributing
------------

We appreciate all contributions! Refer to [the contributors guide](https://www.sphinx-doc.org/en/master/internals/contributing.html) for information.


---

bindep.txt

---

texlive [platform:rpm]
texlive-fncychap [platform:rpm]
texlive-titlesec [platform:rpm]
texlive-tabulary [platform:rpm]
texlive-framed [platform:rpm]
texlive-wrapfig [platform:rpm]
texlive-upquote [platform:rpm]
texlive-capt-of [platform:rpm]
texlive-needspace [platform:rpm]
texlive-polyglossia [platform:rpm]
texlive-luatex85 [platform:rpm]
texlive-anyfontsize [platform:rpm]
texlive-ctablestack [platform:rpm]
texlive-gnu-freefont [platform:rpm]
texlive-tex-gyre [platform:rpm]
texlive-pict2e [platform:rpm]
texlive-fontawesome5 [platform:rpm]
texlive-xcolor [platform:rpm]
latexmk [platform:rpm]

texlive-latex-recommended [platform:dpkg]
texlive-fonts-recommended [platform:dpkg]
texlive-fonts-extra [platform:dpkg]
tex-gyre [platform:dpkg]
texlive-latex-extra [platform:dpkg]
texlive-luatex [platform:dpkg]
texlive-pictures [platform:dpkg]
latexmk [platform:dpkg]


---

index.md

---

This is a sample C++ project used to generate a search engine index fixture.

Indexing and querying the term C++ can be challenging, because search-related tokenization often drops punctuation and mathematical characters (they occur frequently on the web and would inflate the cardinality and size of web search indexes).

---

index.md

---

# Main Page

This is the main page of the `multiterm` test project.

This document is used as a test fixture to check that the search functionality included when projects are built into an HTML output format can successfully match this document when a search query containing multiple terms is performed.

At the time-of-writing this message, the application doesn't support "phrase queries" -- queries that require all of the contained terms to appear adjacent to each other and in the same order in the document as in the query; perhaps it will do in future?

---

index.md

---

# sphinx\_utils module

Partial matches on document titles and document terms should both be possible using the JavaScript search functionality included when HTML documentation projects are built.

This document provides a sample reStructuredText input to confirm that partial title matching is possible.

---

index.md

---

# Main Page

This is the main page of the `titles` test project.

In particular, this test project is intended to demonstrate how Sphinx can handle scoring of query matches against document titles and subsection heading titles relative to other document matches such as terms found within document text and object names extracted from code.

## Relevance

In the context of search engines, we can say that a document is **relevant** to a user's query when it contains information that seems likely to help them find an answer to a question they're asking, or to improve their knowledge of the subject area they're researching.

<div class="automodule" data-members="">

relevance

</div>

## Result Scoring

Many search engines assign a numeric score to documents during retrieval of results - and this score is often used to determine the order in which they will be presented to the user.

For example, if a user issues a query for a two words, then documents that contain both of the words would typically be scored more highly than documents which only contain one of them.

By evaluating search results and collecting user feedback over time, we can attempt to align document `!scoring` with `relevance`.

---

relevance.md

---

# Relevance

In some domains, it can be straightforward to determine whether a search result is relevant to the user's query.

For example, if we are in a software programming language domain, and a user has issued a query for the term `printf`, then we could consider a document in the corpus that describes a built-in language function with the same name as (highly) relevant. A document that only happens to mention the `printf` function name as part of some example code that appears on the page would also be relevant, but likely less relevant than the one that describes the function itself in detail.

---

index.md

---

# test-add\_enumerable\_node

<div class="toctree" data-numbered="">

</div>

## First section

<div id="first_figure">

![First figure](rimg.png)

</div>

<div id="first_my_figure">

<div class="my-figure">

rimg.png

First my figure

</div>

</div>

<div id="first_numbered_text">

<div class="numbered-text">

Hello world

</div>

</div>

<div id="second_numbered_text">

<div class="numbered-text">

Hello Sphinx

</div>

</div>

## Second section

<div id="second_my_figure">

<div class="my-figure">

rimg.png

Second my figure

</div>

</div>

## Reference section

  - first\_figure is `first_figure`
  - first\_my\_figure is `first_my_figure`
  - second\_my\_figure is `second_my_figure`
  - first numbered\_text is `first_numbered_text`
  - second numbered\_text is `second_numbered_text`

---

index.md

---

# Test API set\_translator

---

index.md

---

<div class="autosummary" data-nosignatures="" data-toctree="">

dummy\_module [underscore\_module]() sphinx

</div>

---

sphinx.md

---

# Autosummary test

<div class="autosummary" data-toctree="generated">

sphinx.application.Sphinx

</div>

<div class="currentmodule">

sphinx.application

</div>

<div class="autoclass">

TemplateBridge

Basic test

<div class="autosummary">

render -- some ignored stuff goes here render\_string More ignored stuff

</div>

Test with tildes

<div class="autosummary">

\~TemplateBridge.render \~TemplateBridge.render\_string

</div>

Methods:

<div class="automethod">

render

</div>

<div class="automethod">

render\_string

</div>

</div>

---

index.md

---

# The basic Sphinx documentation for testing

Sphinx is a tool that makes it easy to create intelligent and beautiful documentation for Python projects (or other documents consisting of multiple reStructuredText sources), written by Georg Brandl. It was originally created for the new Python documentation, and has excellent facilities for Python project documentation, but C/C++ is supported as well, and more languages are planned.

Sphinx uses reStructuredText as its markup language, and many of its strengths come from the power and straightforwardness of reStructuredText and its parsing and translating suite, the Docutils.

## features

Among its features are the following:

  - Output formats: HTML (including derivative formats such as HTML Help, Epub and Qt Help), plain text, manual pages and LaTeX or direct PDF output using rst2pdf
  - Extensive cross-references: semantic markup and automatic links for functions, classes, glossary terms and similar pieces of information
  - Hierarchical structure: easy definition of a document tree, with automatic links to siblings, parents and children
  - Automatic indices: general index as well as a module index
  - Code handling: automatic highlighting using the Pygments highlighter
  - Flexible HTML output using the Jinja 2 templating engine
  - Various extensions are available, e.g. for automatic testing of snippets and inclusion of appropriately formatted docstrings

---

index.md

---

# test-build-html-theme-having-multiple-stylesheets

---

index.md

---

# Test HTML admonitions

<div class="seealso">

test

</div>

<div class="note">

<div class="title">

Note

</div>

test

</div>

<div class="warning">

<div class="title">

Warning

</div>

test

</div>

<div class="attention">

<div class="title">

Attention

</div>

test

</div>

<div class="caution">

<div class="title">

Caution

</div>

test

</div>

<div class="danger">

<div class="title">

Danger

</div>

test

</div>

<div class="error">

<div class="title">

Error

</div>

test

</div>

<div class="hint">

<div class="title">

Hint

</div>

test

</div>

<div class="important">

<div class="title">

Important

</div>

test

</div>

<div class="tip">

<div class="title">

Tip

</div>

test

</div>

---

bar.md

---

# bar

---

foo_1.md

---

# foo/foo\_1

---

foo_2.md

---

# foo/foo\_2

---

index.md

---

# foo/index

<div class="toctree">

foo\_1 foo\_2

</div>

---

index.md

---

# index

<div class="toctree">

foo/index bar

</div>

---

bom.md

---

# File with UTF-8 BOM

This file has a UTF-8 "BOM".

---

index.md

---

# The basic Sphinx documentation for testing

<div class="toctree">

bom

</div>

---

base.md

---

# Version markup

<div class="versionadded">

0.6 Some funny **stuff**.

</div>

<div class="versionchanged">

0.6 Even more funny stuff.

</div>

<div class="deprecated">

0.6 Boring stuff.

</div>

<div class="versionremoved">

0.6 Goodbye boring stuff.

</div>

<div class="versionadded">

1.2

First paragraph of versionadded.

</div>

<div class="versionchanged">

1.2 First paragraph of versionchanged.

Second paragraph of versionchanged.

</div>

---

c-api.md

---

# Memory

## System

Access to the system allocator.

<div class="versionadded">

0.6

</div>

---

contents.md

---

# Index for ChangesBuilder tests

Contents:

<div id="mastertoc" class="toctree" data-maxdepth="2" data-caption="Table of Contents">

base c-api library/utils

</div>

---

utils.md

---

# `utils` --- Fake utilities module for tests

<div class="module" data-synopsis="Utility functions">

utils

</div>

-----

The `utils` module is a pretend python module for changes testing.

## Classes

<div class="Path">

Class for handling paths.

<div class="versionadded">

0.5

Innovative new way to handle paths.

<div class="deprecated">

0.6

So, that was a bad idea it turns out.

</div>

</div>

</div>

---

index.md

---

<div class="toctree">

sub

</div>

---

sub.md

---

<div class="toctree">

index

</div>

---

foo.md

---

# foo.rst

<span class="title-ref">OK</span> button

---

index.md

---

# default\_role

`8`

---

caption.md

---

# Caption

## References

See `name *test* rb` and `name **test** py`.

See \[Ruby \<name *test* rb\>\](\#ruby-\<name-*test*-rb\>) and \[Python \<name **test** py\>\](\#python-\<name-**test**-py\>).

## Code blocks

``` ruby
def ruby?
    false
end
```

## Literal Include

<div class="literalinclude" data-language="python" data-caption="caption **test** py" data-lines="10-11">

literal.inc

</div>

## Named Code blocks

``` ruby
def ruby?
    false
end
```

## Named Literal Include

<div id="name **test** py" class="literalinclude" data-language="python" data-caption="caption **test** pynamed" data-lines="10-11">

literal.inc

</div>

---

classes.md

---

# classes

## Code blocks

``` ruby foo bar
def ruby?
    false
end
```

## Literal Includes

<div id="literal_include" class="literalinclude bar baz">

literal.inc

</div>

---

dedent.md

---

# dedent option

    First line
    Second line
        Third line
    Fourth line

ReST has no fixed indent and only a change in indentation is significant not the amount\[1\]. Thus, the following code inside the code block is not indent even it looks so with respect to the previous block.

    First line
    Second line
        Third line
    Fourth line

Having an option "fixates" the indent to be 3 spaces, thus the code inside the code block is indented by 4 spaces.

```  dummy
First line
Second line
    Third line
Fourth line
```

The code has 6 spaces indent, minus 4 spaces dedent should yield a 2 space indented code in the output.

    First line
    Second line
        Third line
    Fourth line

Dedenting by zero, should not strip any spaces and be a no-op.

<div class="note">

<div class="title">

Note

</div>

This can be used as an alternative to `:class: dummy` above, to fixate the ReST indentation of the block.

</div>

    First line
    Second line
        Third line
    Fourth line

Dedent without argument should autostrip common whitespace at the beginning.

    First line
    Second line
        Third line
    Fourth line

1.  <https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html#indentation>

---

emphasize.md

---

# Literal Includes with Highlighted Lines

<div class="literalinclude" data-language="python" data-emphasize-lines="5-6, 13-15, 24-">

target.py

</div>

---

force.md

---

# force option

``` python
not a python script!
```

``` python
not a python script!
```

<div class="literalinclude" data-language="python" data-force="">

error.inc

</div>

---

highlight.md

---

# highlight

    "A code-block without no language"

`` `python2    "A code-block with language argument"  .. highlight:: python3  .. code-block::     "A code-block without no language after highlight directive"  .. code-block:: python2     "A code-block without language argument after highlight directive" ``\`

---

index.md

---

# test-directive-code

<div class="toctree" data-glob="">

  - 

</div>

## Code blocks

``` ruby
def ruby?
    false
end
```

## Literal Includes

<div class="literalinclude" data-language="python">

literal.inc

</div>

---

linenos.md

---

# Literal Includes with Line Numbers

<div class="literalinclude" data-language="python" data-linenos="">

literal.inc

</div>

<div class="literalinclude" data-language="python" data-lineno-start="200">

literal.inc

</div>

<div class="literalinclude" data-language="python" data-lines="5-9" data-lineno-match="">

literal.inc

</div>

<div class="literalinclude" data-lineno-match="">

empty.inc

</div>

---

linenothreshold.md

---

# Code Blocks and Literal Includes with Line Numbers via linenothreshold

    class Foo:
        pass
    
    class Bar:
        def baz():
        pass

    # comment
    value = True

<div class="literalinclude">

literal.inc

</div>

<div class="literalinclude">

literal-short.inc

</div>

---

namedblocks.md

---

# Named Blocks

## References to named blocks

See \[the ruby code \<some ruby code\>\](\#the-ruby-code-\<some-ruby-code\>) and also \[the python code \<some python code\>\](\#the-python-code-\<some-python-code\>).

## Named Code block

``` ruby
def ruby?
    false
end
```

## Named Literal Include

<div id="some python code" class="literalinclude" data-language="python">

literal.inc

</div>

---

py-decorators.md

---

# py-decorators

## Various decorators

<div id="literal_include_pydecorators_1" class="literalinclude" data-pyobject="TheClass">

py-decorators.inc

</div>

<div id="literal_include_pydecorators_2" class="literalinclude" data-pyobject="TheClass.the_method">

py-decorators.inc

</div>

<div id="literal_include_pydecorators_3" class="literalinclude" data-pyobject="the_function">

py-decorators.inc

</div>

---

python.md

---

# Literal Includes for python

## block start with blank or comment

<div class="literalinclude" data-pyobject="block_start_with_comment">

target.py

</div>

<div class="literalinclude" data-pyobject="block_start_with_blank">

target.py

</div>

---

baz.md

---

# Baz

\<\!-- Failed to include foo.rst --\>

Baz was here.

---

foo.md

---

The \#magical foo.

---

index.md

---

# test-directive-only

<div class="toctree">

only

</div>

---

only.md

---

# 1\. Sections in only directives

Testing sections in only directives.

<div class="only">

nonexisting\_tag

## Skipped Section

Should not be here.

</div>

<div class="only">

not nonexisting\_tag

## 1.1. Section

Should be here.

</div>

## 1.2. Section

<div class="only">

not nonexisting\_tag

### 1.2.1. Subsection

Should be here.

</div>

<div class="only">

nonexisting\_tag

### Skipped Subsection

Should not be here.

</div>

## 1.3. Section

### 1.3.1. Subsection

Should be here.

## 1.4. Section

<div class="only">

not nonexisting\_tag

### 1.4.1. Subsection

Should be here.

</div>

## 1.5. Section

<div class="only">

not nonexisting\_tag

### 1.5.1. Subsection

Should be here.

</div>

### 1.5.2. Subsection

Should be here.

## 1.6. Section

### 1.6.1. Subsection

Should be here.

<div class="only">

not nonexisting\_tag

### 1.6.2. Subsection

Should be here.

</div>

### 1.6.3. Subsection

Should be here.

## 1.7. Section

### 1.7.1. Subsection

Should be here.

<div class="only">

not nonexisting\_tag

#### 1.7.1.1. Subsubsection

Should be here.

</div>

## 1.8. Section

### 1.8.1. Subsection

Should be here.

#### 1.8.1.1. Subsubsection

Should be here.

<div class="only">

not nonexisting\_tag

#### 1.8.1.2. Subsubsection

Should be here.

</div>

## 1.9. Section

<div class="only">

nonexisting\_tag

### Skipped Subsection

</div>

### 1.9.1. Subsection

Should be here.

#### 1.9.1.1. Subsubsection

Should be here.

<div class="only">

not nonexisting\_tag

## 1.10. Section

Should be here.

</div>

## 1.11. Section

Text before subsection 11.1.

<div class="only">

not nonexisting\_tag

More text before subsection 11.1.

### 1.11.1. Subsection

Should be here.

</div>

Text after subsection 11.1.

<div class="only">

not nonexisting\_tag

## 1.12. Section

Should be here.

### 1.12.1. Subsection

Should be here.

## 1.13. Section

Should be here.

</div>

<div class="only">

not nonexisting\_tag

## 1.14. Section

Should be here.

<div class="only">

not nonexisting\_tag

### 1.14.1. Subsection

Should be here.

</div>

## 1.15. Section

Should be here.

</div>

<div class="only">

nonexisting\_tag

# Skipped document level heading

Should not be here.

</div>

<div class="only">

not nonexisting\_tag

# 2\. Included document level heading

Should be here.

</div>

# 3\. Document level heading

Should be here.

<div class="only">

nonexisting\_tag

# Skipped document level heading

Should not be here.

</div>

<div class="only">

not nonexisting\_tag

# 4\. Another included document level heading

Should be here.

</div>

---

index.md

---

# test-directives-raw

## HTML

### standard

standalone raw directive (HTML)

### with substitution

HTML: abc ghi

## LaTeX

### standard

### with substitution

LaTeX: abc ghi

---

index.md

---

# test-docutilsconf

Sphinx\[1\]

1.  Python Documentation Generator

---

function_param_target.md

---

- :c`f.i`

---

index.md

---

# test-domain-c

## directives

:c`MyEnumerator`

  - :c`A.@data.a`
  - :c`A.a`
  - :c`unsigned int`
  - :c`unsigned int`

<!-- end list -->

  - :c`a->b`
  - :c`a->b`

---

ns_lookup.md

---

- :c`i`
  - :c`i`

---

index.md

---

# domain-c-c\_maximum\_signature\_line\_length

---

any-role.md

---

# any role

  - :cpp`Sphinx`
  - :cpp`Sphinx::version`
  - :cpp`version`
  - :cpp`List`
  - :cpp`MyEnum`
  - ref function without parens :cpp`paren_1`
  - ref function with parens :cpp`paren_2()`
  - ref function without parens, explicit title :cpp`paren_3_title <paren_3>`
  - ref function with parens, explicit title :cpp`paren_4_title <paren_4()>`
  - ref op call without parens :cpp`paren_5::operator()`
  - ref op call with parens :cpp`paren_6::operator()()`
  - ref op call without parens, explicit title :cpp`paren_7_title <paren_7::operator()>`
  - ref op call with parens, explicit title :cpp`paren_8_title <paren_8::operator()()>`

---

index.md

---

# test-domain-cpp

## directives

---

lookup-key-overload.md

---

<div class="default-domain">

cpp

</div>

<div class="namespace">

lookup\_key\_overload

</div>

<div class="function">

void g(int a)

</div>

<div class="function">

void g(double b)

`b`

</div>

---

multi-decl-lookup.md

---

<div class="default-domain">

cpp

</div>

<div class="namespace">

multi\_decl\_lookup

</div>

<div class="function">

void f1(int a) void f1(double b)

  - a: `a`
  - b: `b`

</div>

<div class="function">

template\<typename T\> void f2(int a) template\<typename U\> void f2(double b)

  - T: `T`
  - U: `U`

</div>

<div class="template&lt;typename T&gt; A template&lt;typename U&gt; B">

<div class="function">

void f3()

  - T: `T`
  - U: `U`

</div>

</div>

---

operator-lookup.md

---

When doing name resolution there are 4 different idenOrOps:

  - identifier
  - built-in operator
  - user-defined literal
  - type conversion

---

roles-targets-ok.md

---

<div class="default-domain">

cpp

</div>

<div class="namespace">

RolesTargetsOk

</div>

<div class="Class">

:cpp`Class` <span class="title-ref">Class</span> `Class` union func member var `Class` concept enum enumerator

</div>

<div class="union">

Union

:cpp`Union` class struct `Union` func member var `Union` concept enum enumerator

</div>

<div class="function">

void Function()

:cpp`Function` class struct union <span class="title-ref">Function</span> member var `Function` concept enum enumerator

</div>

<div class="var">

int Variable

:cpp`Variable` class struct union function `Variable` `Variables` type concept enum enumerator

</div>

<div class="type">

Type = void

:cpp`Type` class struct union function member var `Type` concept enum enumerator

</div>

<div class="concept">

template\<typename T\> Concept

:cpp`Concept` class struct union function member var type `Concept` enum enumerator

</div>

<div class="enum-struct">

Enum

:cpp`Enum` class struct union function member var `Enum` concept `Enum` enumerator

<div class="enumerator">

Enumerator

</div>

:cpp`Enumerator` class struct union function member var type concept enum `Enumerator`

</div>

<div class="template&lt;typename TParamType, \ int TParamVar, \ template&lt;typename&gt; typename TParamTemplate \ &gt; ClassTemplate">

:cpp`TParamType` <span class="title-ref">TParamType</span> `TParamType` `TParamType` function `TParamType` `TParamType` `TParamType` concept enum enumerator

:cpp`TParamVar` <span class="title-ref">TParamVar</span> `TParamVar` `TParamVar` function `TParamVar` `TParamVar` `TParamVar` concept enum enumerator

:cpp`TParamTemplate` <span class="title-ref">TParamTemplate</span> `TParamTemplate` `TParamTemplate` function `TParamTemplate` `TParamTemplate` `TParamTemplate` concept enum enumerator

</div>

<div class="function">

void FunctionParams(int FunctionParam)

:cpp`FunctionParam` class struct union function `FunctionParam` `FunctionParam` type concept enum enumerator

</div>

---

roles-targets-warn.md

---

<div class="default-domain">

cpp

</div>

<div class="namespace">

RolesTargetsWarn

</div>

<div class="Class">

class struct `Class` <span class="title-ref">Class</span> `Class` `Class` type `Class` `Class` `Class`

</div>

<div class="union">

Union

<span class="title-ref">Union</span> `Union` union <span class="title-ref">Union</span> `Union` `Union` type `Union` `Union` `Union`

</div>

<div class="function">

void Function()

<span class="title-ref">Function</span> `Function` `Function` func `Function` `Function` type `Function` `Function` `Function`

</div>

<div class="var">

int Variable

<span class="title-ref">Variable</span> `Variable` `Variable` <span class="title-ref">Variable</span> member var `Variable` `Variable` `Variable` `Variable`

</div>

<div class="type">

Type = void

<span class="title-ref">Type</span> `Type` `Type` <span class="title-ref">Type</span> `Type` `Type` type `Type` `Type` `Type`

</div>

<div class="concept">

template\<typename T\> Concept

<span class="title-ref">Concept</span> `Concept` `Concept` <span class="title-ref">Concept</span> `Concept` `Concept` `Concept` concept `Concept` `Concept`

</div>

<div class="enum-struct">

Enum

<span class="title-ref">Enum</span> `Enum` `Enum` <span class="title-ref">Enum</span> `Enum` `Enum` type `Enum` enum `Enum`

<div class="enumerator">

Enumerator

</div>

<span class="title-ref">Enumerator</span> `Enumerator` `Enumerator` <span class="title-ref">Enumerator</span> `Enumerator` `Enumerator` `Enumerator` `Enumerator` `Enumerator` enumerator

</div>

<div class="template&lt;typename TParamType, \ int TParamVar, \ template&lt;typename&gt; typename TParamTemplate \ &gt; ClassTemplate">

class struct union <span class="title-ref">TParamType</span> member var type `TParamType` `TParamType` `TParamType`

class struct union <span class="title-ref">TParamVar</span> member var type `TParamVar` `TParamVar` `TParamVar`

class struct union <span class="title-ref">TParamTemplate</span> member var type `TParamTemplate` `TParamTemplate` `TParamTemplate`

</div>

<div class="function">

void FunctionParams(int FunctionParam)

<span class="title-ref">FunctionParam</span> `FunctionParam` `FunctionParam` <span class="title-ref">FunctionParam</span> member var `FunctionParam` `FunctionParam` `FunctionParam` `FunctionParam`

</div>

---

roles.md

---

# roles

  - :cpp\`Sphinx\`
  - :cpp`Sphinx::version`
  - :cpp`version`
  - :cpp`List`
  - :cpp`MyEnum`
  - ref function without parens :cpp\`paren\_1\`
  - ref function with parens :cpp\`paren\_2()\`
  - ref function without parens, explicit title :cpp\`paren\_3\_title \<paren\_3\>\`
  - ref function with parens, explicit title :cpp\`paren\_4\_title \<paren\_4()\>\`
  - ref op call without parens :cpp\`paren\_5::operator()\`
  - ref op call with parens :cpp\`paren\_6::operator()()\`
  - ref op call without parens, explicit title :cpp\`paren\_7\_title \<paren\_7::operator()\>\`
  - ref op call with parens, explicit title :cpp\`paren\_8\_title \<paren\_8::operator()()\>\`

---

roles2.md

---

Check that we don't crash just because we misuse a role.

:cpp\`A\`

---

warn-template-param-qualified-name.md

---

<div class="default-domain">

cpp

</div>

<div class="template&lt;typename T&gt; A">

<div class="type">

N1 = T::typeOk

</div>

  - Not ok, warn: `T::typeWarn`

<div class="type">

N2 = T::U::typeOk

</div>

  - Not ok, warn: `T::U::typeWarn`

</div>

---

xref_consistency.md

---

# xref consistency

code-role: `item` any-role: `item` cpp-any-role: :cpp`item` cpp-expr-role: :cpp`item` cpp-texpr-role: :cpp`item`

---

index.md

---

# domain-cpp-cpp\_maximum\_signature\_line\_length

---

index.md

---

# test-domain-js

<div class="toctree">

roles module

</div>

---

module.md

---

# module

  - Link to :js\`ModTopLevel\`

<!-- end list -->

  - Link to :js\`ModTopLevel\`

---

roles.md

---

# roles

  - :js\`TopLevel\`
  - :js\`top\_level\`

<!-- end list -->

  - :js\`NestedParentA.NestedChildA\`

---

index.md

---

# domain-js-maximum\_signature\_line\_length

---

abbr.md

---

# abbrev

<div class="currentmodule">

module\_a.submodule

</div>

  - normal: :py\`module\_a.submodule.ModTopLevel.mod\_child\_1\`
  - relative: :py\`.ModTopLevel.mod\_child\_1\`
  - short name: :py\`\~module\_a.submodule.ModTopLevel.mod\_child\_1\`
  - relative + short name: :py\`\~.ModTopLevel.mod\_child\_1\`
  - short name + relative: :py\`\~.ModTopLevel.mod\_child\_1\`

---

canonical.md

---

# caninical

:py\`.Foo\` `Foo` `module.Foo` `original.module.Foo`

---

index.md

---

# test-domain-py

<div class="toctree">

roles module module\_option abbr canonical type\_alias

</div>

---

module.md

---

# module

  - Link to :py\`ModTopLevel\`

<!-- end list -->

  - Link to :py\`ModTopLevel\`

---

module_option.md

---

# module\_option

---

roles.md

---

# roles

  - :py\`TopLevel\`
  - :py\`top\_level\`
  - :py`TopLevelType`

<!-- end list -->

  - :py\`NestedParentA.NestedChildA\`
  - :py`NestedParentA.NestedTypeA`

---

type_alias.md

---

# Type Alias

:py`.MyAlias` `MyAlias` `module_one.MyAlias`

---

index.md

---

# domain-py-maximum\_signature\_line\_length

---

index.md

---

# domain-py-smart\_reference

---

index.md

---

# test-domain-py-xref-warning

<div id="existing-label">

\[no-label\](\#no-label) \[existing-label\](\#existing-label)

</div>

---

index.md

---

# Test double inheriting theme

---

api.md

---

# API

<div class="automodule">

example\_module

</div>

---

index.md

---

<div class="toctree">

api

</div>

---

index.md

---

# test-epub-anchor-id

<div class="setting">

STATICFILES\_FINDERS

</div>

blah blah blah

<div class="setting">

STATICFILES\_SECTION

</div>

# blah blah blah

see `STATICFILES_FINDERS`

---

index.md

---

<div class="automodule" data-members="">

autodoc\_dummy\_module

</div>

<div class="automodule" data-members="">

bug2437.autodoc\_dummy\_foo

</div>

<div class="automodule" data-members="">

autodoc\_dummy\_bar

</div>

<div class="autofunction">

target.typehints.incr

</div>

<div class="autofunction">

target.overload.sum

</div>

<div class="autofunction">

target.typehints.tuple\_args

</div>

---

index.md

---

# test-ext-autosectionlabel

## Introduce of Sphinx

## Installation

### For Windows users

### For UNIX users

#### Linux

#### FreeBSD

### This one's got an apostrophe

## References

  - \[test-ext-autosectionlabel\](\#test-ext-autosectionlabel)
  - \[Introduce of Sphinx\](\#introduce-of-sphinx)
  - \[Installation\](\#installation)
  - \[For Windows users\](\#for-windows-users)
  - \[For UNIX users\](\#for-unix-users)
  - \[Linux\](\#linux)
  - \[FreeBSD\](\#freebsd)
  - \[This one's got an apostrophe\](\#this-one's-got-an-apostrophe)

---

index.md

---

# test-ext-autosectionlabel-prefix-document

## Introduce of Sphinx

## Installation

### For Windows users

### For UNIX users

#### Linux

#### FreeBSD

### This one's got an apostrophe

## References

  - \[index:Introduce of Sphinx\](\#index:introduce-of-sphinx)
  - \[index:Installation\](\#index:installation)
  - \[index:For Windows users\](\#index:for-windows-users)
  - \[index:For UNIX users\](\#index:for-unix-users)
  - \[index:Linux\](\#index:linux)
  - \[index:FreeBSD\](\#index:freebsd)
  - \[index:This one's got an apostrophe\](\#index:this-one's-got-an-apostrophe)

---

index.md

---

`autosummary_dummy_module.Foo`

`autosummary_importfail`

<div class="autosummary" data-toctree="generated" data-caption="An autosummary">

autosummary\_dummy\_module autosummary\_dummy\_module.Foo autosummary\_dummy\_module.Foo.Bar autosummary\_dummy\_module.Foo.value autosummary\_dummy\_module.bar autosummary\_dummy\_module.qux autosummary\_dummy\_inherited\_module.InheritedAttrClass autosummary\_dummy\_inherited\_module.InheritedAttrClass.subclassattr autosummary\_importfail

</div>

---

index.md

---

<div class="autosummary" data-toctree="generated" data-caption="An autosummary">

autosummary\_dummy\_module autosummary\_dummy\_module.Foo autosummary\_dummy\_module.Foo.bar autosummary\_dummy\_module.bar

</div>

---

index.md

---

<div class="automodule" data-members="">

spam.eggs

<div class="autosummary">

spam.eggs.Ham

</div>

</div>

---

index.md

---

# test-ext-autosummary-imported\_members

<div class="autosummary" data-toctree="generated">

autosummary\_dummy\_package

</div>

---

index.md

---

# test-ext-autosummary-mock\_imports

<div class="autosummary" data-toctree="generated">

foo

</div>

---

index.md

---

# test-ext-autosummary-module\_all

<div class="autosummary" data-toctree="generated" data-recursive="">

autosummary\_dummy\_package\_all

</div>

---

index.md

---

<div class="autosummary" data-toctree="docs/pkg" data-recursive="">

pkg

</div>

---

index.md

---

# API Reference

**Packages**

<div class="autosummary" data-toctree="generated" data-recursive="">

package

</div>

<div class="autosummary" data-toctree="generated">

package2

</div>

---

index.md

---

<div class="autosummary" data-toctree="generate">

target.Foo

</div>

---

index.md

---

<div class="autosummary" data-toctree="generate" data-template="empty.rst">

target.Foo

</div>

---

index.md

---

<div class="automodule" data-members="">

grog.coverage\_ignored

</div>

<div class="automodule" data-members="">

grog.coverage\_not\_ignored

</div>

---

inner.md

---

\>\>\> 'dir/inner.rst:1'

<div class="automodule" data-members="">

dir.bar

</div>

---

index.md

---

<div class="automodule" data-members="">

foo

</div>

\>\>\> 'index.rst:4'

---

index.md

---

# test-ext-extlinks-hardcoded-urls

`1`

<https://github.com/sphinx-doc/sphinx/issues/1>

[inline replaceable link](https://github.com/sphinx-doc/sphinx/issues/1)

[replaceable link](https://github.com/sphinx-doc/sphinx/issues/1)

<https://github.com/sphinx-doc/sphinx/pulls/1>

[inline non-replaceable link](https://github.com/sphinx-doc/sphinx/pulls/1)

[non-replaceable link](https://github.com/sphinx-doc/sphinx/pulls/1)

---

index.md

---

# test-ext-extlinks-hardcoded-urls

`octocat`

`sphinx-doc/sphinx`

<https://github.com/octocat>

[inline replaceable link](https://github.com/octocat)

[replaceable link](https://github.com/octocat)

[non replaceable link](https://github.com/sphinx-doc/sphinx/pulls)

---

index.md

---

# githubpages

---

index.md

---

# graphviz

<div class="digraph" data-caption="caption of graph">

foo

bar -\> baz

</div>

Hello graphviz world

<div class="digraph neato_graph" data-graphviz_dot="neato">

foo

baz -\> qux

</div>

<div class="graphviz">

graph.dot

</div>

<div class="digraph" data-align="right" data-caption="on *right*">

bar

foo -\> bar

</div>

<div class="digraph" data-align="center">

foo

centered

</div>

<div class="graphviz" data-align="center">

  - digraph test {  
    foo \[label="foo", URL="\#graphviz", target="\_parent"\] bar \[label="bar", image="./\_static/images/test.svg"\] baz \[label="baz", URL="./\_static/images/test.svg"\] foo -\> bar -\> baz

}

</div>

---

index.md

---

# ifconfig

<div class="ifconfig">

confval1

spam

</div>

<div class="ifconfig">

confval2

egg

</div>

# Issue 10496 regression test

<div class="ifconfig">

false\_config

[Link 1](https://link1.example)

</div>

<div class="ifconfig">

false\_config

[Link 2](https://link2.example)

</div>

---

index.md

---

# test-ext-imgconverter

![image](svgimg.svg)

![image](img.pdf)

---

index.md

---

# test-ext-imgconverter

![image](./1/svgimg.svg)

![image](./2/svgimg.svg)

---

index.md

---

# test-ext-inheritance\_diagram

<div class="inheritance-diagram">

test.Foo

</div>

<div class="inheritance-diagram" data-caption="Test Foo!">

test.Foo

</div>

<div class="inheritance-diagram">

test.DocSubDir2

</div>

<div class="inheritance-diagram">

external.other.Bob

</div>

---

page1.md

---

# test-ext-inheritance\_diagram subdirectory page 1

<div class="inheritance-diagram">

test.DocMainLevel

</div>

<div class="inheritance-diagram">

test.DocSubDir2

</div>

---

page2.md

---

# test-ext-inheritance\_diagram subdirectory page 2

---

index.md

---

# test-ext-intersphinx-cppdomain

:cpp\`Bar\`

---

index.md

---

- `module1` is only defined in `inv`: :external:py`module1`

<!-- end list -->

  - `module2` is defined here and also in `inv`, but should resolve to inv: :external:py`module2`
  - `module3` is not defined anywhere, so should warn: :external:py`module3`

<!-- end list -->

  - `module10` is only defined here, but should still not be resolved to: :external:py`module10`
  - a function in inv: :external:py\`module1.func\`
  - a method, but with old style inventory prefix, which shouldn't work: :external:py\`inv:Foo.bar\`
  - a non-existing role: :external:py`something`

<div class="default-domain">

cpp

</div>

  - a type where the default domain is used to find the role: :external`std::uint8_t`
  - a non-existing role in default domain: :external`somethingElse`
  - two roles in `std` which can be found without a default domain:
      - :external\[docname\](docname.md)
      - :external`ls -l`
  - a function with explicit inventory: :external+inv:c\`CFunc\`
  - a class with explicit non-existing inventory, which also has upper-case in name: :external+invNope:cpp\`foo::Bar\`
  - An object type being mistakenly used instead of a role name:
      - :external+inv:c`CFunc`
      - :external+inv`CFunc`
  - explicit title: :external:cpp`FoonsTitle <foons>`

---

index.md

---

# Test Math

<div class="toctree" data-numbered="1">

math page nomath

</div>

\[a^2+b^2=c^2\]

Inline \(E=mc^2\)

Second math

\[e^{i\pi}+1=0\]

Multi math equations

\[S &= \pi r^2\]\[V &= \frac{4}{3} \pi r^3\]

---

math.md

---

# Test math extensions \(E = m c^2\)

This is inline math: \(a^2 + b^2 = c^2\).

\[a^2 + b^2 = c^2\]

\[a + 1 < b\]

\[e^{i\pi} = 1\]

\[e^{ix} = \cos x + i\sin x\]

\[n \in \mathbb N\]

\[a + 1 < b\]

Referencing equation `foo` and :math`foo`.

---

page.md

---

# Test multiple pages

\[a = b + 1\]

Referencing equations `foo` and `bar`.

---

index.md

---

# Test Math

## inline

Inline: \(E=mc^2\) Inline my math: :my\_math:<span class="title-ref">:-)</span>

## block

\[a^2+b^2=c^2\]

Second math

\[e^{i\pi}+1=0\]

Multi math equations

<div class="my-math">

</div>

---

included.md

---

# Title

Some file including some maths.

# \(1 + 1 = 2\)

Lorem ipsum.

---

index.md

---

# Test Math

<div class="toctree" data-numbered="1">

included

</div>

---

math.md

---

# \(1 + 1 = 2\)

Lorem ipsum.

---

index.md

---

# Test Math

\[a^2+b^2=c^2\]

---

index.md

---

# test-ext-napoleon

<div class="toctree">

typehints

</div>

---

typehints.md

---

# typehints

<div class="automodule" data-members="">

mypackage.typehints

</div>

---

index.md

---

# test-ext-napoleon

<div class="automodule" data-members="">

pkg.bar

</div>

<div class="automodule" data-members="">

pkg.foo

</div>

---

bar.md

---

# bar

<div class="todo">

todo in bar

</div>

---

foo.md

---

# foo

<div class="todo">

todo in foo

</div>

---

index.md

---

# test for sphinx.ext.todo

<div class="toctree">

foo bar

</div>

<div class="todolist">

</div>

<div class="todolist">

</div>

---

index.md

---

# viewcode

<div class="autofunction">

func1

</div>

<div class="autofunction">

func2

</div>

<div class="autofunction">

spam.mod1.func1

</div>

<div class="autofunction">

spam.mod2.func2

</div>

<div class="autofunction">

Class1

</div>

<div class="autofunction">

Class2

</div>

<div class="autofunction">

spam.mod1.Class1

</div>

<div class="autofunction">

spam.mod2.Class2

</div>

<div class="literalinclude" data-language="python" data-pyobject="func1">

spam/\_\_init\_\_.py

</div>

<div class="literalinclude" data-language="python" data-pyobject="func1">

spam/mod1.py

</div>

<div class="autoclass" data-members="">

spam.mod3.Class3

</div>

<div class="automodule" data-members="">

spam.mod3

</div>

<div class="toctree">

objects

</div>

---

objects.md

---

# Testing object descriptions

<div class="function">

func\_without\_module(a, b, \*c\[, d\])

Does something.

</div>

<div class="function">

func\_without\_body()

</div>

<div class="function" data-no-index="">

func\_noindex

</div>

<div class="function" data-module="foolib">

func\_with\_module

</div>

Referring to <span class="title-ref">func with no index \<func\_noindex\></span>. Referring to <span class="title-ref">nothing \<\></span>.

<div class="module" data-synopsis="Module synopsis." data-platform="UNIX">

mod

</div>

<div class="function">

func\_in\_module

</div>

<div class="Cls">

<div class="method">

meth1

</div>

<div class="staticmethod">

meths

</div>

<div class="attribute">

attr

</div>

</div>

<div class="method">

Cls.meth2

</div>

<div class="exception" data-module="errmod">

Error(arg1, arg2)

</div>

<div class="data">

var

</div>

<div class="currentmodule">

None

</div>

<div class="function">

func\_without\_module2() -\> annotation

</div>

<div class="object">

long(parameter, list) another one

</div>

<div class="TimeInt">

Has only one parameter (triggers special behavior...)

  - param moo  
    Moo

  - type moo  
    Moo

</div>

<div class="Time(hour, minute, isdst)">

  - param year  
    The year.

  - type year  
    TimeInt

  - param TimeInt minute  
    The minute.

  - param isdst  
    whether it's DST

  - type isdst
    
      - some complex
      - expression

  - returns  
    a new <span class="title-ref">Time</span> instance

  - rtype  
    <span class="title-ref">Time</span>

  - raises ValueError  
    if the values are out of range

  - ivar int hour  
    like *hour*

  - ivar minute  
    like *minute*

  - vartype minute  
    int

  - param hour  
    Some parameter

  - type hour  
    DuplicateType

  - param hour  
    Duplicate param. Should not lead to crashes.

  - type hour  
    DuplicateType

  - param .Cls extcls  
    A class from another module.

</div>

# C items

# Javascript items

# References

Referencing <span class="title-ref">mod.Cls</span> or `mod.Cls` should be the same.

With target: :c\`Sphinx\_DoSomething()<span class="title-ref"> (parentheses are handled), :c:member:\`SphinxStruct.member</span>, :c`SPHINX_USE_PYTHON`, :c`SphinxType *` (pointer is handled), :c\`sphinx\_global\`.

Without target: :c\`CFunction\`. :c\`\!malloc\`.

:js\`foo()<span class="title-ref"> :js\`foo</span>

:js\`bar\` :js\`bar.baz()<span class="title-ref"> :js\`bar.baz</span> :js\`\~bar.baz()\`

:js\`bar.baz\`

# Others

<div class="envvar">

HOME

</div>

<div class="program">

python

</div>

<div class="cmdoption">

\-c command

</div>

<div class="program">

perl

</div>

<div class="cmdoption">

\-c

</div>

<div class="option">

\+p

</div>

Link to `perl +p`.

# User markup

<div class="userdesc">

myobj:parameter

Description of userdesc.

</div>

Referencing `myobj`.

# CPP domain

---

index.md

---

# viewcode

<div class="literalinclude" data-language="python" data-pyobject="func1">

not\_a\_package/\_\_init\_\_.py

</div>

<div class="literalinclude" data-language="python" data-pyobject="func1">

not\_a\_package/submodule.py

</div>

---

bar.md

---

# bar

Same footnote number\[1\] in bar.rst

1.  footnote in bar

---

baz.md

---

# baz

Auto footnote number\[1\] in baz.rst

1.  footnote in baz

---

index.md

---

# test-footenotes

<div class="toctree">

bar baz

</div>

<div class="contents" data-local="">

</div>

## The section with a reference to [\[AuthorYear\]](#AuthorYear)

![This is the figure caption with a reference to [\[AuthorYear\]](#AuthorYear).](rimg.png)

| Header1 | Header2 |
| ------- | ------- |
| Content | Content |

The table title with a reference to [\[AuthorYear\]](#AuthorYear)

**The rubric title with a reference to [\[AuthorYear\]](#AuthorYear)**

  - First footnote:\[1\]
  - Second footnote:\[2\]
  - [Sphinx](https://sphinx-doc.org/)
  - Third footnote:\[3\]
  - Fourth footnote:\[4\]
  - [URL including tilde](https://sphinx-doc.org/~test/)
  - GitHub Page: <https://github.com/sphinx-doc/sphinx>
  - Mailing list: <sphinx-dev@googlegroups.com>

## The section with a reference to\[5\]

  - [URL in term](https://sphinx-doc.org/)  
    Description Description Description ...

  - Footnote in term\[6\]  
    Description Description Description ...
    
      - [Term in deflist](https://sphinx-doc.org/)  
        Description2

![This is the figure caption with a footnote to\[7\].](rimg.png)

| name | desc |
| ---- | ---- |
| a    | b    |
| a    | b    |

footnote\[8\] in caption of normal table

| name                                                                                                      | desc                                                  |
| --------------------------------------------------------------------------------------------------------- | ----------------------------------------------------- |
| This is a reference to the code-block in the footnote: \[codeblockinfootnote\](\#codeblockinfootnote)     | This is one more footnote with some code in it\[11\]. |
| This is a reference to the other code block: \[codeblockinanotherfootnote\](\#codeblockinanotherfootnote) | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |
| a                                                                                                         | b                                                     |

footnote\[9\] in caption\[10\] of longtable

## The section with an object description

## Footnotes referred twice

  - Explicitly numbered footnote:\[12\]\[13\]
  - Named footnote:\[14\]\[15\]

<div id="citations">

  - <span id="AuthorYear" class="citation-label">AuthorYear</span>  
    Author, Title, Year

</div>

1.  First

2.  Second

3.  Third

4.  Fourth

5.  Footnote in section

6.  Footnote in term

7.  Footnote in caption

8.  Foot note in table

9.  Second footnote in caption of longtable
    
    ``` python
    def foo(x,y):
        return x+y
    ```

10. Third footnote in longtable
    
    ``` python
    def bar(x,y):
        return x+y
    ```

11. Foot note in longtable

12. Numbered footnote

13. Numbered footnote

14. Named footnote

15. Named footnote

---

index.md

---

# CONTENTS

<div class="toctree" data-maxdepth="2" data-numbered="" data-caption="Table of Contents">

</div>

---

index.md

---

# test-glossary

<div class="glossary" data-sorted="">

  - boson  
    Particle with integer spin.

  - *fermion*  
    Particle with half-integer spin.

tauon myon electron Examples for fermions.

  - über  
    Gewisse

  - ähnlich  
    Dinge

</div>

---

index.md

---

# test-highlight\_options

    blah blah blah

`` `python    blah blah blah  .. code-block:: java     blah blah blah ``\`

---

index.md

---

# test-html\_extra\_path

this is dummy content

---

index.md

---

# test-html\_entity (\#3450)

## Empty cell

|    |  |       |
| -- |  | ----- |
| un |  | trois |

## Return description in function signature

## Field list that has long name (over 14 characters)

  - abcdefghijklmnopqrstuvwxyz  
    fieldlist

## Option list that has long name (over 14 characters)

\-a all -b long\_long\_file use file

---

index.md

---

# test-html\_scaled\_image\_link

![image](img.png)

![image](img.png)

![image](img.png)

---

index.md

---

# test-html\_signaturereturn\_icon

---

index.md

---

# html\_style

---

index.md

---

# Sphinx image handling

![image](img_#1.png)

---

index.md

---

# test-image-in-parsed-literal

Dummy text

<div class="parsed-literal">

AFTER

</div>

---

index.md

---

# test-image-in-section

this is dummy content

## Test section

blah blah blah

## Another section

another blah

## Other \[blah\] section

other blah

## 

blah blah blah

---

index.md

---

# test-image

![image](rimg.png)

![The caption of pic](rimg.png)

![image](img.*)

![The caption of img](img.*)

![image](testimäge.png)

[![image](rimg.png)](https://www.sphinx-doc.org/)

[![image](rimg.png)](https://www.python.org/)

![image](http://localhost:7777/sphinx.png)

![image](http://localhost:7777/NOT_EXIST.PNG)

![The Eye of Horus in a black font on a white background.](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAjAQAAAADKt6U+AAAAAmJLR0QAAd2KE6QAAAAHdElNRQfoBQIVBgOBlOMTAAAAEGNhTnYAAAAtAAAAOwAAAAEAAAATst46RgAAAJtJREFUCNdNz70KwkAMAOA8iOhjuGh9HB9BCtoTHHwMH0Mc7KWTmx0dHDpovUk6HCil3sUmATHLR/4IAeJA+LEWPmbEeHJMWbTMZDA0CNFn8x1COFPaIHQ55R7hlZGdIjwj2aovRjJbhPvMLNN+r0g2vB7ByIWbHqqVh3LR3lhZWM0qYV8qjU6+lc4J7ZVx4SjEINBKOSinv/+YL1xvsJE6ztdqAAAADHRFWHRjYXB0aW9uAPCTgoD4hdKUAAAAD3RFWHRjYXB0aW9uOmxpbmVzADGoBz2RAAAAAElFTkSuQmCC)

---

index.md

---

# test-images/subdir

![image](rimg.png)

![image](svgimg.*)

![The caption of svgimg](svgimg.*)

---

contents.md

---

# index\_on\_title

## Test for `index` in top level title

---

basic_diagram.md

---

# Basic Diagram

<div class="inheritance-diagram">

dummy.test

</div>

---

diagram_module_w_2_top_classes.md

---

# Diagram using module with 2 top classes

<div class="inheritance-diagram" data-top-classes="dummy.test.B, dummy.test.C">

dummy.test

</div>

---

diagram_w_1_top_class.md

---

# Diagram using 1 top class

<div class="inheritance-diagram" data-top-classes="dummy.test.B">

dummy.test

</div>

---

diagram_w_2_top_classes.md

---

# Diagram using 2 top classes

<div class="inheritance-diagram" data-top-classes="dummy.test.B, dummy.test.C">

dummy.test.F dummy.test.D dummy.test.E

</div>

---

diagram_w_nested_classes.md

---

# Diagram with Nested Classes

<div class="inheritance-diagram">

dummy.test\_nested

</div>

---

diagram_w_parts.md

---

# Diagram using the parts option

<div class="inheritance-diagram" data-parts="1">

dummy.test

</div>

---

index.md

---

<div class="toctree" data-glob="">

  - 

</div>

---

index.md

---

# CONTENTS

<div class="toctree" data-maxdepth="2" data-numbered="" data-caption="Table of Contents">

prolog\_epilog\_substitution prolog\_epilog\_substitution\_excluded

</div>

---

prolog_epilog_substitution.md

---

- tocdepth  
    2

# i18n with prologue and epilogue substitutions

This is content that contains .

Substituted image here.

This is content that contains .

Substituted image here.

---

prolog_epilog_substitution_excluded.md

---

- tocdepth  
    2

# i18n without prologue and epilogue substitutions

This is content that does not include prologue and epilogue substitutions.

---

index.md

---

keep\_warnings =====

---

bar.md

---

# Bar

---

foo.md

---

# Foo

---

index.md

---

# test-tocdepth

<div class="toctree" data-caption="Table of content">

foo bar

</div>

---

index.md

---

<div class="container classname">

text

</div>

---

index.md

---

# test-contents-et-al

<div class="contents">

</div>

## test-topic

<div class="topic">

**Title of topic**

text of topic

</div>

## test-sidebar

<div class="sidebar" data-subtitle="sub-title">

**Title of sidebar: sub-title**

text of sidebar

</div>

---

equations.md

---

# test-latex-equation

Equation without a label.

\[E = mc^2\]

Equation with label.

\[E = hv\]

Second equation without label.

\[c^2 = a^2 + b^2\]

Equation with label `test` is important.

---

index.md

---

# Test Figure in Admonition

\> **Caution** \> This uses a figure in a caution directive.

> ![](img.png)

\> **Note** \> This uses a figure in a note directive.

> ![](img.png)

<div class="seealso">

This uses a figure in a seealso directive.

![](img.png)

</div>

<div class="todo">

This uses a figure in a todo directive.

![](img.png)

</div>

---

index.md

---

# Test image inclusion

## Tests with both width and height

![image](img.png)

<div class="topic">

**Oversized images**

![image](img.png)

![image](img.png)

</div>

## Tests with only width or height

<div class="topic">

**Oversized images**

![image](tall.png)

</div>

![image](sphinx.png)

---

index.md

---

# test-latex-index

A `famous` `equation`:

\[E = m c^2\]

<div class="index">

Einstein, relativity

</div>

and some text.

<div class="index">

main {

</div>

An index entry containing non paired curly brace

---

index.md

---

# latex-labels

## figures

<div id="figure1">

<div id="figure2">

![labeled figure](logo.jpg)

</div>

</div>

![labeled figure](logo.jpg)

with a legend

## code-blocks

<div id="codeblock1">

<div id="codeblock2">

`` `none    blah blah blah  .. code-block:: none    :name: codeblock3     blah blah blah  tables ``\` ------

</div>

</div>

<div id="table1">

<div id="table2">

|      |      |
| ---- | ---- |
| head | head |
| cell | cell |

table caption

</div>

</div>

|      |      |
| ---- | ---- |
| head | head |
| cell | cell |

table caption

## subsection<span id="section1"></span>

### subsubsection

<div class="toctree">

otherdoc

</div>

  - Embedded standalone hyperlink reference(refs: \#5948): [subsection](#section1).

---

otherdoc.md

---

# otherdoc

---

index.md

---

# latex-labels-before-module

<div id="label_1a">

<div id="label_1b">

<div class="module">

module1

text

</div>

</div>

</div>

<div id="label_2">

<div class="module">

module2a

text

</div>

</div>

<div class="module">

module2b

text

</div>

<div id="label_3">

<div class="module">

module3

text

</div>

</div>

<div id="label_auto_1a">

<div id="label_auto_1b">

<div class="automodule">

automodule1

text

</div>

</div>

</div>

<div id="label_auto_2">

<div class="automodule">

automodule2a

text

</div>

</div>

<div class="automodule">

automodule2b

text

</div>

<div id="label_auto_3">

<div class="automodule">

automodule3

text

</div>

</div>

---

index.md

---

# test-latex-numfig

<div class="toctree" data-numbered="">

indexmanual indexhowto

</div>

---

indexhowto.md

---

# test-latex-numfig-howto

## This is a part

### This is a section

---

indexmanual.md

---

# test-latex-numfig-manual

## First part

### This is chapter

#### This is section

---

complex.md

---

# complex tables

## grid table

<div class="rst-class">

nocolorrows

</div>

\+---------+---------+---------+ | header1 | header2 | header3 | +=========+=========+=========+ | cell1-1 | cell1-2 | cell1-3 | +---------+ +---------+ | cell2-1 | | cell2-3 | + +---------+---------+ | | cell3-2-par1 | +---------+ | | cell4-1 | cell3-2-par2 | +---------+---------+---------+ | cell5-1 | +---------+---------+---------+

## grid table with tabularcolumns having no vline

<div class="tabularcolumns">

TTT

</div>

\+---------+---------+---------+ | header1 | header2 | header3 | +=========+=========+=========+ | cell1-1 | cell1-2 | cell1-3 | +---------+ +---------+ | cell2-1 | | cell2-3 | + +---------+---------+ | | cell3-2-par1 | +---------+ | | cell4-1 | cell3-2-par2 | +---------+---------+---------+ | cell5-1 | +---------+---------+---------+

## complex spanning cell

table having ...

  - consecutive multirow at top of row (1-1 and 1-2)
  - consecutive multirow at end of row (1-4 and 1-5)

<div class="rst-class">

standard

</div>

<table style="width:83%;">
<colgroup>
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
</colgroup>
<tbody>
<tr class="odd">
<td><blockquote>
<p>cell1-1</p>
</blockquote></td>
<td>+ cell1-2</td>
<td><blockquote>
<p>cell1-3</p>
</blockquote>
<p>-----------+</p>
<blockquote>
<p>cell2-3</p>
</blockquote></td>
<td><blockquote>
<dl>
<dt>cell1-4</dt>
<dd><ul>
<li></li>
</ul>
</dd>
</dl>
</blockquote></td>
<td><p>cell1-5</p>
<dl>
<dt>-----------+</dt>
<dd><p>cell3-5</p>
</dd>
</dl></td>
</tr>
</tbody>
</table>

---

index.md

---

# test-latex-table

<div class="toctree">

tabular longtable complex

</div>

---

longtable.md

---

# longtables

## longtable

| header1 | header2 |
| ------- | ------- |
| cell1-1 | cell1-2 |
| cell2-1 | cell2-2 |
| cell3-1 | cell3-2 |

## longtable having :widths: option

<div id="mylongtable">

| header1 | header2 |
| ------- | ------- |
| cell1-1 | cell1-2 |
| cell2-1 | cell2-2 |
| cell3-1 | cell3-2 |

</div>

See [mylongtable](#mylongtable), same as \[this one \<namedlongtable\>\](\#this-one-\<namedlongtable\>).

## longtable having :align: option

| header1 | header2 |
| ------- | ------- |
| cell1-1 | cell1-2 |
| cell2-1 | cell2-2 |
| cell3-1 | cell3-2 |

## longtable with tabularcolumn

<div class="tabularcolumns">

c|

</div>

| header1 | header2 |
| ------- | ------- |
| cell1-1 | cell1-2 |
| cell2-1 | cell2-2 |
| cell3-1 | cell3-2 |

## longtable having caption

| header1 | header2 |
| ------- | ------- |
| cell1-1 | cell1-2 |
| cell2-1 | cell2-2 |
| cell3-1 | cell3-2 |

caption for longtable

## longtable having verbatim

<table>
<thead>
<tr class="header">
<th>header1</th>
<th>header2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><pre><code>hello world</code></pre></td>
<td>cell1-2</td>
</tr>
<tr class="even">
<td>cell2-1</td>
<td>cell2-2</td>
</tr>
<tr class="odd">
<td>cell3-1</td>
<td>cell3-2</td>
</tr>
</tbody>
</table>

## longtable having both :widths: and problematic cell

<table>
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="header">
<th>header1</th>
<th>header2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><ul>
<li>item1</li>
<li>item2</li>
</ul></td>
<td>cell1-2</td>
</tr>
<tr class="even">
<td>cell2-1</td>
<td>cell2-2</td>
</tr>
<tr class="odd">
<td>cell3-1</td>
<td>cell3-2</td>
</tr>
</tbody>
</table>

## longtable having problematic cell

<table>
<thead>
<tr class="header">
<th>header1</th>
<th>header2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><ul>
<li>item1</li>
<li>item2</li>
</ul></td>
<td>cell1-2</td>
</tr>
<tr class="even">
<td>cell2-1</td>
<td>cell2-2</td>
</tr>
<tr class="odd">
<td>cell3-1</td>
<td>cell3-2</td>
</tr>
</tbody>
</table>

## longtable having both stub columns and problematic cell

<table>
<thead>
<tr class="header">
<th>header1</th>
<th>header2</th>
<th>header3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><ul>
<li>instub1-1a</li>
<li>instub1-1b</li>
</ul></td>
<td>instub1-2</td>
<td>notinstub1-3</td>
</tr>
<tr class="even">
<td>cell2-1</td>
<td>cell2-2</td>
<td>cell2-3</td>
</tr>
</tbody>
</table>

---

tabular.md

---

# tabular and tabulary

## simple table

| header1 | header2 |
| ------- | ------- |
| cell1-1 | cell1-2 |
| cell2-1 | cell2-2 |
| cell3-1 | cell3-2 |

## table having :widths: option

<div id="mytabular">

| header1 | header2 |
| ------- | ------- |
| cell1-1 | cell1-2 |
| cell2-1 | cell2-2 |
| cell3-1 | cell3-2 |

</div>

See \[this \<mytabular\>\](\#this-\<mytabular\>), same as [namedtabular]().

## table having :align: option (tabulary)

| header1 | header2 |
| ------- | ------- |
| cell1-1 | cell1-2 |
| cell2-1 | cell2-2 |
| cell3-1 | cell3-2 |

## table having :align: option (tabular)

| header1 | header2 |
| ------- | ------- |
| cell1-1 | cell1-2 |
| cell2-1 | cell2-2 |
| cell3-1 | cell3-2 |

## table with tabularcolumn

<div class="tabularcolumns">

cc

</div>

| header1 | header2 |
| ------- | ------- |
| cell1-1 | cell1-2 |
| cell2-1 | cell2-2 |
| cell3-1 | cell3-2 |

## table with cell in first column having three paragraphs

<table style="width:21%;">
<colgroup>
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="header">
<th>header1</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>cell1-1-par1</p>
<p>cell1-1-par2</p>
<p>cell1-1-par3</p></td>
</tr>
</tbody>
</table>

## table having caption

| header1 | header2 |
| ------- | ------- |
| cell1-1 | cell1-2 |
| cell2-1 | cell2-2 |
| cell3-1 | cell3-2 |

caption for table

## table having verbatim

<table>
<thead>
<tr class="header">
<th>header1</th>
<th>header2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><pre><code>hello world</code></pre></td>
<td>cell1-2</td>
</tr>
<tr class="even">
<td>cell2-1</td>
<td>cell2-2</td>
</tr>
<tr class="odd">
<td>cell3-1</td>
<td>cell3-2</td>
</tr>
</tbody>
</table>

## table having both :widths: and problematic cell

<table>
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="header">
<th>header1</th>
<th>header2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><ul>
<li>item1</li>
<li>item2</li>
</ul></td>
<td>cell1-2</td>
</tr>
<tr class="even">
<td>cell2-1</td>
<td>cell2-2</td>
</tr>
<tr class="odd">
<td>cell3-1</td>
<td>cell3-2</td>
</tr>
</tbody>
</table>

## table having problematic cell

<table>
<thead>
<tr class="header">
<th>header1</th>
<th>header2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><ul>
<li>item1</li>
<li>item2</li>
</ul></td>
<td>cell1-2</td>
</tr>
<tr class="even">
<td>cell2-1</td>
<td>cell2-2</td>
</tr>
<tr class="odd">
<td>cell3-1</td>
<td>cell3-2</td>
</tr>
</tbody>
</table>

## table having both stub columns and problematic cell

<table>
<thead>
<tr class="header">
<th>header1</th>
<th>header2</th>
<th>header3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><ul>
<li>instub1-1a</li>
<li>instub1-1b</li>
</ul></td>
<td>instub1-2</td>
<td>notinstub1-3</td>
</tr>
<tr class="even">
<td>cell2-1</td>
<td>cell2-2</td>
<td>cell2-3</td>
</tr>
</tbody>
</table>

---

index.md

---

# latex\_theme

---

index.md

---

<div class="admonition">

Notice

This generates nodes.title node before first section title.

</div>

# test-latex-title

<div class="toctree" data-numbered="">

foo bar

</div>

---

index.md

---

# test-latex-unicode

  - script small e: ℯ
  - double struck italic small i: ⅈ
  - superscript: ⁰, ¹
  - subscript: ₀, ₁

---

links.md

---

Some additional anchors to exercise ignore code

  - [Valid url](http://localhost:7777/)
  - [Bar anchor invalid (trailing slash)](http://localhost:7777/#!bar)
  - [Bar anchor invalid](http://localhost:7777#!bar) tests that default ignore anchor of \#\! does not need to be prefixed with /
  - [Top anchor invalid](http://localhost:7777/#top)
  - ['does-not-exist' anchor invalid](http://localhost:7777#does-not-exist)
  - [Valid local file](conf.py)
  - [Invalid local file](path/to/notfound)

![image](http://localhost:7777/image.png)

![](http://localhost:7777/image2.png)

  - [Valid anchored url](http://localhost:7777/anchor.html#found)

---

index.md

---

- [Example Bar invalid](http://localhost:7777/#!bar)
  - [Example Bar invalid](http://localhost:7777/#top)

---

index.md

---

- [Example valid url, no anchor](http://localhost:7777/valid)
  - [Example valid url, valid anchor](http://localhost:7777/valid#valid-anchor)
  - [Example valid url, valid quotable anchor](http://localhost:7777/valid#py:module::urllib.parse)
  - [Example valid url, invalid anchor](http://localhost:7777/valid#invalid-anchor)
  - [Example ignored url, no anchor](http://localhost:7777/ignored)
  - [Example ignored url, invalid anchor](http://localhost:7777/ignored#invalid-anchor)
  - [Example invalid url, no anchor](http://localhost:7777/invalid)
  - [Example invalid url, invalid anchor](http://localhost:7777/invalid#anchor)

---

br0ken_link.md

---

# Broken link

Some links are [broken](https://www.sphinx-doc.org/this-is-another-broken-link) but sometimes not worrying about some broken links is a valid strategy.

---

broken_link.md

---

# Broken link

Some links are [broken](https://www.sphinx-doc.org/this-is-a-broken-link) but sometimes not worrying about some broken links is a valid strategy.

---

index.md

---

<div class="toctree">

broken\_link br0ken\_link

</div>

---

index.md

---

[local server](http://localhost:7777/)

---

index.md

---

[local server](http://localhost:7777/#anchor)

---

index.md

---

[HTTPS server](https://localhost:7777/)

---

index.md

---

[local server1](http://localhost:7777/path1)

[local server2](http://localhost:7777/path2)

---

index.md

---

[Non-existing uri with localhost](https://localhost:7777/doesnotexist)

---

index.md

---

# The basic Sphinx documentation for testing

Sphinx is a tool that makes it easy to create intelligent and beautiful documentation for Python projects (or other documents consisting of multiple reStructuredText sources), written by Georg Brandl. It was originally created for the new Python documentation, and has excellent facilities for Python project documentation, but C/C++ is supported as well, and more languages are planned.

Sphinx uses reStructuredText as its markup language, and many of its strengths come from the power and straightforwardness of reStructuredText and its parsing and translating suite, the Docutils.

## features

Among its features are the following:

  - Output formats: HTML (including derivative formats such as HTML Help, Epub and Qt Help), plain text, manual pages and LaTeX or direct PDF output using rst2pdf
  - Extensive cross-references: semantic markup and automatic links for functions, classes, glossary terms and similar pieces of information
  - Hierarchical structure: easy definition of a document tree, with automatic links to siblings, parents and children
  - Automatic indices: general index as well as a module index
  - Code handling: automatic highlighting using the Pygments highlighter
  - Flexible HTML output using the Jinja 2 templating engine
  - Various extensions are available, e.g. for automatic testing of snippets and inclusion of appropriately formatted docstrings

---

index.md

---

# The `cp(1)`

  - `man(1)`
  - `ls.1`
  - `sphinx`
  - `mailx(1) <bsd-mailx/mailx.1>`
  - `!man(1)`

---

index.md

---

# test-markup-citation

This is a citation ref; [\[CITE1\]](#CITE1) and [\[CITE2\]](#CITE2).

<div id="citations">

  - <span id="CITE1" class="citation-label">CITE1</span>  
    This is a citation

  - <span id="CITE2" class="citation-label">CITE2</span>  
    This is a multiline citation

</div>

---

index.md

---

# test-markup-rubric

**This is a rubric**

**This is a multiline rubric**

**A rubric with a class**

**A rubric with a heading level 1**

**A rubric with a heading level 2**

**A rubric with a heading level 3**

**A rubric with a heading level 4**

**A rubric with a heading level 5**

**A rubric with a heading level 6**

**A rubric with a heading level 7**

---

index.md

---

# test-maxlistdepth

1.  1
    1.  2
        1.  3
            1.  4
                1.  5
                    1.  6
                        1.  7
                            1.  8
                                1.  9
                                    
                                    > 10a
                                    
                                      - 10b
                                          - \`\`\`python  
                                            def foo():

\- 1

>   - 2
>     
>     >   - 3
>     >     
>     >     >   - 4
>     >     >     
>     >     >     >   - 5
>     >     >     >     
>     >     >     >     >   - 6
>     >     >     >     >     
>     >     >     >     >     >   - 7
>     >     >     >     >     >     
>     >     >     >     >     >     >   - 8
>     >     >     >     >     >     >     1.  9
>     >     >     >     >     >     >         
>     >     >     >     >     >     >         > 10a
>     >     >     >     >     >     >         
>     >     >     >     >     >     >         1.  10b
>     >     >     >     >     >     >             
>     >     >     >     >     >     >             ``` python
>     >     >     >     >     >     >             def foo():
>     >     >     >     >     >     >             ```

\`\`\`

---

index.md

---

- Author  
    David Goodger

  - Address  
    123 Example Street Example, EX Canada A1B 2C3

  - Contact  
    <goodger@python.org>

  - Authors  
    Me; Myself; I

  - organization  
    humankind

  - date  
    $Date: 2006-05-21 22:44:42 +0200 (Son, 21 Mai 2006) $

  - status  
    This is a "work in progress"

  - revision  
    $Revision: 4564 $

  - version  
    1

  - copyright  
    This document has been placed in the public domain. You may do with it as you wish. You may copy, modify, redistribute, reattribute, sell, buy, rent, lease, destroy, or improve it, quote it at length, excerpt, incorporate, collate, fold, staple, or mutilate it, or do anything else to it that your or anyone else's heart desires.

  - field name  
    This is a generic bibliographic field.

  - field name 2  
    Generic bibliographic fields may contain multiple body elements.
    
    Like this.

  - Dedication

> For Docutils users & co-developers.

  - abstract

> This document is a demonstration of the reStructuredText markup language, containing examples of all basic reStructuredText constructs and many advanced constructs.

  - nocomments

  - orphan

  - tocdepth  
    1

<div class="meta" data-keywords="reStructuredText, demonstration, demo, parser" data-description lang=en="A demonstration of the reStructuredText
markup language, containing examples of all basic
constructs and many advanced constructs.">

</div>

# test-metadata

---

bar.md

---

# bar

---

baz.md

---

# baz

---

foo.md

---

# \<foo\>

<div class="toctree">

quux

</div>

## foo "1"

### foo.1-1

## foo.2

---

index.md

---

# Welcome to Sphinx Tests's documentation\!

Contents:

<div id="mastertoc" class="toctree" data-maxdepth="2" data-numbered="" data-caption="Table of Contents">

foo bar <https://sphinx-doc.org/> baz qux

</div>

<div class="index">

pair: "subsection"; \<subsection\>

</div>

## subsection

### subsubsection

---

quux.md

---

# quux

---

qux.md

---

qux.rst has no section title

---

index.md

---

# nested-enumerated-list

5.  Sphinx
    4.  Documentation builder
    5.  Egypt
        10) Pyramid
        11) Nile River
            24) Atbara
            25) Blue Nile
            26) Sobat
            27) Semliki
            28) Kagera
6.  Markup
    3.  reStructuredText
    4.  Markdown

---

index.md

---

# nested-tables

<table>
<thead>
<tr class="header">
<th>heading</th>
<th>heading</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>content</td>
<td><table>
<thead>
<tr class="header">
<th>heading</th>
<th>heading</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>content</td>
<td>content</td>
</tr>
</tbody>
</table></td>
</tr>
</tbody>
</table>

---

index.md

---

# test-nitpicky-warnings

:py\`prefix.anything.postfix\` :py\`prefix.anything\` :py\`anything.postfix\` :js\`prefix.anything.postfix\`

---

index.md

---

<div class="toctree" data-numbered="">

sub

</div>

---

sub.md

---

<div class="toctree">

index

</div>

---

bar.md

---

# Bar

## Bar A

![should be Fig.2.1](rimg.png)

|       |       |
| ----- | ----- |
| hello | world |

should be Table 2.1

``` python
print('hello world')
```

<div class="toctree">

baz

</div>

![should be Fig.2.3](rimg.png)

|       |       |
| ----- | ----- |
| hello | world |

should be Table 2.3

``` python
print('hello world')
```

## Bar B

### Bar B1

![should be Fig.2.4](rimg.png)

|       |       |
| ----- | ----- |
| hello | world |

should be Table 2.4

``` python
print('hello world')
```

---

baz.md

---

# Baz A

<div id="fig22">

![should be Fig.2.2](rimg.png)

</div>

<div id="table22">

|       |       |
| ----- | ----- |
| hello | world |

should be Table 2.2

</div>

<div id="CODE22">

``` python
print('hello world')
```

</div>

---

foo.md

---

# Foo

![should be Fig.1.1](rimg.png)

|       |       |
| ----- | ----- |
| hello | world |

should be Table 1.1

``` python
print('hello world')
```

## Foo A

![should be Fig.1.2](rimg.png)

![should be Fig.1.3](rimg.png)

|       |       |
| ----- | ----- |
| hello | world |

should be Table 1.2

|       |       |
| ----- | ----- |
| hello | world |

should be Table 1.3

``` python
print('hello world')
```

``` python
print('hello world')
```

### Foo A1

## Foo B

### Foo B1

![should be Fig.1.4](rimg.png)

|       |       |
| ----- | ----- |
| hello | world |

should be Table 1.4

``` python
print('hello world')
```

---

index.md

---

# test-tocdepth

<div class="toctree" data-numbered="">

foo bar

</div>

<div id="fig1">

![should be Fig.1](rimg.png)

</div>

![should be Fig.2](rimg.png)

<div id="table-1">

|       |       |
| ----- | ----- |
| hello | world |

should be Table 1

</div>

|       |       |
| ----- | ----- |
| hello | world |

should be Table 2

<div id="CODE_1">

``` python
print('hello world')
```

</div>

``` python
print('hello world')
```

  - Fig.1 is `fig1`
  - Fig.2.2 is `Figure%s <fig22>`
  - Table.1 is `table-1`
  - Table.2.2 is `Table:%s <table22>`
  - List.1 is `CODE_1`
  - List.2.2 is `Code-%s <CODE22>`
  - Section.1 is `foo`
  - Section.2.1 is `bar_a`
  - Unnumbered section is `index`
  - Invalid numfig\_format 01: `invalid <fig1>`
  - Invalid numfig\_format 02: `Fig %s %s <fig1>`
  - Fig.1 is `Fig.{number} {name} <fig1>`
  - Section.1 is `Sect.{number} {name} <foo>`

---

Bare.md

---

# Bare

<div class="productionlist">

A: <span class="title-ref">A</span> | somethingA B: <span class="title-ref">B</span> | somethingB

</div>

---

Dup1.md

---

# Dup1

<div class="productionlist">

Dup: <span class="title-ref">Dup</span> | somethingDup

</div>

---

Dup2.md

---

# Dup2

<div class="productionlist">

Dup: <span class="title-ref">Dup</span> | somethingDup

</div>

---

LineContinuation.md

---

# LineContinuation

<div class="productionlist">

lineContinuation A: B C D E F G

</div>

---

P1.md

---

# P1

<div class="productionlist">

P1 A: <span class="title-ref">A</span> | somethingA B: <span class="title-ref">B</span> | somethingB

</div>

---

P2.md

---

# P2

<div class="productionlist">

P2 A: <span class="title-ref">A</span> | somethingA B: <span class="title-ref">B</span> | somethingB

</div>

---

firstLineRule.md

---

# FirstLineRule

<div class="productionlist">

FirstLine: something SecondLine: somethingElse

</div>

---

index.md

---

<div class="toctree">

P1 P2 Bare Dup1 Dup2 firstLineRule LineContinuation

</div>

  - A: `A`
  - B: `B`
  - P1:A: `P1:A`
  - P1:B: `P1:B`
  - P2:A: `P1:A`
  - P2:B: `P2:B`
  - Explicit title A, plain: `MyTitle <A>`
  - Explicit title A, colon: `My:Title <A>`
  - Explicit title P1:A, plain: `MyTitle <P1:A>`
  - Explicit title P1:A, colon: `My:Title <P1:A>`
  - Tilde A: `~A`.
  - Tilde P1:A: `~P1:A`.
  - Tilde explicit title P1:A: `~MyTitle <P1:A>`
  - Tilde, explicit title P1:A: `MyTitle <~P1:A>`
  - Dup: `Dup`
  - FirstLine: `FirstLine`
  - SecondLine: `SecondLine`

---

index.md

---

# prolog and epilog

<div class="toctree">

restructuredtext markdown

</div>

---

restructuredtext.md

---

# sample document

This is a sample document in reST

---

index.md

---

def hello(name)
        print("hello", name)
    
    hello("Sphinx")

---

index.md

---

Inline `def foo(1 + 2 + None + "abc"): pass` code block

`` `python def foo(1 + 2 + None + "abc"): pass ``\`

---

index.md

---

# test-refonly\_bullet\_list

List A:

  - \[genindex\](\#genindex)
  - \[modindex\](\#modindex)
  - \[search\](\#search)

List B:

  - Hello
  - Sphinx
  - World

---

index.md

---

# The basic Sphinx documentation for testing

Sphinx is a tool that makes it easy to create intelligent and beautiful documentation for Python projects (or other documents consisting of multiple reStructuredText sources), written by Georg Brandl. It was originally created for the new Python documentation, and has excellent facilities for Python project documentation, but C/C++ is supported as well, and more languages are planned.

Sphinx uses reStructuredText as its markup language, and many of its strengths come from the power and straightforwardness of reStructuredText and its parsing and translating suite, the Docutils.

## features

Among its features are the following:

  - Output formats: HTML (including derivative formats such as HTML Help, Epub and Qt Help), plain text, manual pages and LaTeX or direct PDF output using rst2pdf
  - Extensive cross-references: semantic markup and automatic links for functions, classes, glossary terms and similar pieces of information
  - Hierarchical structure: easy definition of a document tree, with automatic links to siblings, parents and children
  - Automatic indices: general index as well as a module index
  - Code handling: automatic highlighting using the Pygments highlighter
  - Flexible HTML output using the Jinja 2 templating engine
  - Various extensions are available, e.g. for automatic testing of snippets and inclusion of appropriately formatted docstrings

---

index.md

---

# test-roles-download

  - `dummy.dat`
  - `another/dummy.dat`
  - `not_found.dat`
  - `Sphinx logo <https://www.sphinx-doc.org/en/master/_static/sphinx-logo.svg>`

---

index.md

---

# meta keywords

<div class="meta" data-keywords lang=en="findthiskey, thistoo, notgerman" data-keywords="thisonetoo" data-keywords lang=de="onlygerman, onlytoogerman" data-description="thisnoteither">

</div>

# Stemmer

bat findthisstemmedkey

textinheading

International

<div class="toctree">

tocitem

</div>

<span class="raw">rawword"</span>

---

nosearch.md

---

- nosearch

# nosearch

bat latex

---

tocitem.md

---

# heading 1

lorem ipsum

bat

# textinheading

lorem ipsum

可以查看 FAQ 模块中 Chinesetest 部分

模块中 CAS service部分

可以Chinesetesttwo查看

---

index.md

---

# test-smartquotes

\-- "Sphinx" is a tool that makes it easy ...

<div class="toctree">

literals

</div>

---

literals.md

---

# literals

Standard `code role with 'quotes'`

This is a Python `{'code': 'role', 'with': 'quotes'}`.

This is a `literal with 'quotes'`

---

index.md

---

# test-stylesheets

Lorem ipsum dolor

---

index.md

---

# Theming

---

bar.md

---

- tocdepth  
    2

# Bar

should be 2

## Bar A

should be 2.1

<div class="toctree">

baz

</div>

## Bar B

should be 2.2

### Bar B1

should be 2.2.1

---

baz.md

---

# Baz A

should be 2.1.1

---

foo.md

---

# Foo

should be 1

## Foo A

should be 1.1

### Foo A1

should be 1.1.1

## Foo B

should be 1.2

### Foo B1

should be 1.2.1

---

index.md

---

# test-tocdepth

<div class="toctree" data-numbered="">

foo bar

</div>

---

bar.md

---

# bar

---

baz.md

---

# baz

---

foo.md

---

# foo

<div class="toctree">

quux

</div>

## foo.1

### foo.1-1

## foo.2

---

index.md

---

# Welcome to Sphinx Tests's documentation\!

Contents:

<div id="mastertoc" class="toctree" data-maxdepth="2" data-numbered="" data-caption="Table of Contents">

foo bar <https://sphinx-doc.org/> self

</div>

<div class="only">

html

## Section for HTML

<div class="toctree">

baz

</div>

</div>

### subsection

## subsubsection

# Test for issue \#1157

This used to crash:

<div class="toctree">

</div>

<div class="toctree" hidden="">

Latest reference \<<https://sphinx-doc.org/latest/>\> Python \<<https://python.org/>\>

</div>

# Indices and tables

  - \[genindex\](\#genindex)
  - \[modindex\](\#modindex)
  - \[search\](\#search)

---

quux.md

---

# quux

---

qux.md

---

qux.rst has no section title

---

tocdepth.md

---

- tocdepth  
    2

# level 1

## level 2

### level 3

#### level 4

---

document_scoping.md

---

# Level 1

## Level 2

---

domains.md

---

# test-domain-objects

---

index.md

---

<div id="mastertoc" class="toctree" data-numbered="" data-caption="Table of Contents">

domains document\_scoping

</div>

---

foo.md

---

# foo

---

index.md

---

# test-toctree-duplicated

<div class="toctree">

foo foo

</div>

---

index.md

---

# test-toctree-empty

<div class="toctree">

</div>

---

bar_1.md

---

# Bar-1

bar

---

bar_2.md

---

# Bar-2

bar

---

bar_3.md

---

# Bar-3

bar

---

index.md

---

# Bar-4

bar

---

index.md

---

# Bar

<div class="toctree" data-glob="">

\* bar\_4/index

</div>

---

baz.md

---

# Baz

baz

---

foo.md

---

# Foo

foo

---

index.md

---

# test-toctree-glob

## normal order

<div class="toctree" data-glob="">

foo bar/index bar/\* baz qux/index hyperref \<<https://sphinx-doc.org/?q=sphinx>\>

</div>

## reversed order

<div class="toctree" data-glob="" reversed="">

foo bar/index bar/\* baz qux/index

</div>

---

quux.md

---

# Quux

quux

---

index.md

---

# Qux

<div class="toctree" data-glob="" hidden="">

  - 

</div>

---

qux_1.md

---

# Qux-1

qux

---

qux_2.md

---

# Qux-1

qux

---

foo.md

---

# foo

`word`

---

index.md

---

# test-toctree-index

<div class="toctree">

foo

</div>

<div class="toctree" data-caption="Indices">

genindex modindex search

</div>

---

bar.md

---

- tocdepth  
    2

# Bar

should be 2

## Bar A

should be 2.1

<div class="toctree">

baz

</div>

## Bar B

should be 2.2

### Bar B1

should be 2.2.1

---

baz.md

---

# Baz A

should be 2.1.1

---

foo.md

---

# Foo

should be 1

## Foo A

should be 1.1

### Foo A1

should be 1.1.1

## Foo B

should be 1.2

### Foo B1

should be 1.2.1

---

index.md

---

# test-toctree-max-depth

<div class="toctree" data-numbered="" data-maxdepth="2">

foo bar

</div>

---

qux.md

---

# test-toctree-max-depth

<div class="toctree" data-numbered="" data-maxdepth="4">

foo bar

</div>

---

alpha.md

---

# Alpha

<div class="literalinclude">

relation\_graph.txt

</div>

<div class="toctree">

bravo

</div>

---

bravo.md

---

# Bravo

<div class="literalinclude">

relation\_graph.txt

</div>

<div class="toctree">

charlie

</div>

---

charlie.md

---

# Charlie

<div class="literalinclude">

relation\_graph.txt

</div>

---

delta.md

---

# Delta

<div class="literalinclude">

relation\_graph.txt

</div>

<div class="toctree">

charlie

</div>

---

index.md

---

# test-toctree-multiple-parents

<div class="literalinclude">

relation\_graph.txt

</div>

<div class="toctree">

alpha delta

</div>

---

index.md

---

# Regression test for issue 10495

`spanish - inquisition`

---

index.md

---

# transforms-post\_transforms-missing-reference

<span class="title-ref">io.StringIO</span>

---

index.md

---

# test-trim\_doctest\_flags

`` `pycon    >>> datetime.date.now()   # doctest: +FOO    datetime.date(2008, 1, 1)  .. code-block:: none     >>> datetime.date.now()   # doctest: +BAR    datetime.date(2008, 1, 1)  .. code-block:: guess     # vim: set filetype=pycon    >>> datetime.date.now()   # doctest: +BAZ    datetime.date(2008, 1, 1)  .. testcode::     >>> datetime.date.now()   # doctest: +QUX    datetime.date(2008, 1, 1)  .. doctest::     >>> datetime.date.now()   # doctest: +QUUX    datetime.date(2008, 1, 1)  .. doctest::    :trim-doctest-flags:     >>> datetime.date.now()   # doctest: +CORGE    datetime.date(2008, 1, 1)  .. doctest::    :no-trim-doctest-flags:     >>> datetime.date.now()   # doctest: +GRAULT    datetime.date(2008, 1, 1) ``\`

---

index.md

---

# test-warnings

<div class="automodule" data-no-index="">

autodoc\_fodder

<div class="autoclass">

MarkupError

</div>

</div>

![image](foo.png)

![image](foo.*)

![image](svgimg.*)

<div class="literalinclude" data-language="none">

wrongenc.inc

</div>

Don't download `this <nonexisting.png>`.

<div class="index">

single: pair: seealso:

</div>

`` `c    import sys     sys.stdout.write('hello world!\n')  .. unknown option  This used to crash: :option:`&option`  .. missing citation  [missing]_ citation ``\`